(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function Bm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yu={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function oy(){if($p)return fl;$p=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:s,key:p,ref:r!==void 0?r:null,props:d}}return fl.Fragment=t,fl.jsx=o,fl.jsxs=o,fl}var Wp;function ly(){return Wp||(Wp=1,yu.exports=oy()),yu.exports}var v=ly(),xu={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function sy(){if(eh)return xe;eh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,R={};function V(b,z,X){this.props=b,this.context=z,this.refs=R,this.updater=X||N}V.prototype.isReactComponent={},V.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},V.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Q(){}Q.prototype=V.prototype;function H(b,z,X){this.props=b,this.context=z,this.refs=R,this.updater=X||N}var F=H.prototype=new Q;F.constructor=H,D(F,V.prototype),F.isPureReactComponent=!0;var W=Array.isArray;function K(){}var j={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function Y(b,z,X){var ie=X.ref;return{$$typeof:i,type:b,key:z,ref:ie!==void 0?ie:null,props:X}}function O(b,z){return Y(b.type,z,b.props)}function ne(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function $(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return z[X]})}var ae=/\/+/g;function ge(b,z){return typeof b=="object"&&b!==null&&b.key!=null?$(""+b.key):z.toString(36)}function me(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(K,K):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function I(b,z,X,ie,he){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var we=!1;if(b===null)we=!0;else switch(de){case"bigint":case"string":case"number":we=!0;break;case"object":switch(b.$$typeof){case i:case t:we=!0;break;case x:return we=b._init,I(we(b._payload),z,X,ie,he)}}if(we)return he=he(b),we=ie===""?"."+ge(b,0):ie,W(he)?(X="",we!=null&&(X=we.replace(ae,"$&/")+"/"),I(he,z,X,"",function(ei){return ei})):he!=null&&(ne(he)&&(he=O(he,X+(he.key==null||b&&b.key===he.key?"":(""+he.key).replace(ae,"$&/")+"/")+we)),z.push(he)),1;we=0;var ze=ie===""?".":ie+":";if(W(b))for(var Le=0;Le<b.length;Le++)ie=b[Le],de=ze+ge(ie,Le),we+=I(ie,z,X,de,he);else if(Le=C(b),typeof Le=="function")for(b=Le.call(b),Le=0;!(ie=b.next()).done;)ie=ie.value,de=ze+ge(ie,Le++),we+=I(ie,z,X,de,he);else if(de==="object"){if(typeof b.then=="function")return I(me(b),z,X,ie,he);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return we}function J(b,z,X){if(b==null)return b;var ie=[],he=0;return I(b,ie,"","",function(de){return z.call(X,de,he++)}),ie}function ee(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var pe=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},ye={map:J,forEach:function(b,z,X){J(b,function(){z.apply(this,arguments)},X)},count:function(b){var z=0;return J(b,function(){z++}),z},toArray:function(b){return J(b,function(z){return z})||[]},only:function(b){if(!ne(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return xe.Activity=S,xe.Children=ye,xe.Component=V,xe.Fragment=o,xe.Profiler=r,xe.PureComponent=H,xe.StrictMode=s,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,xe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return j.H.useMemoCache(b)}},xe.cache=function(b){return function(){return b.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(b,z,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ie=D({},b.props),he=b.key;if(z!=null)for(de in z.key!==void 0&&(he=""+z.key),z)!fe.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(ie[de]=z[de]);var de=arguments.length-2;if(de===1)ie.children=X;else if(1<de){for(var we=Array(de),ze=0;ze<de;ze++)we[ze]=arguments[ze+2];ie.children=we}return Y(b.type,he,ie)},xe.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:d,_context:b},b},xe.createElement=function(b,z,X){var ie,he={},de=null;if(z!=null)for(ie in z.key!==void 0&&(de=""+z.key),z)fe.call(z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=z[ie]);var we=arguments.length-2;if(we===1)he.children=X;else if(1<we){for(var ze=Array(we),Le=0;Le<we;Le++)ze[Le]=arguments[Le+2];he.children=ze}if(b&&b.defaultProps)for(ie in we=b.defaultProps,we)he[ie]===void 0&&(he[ie]=we[ie]);return Y(b,de,he)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(b){return{$$typeof:g,render:b}},xe.isValidElement=ne,xe.lazy=function(b){return{$$typeof:x,_payload:{_status:-1,_result:b},_init:ee}},xe.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},xe.startTransition=function(b){var z=j.T,X={};j.T=X;try{var ie=b(),he=j.S;he!==null&&he(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(K,pe)}catch(de){pe(de)}finally{z!==null&&X.types!==null&&(z.types=X.types),j.T=z}},xe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},xe.use=function(b){return j.H.use(b)},xe.useActionState=function(b,z,X){return j.H.useActionState(b,z,X)},xe.useCallback=function(b,z){return j.H.useCallback(b,z)},xe.useContext=function(b){return j.H.useContext(b)},xe.useDebugValue=function(){},xe.useDeferredValue=function(b,z){return j.H.useDeferredValue(b,z)},xe.useEffect=function(b,z){return j.H.useEffect(b,z)},xe.useEffectEvent=function(b){return j.H.useEffectEvent(b)},xe.useId=function(){return j.H.useId()},xe.useImperativeHandle=function(b,z,X){return j.H.useImperativeHandle(b,z,X)},xe.useInsertionEffect=function(b,z){return j.H.useInsertionEffect(b,z)},xe.useLayoutEffect=function(b,z){return j.H.useLayoutEffect(b,z)},xe.useMemo=function(b,z){return j.H.useMemo(b,z)},xe.useOptimistic=function(b,z){return j.H.useOptimistic(b,z)},xe.useReducer=function(b,z,X){return j.H.useReducer(b,z,X)},xe.useRef=function(b){return j.H.useRef(b)},xe.useState=function(b){return j.H.useState(b)},xe.useSyncExternalStore=function(b,z,X){return j.H.useSyncExternalStore(b,z,X)},xe.useTransition=function(){return j.H.useTransition()},xe.version="19.2.3",xe}var th;function Bu(){return th||(th=1,xu.exports=sy()),xu.exports}var Z=Bu();const wu=Bm(Z);var Tu={exports:{}},pl={},Su={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function ay(){return nh||(nh=1,(function(i){function t(I,J){var ee=I.length;I.push(J);e:for(;0<ee;){var pe=ee-1>>>1,ye=I[pe];if(0<r(ye,J))I[pe]=J,I[ee]=ye,ee=pe;else break e}}function o(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var J=I[0],ee=I.pop();if(ee!==J){I[0]=ee;e:for(var pe=0,ye=I.length,b=ye>>>1;pe<b;){var z=2*(pe+1)-1,X=I[z],ie=z+1,he=I[ie];if(0>r(X,ee))ie<ye&&0>r(he,X)?(I[pe]=he,I[ie]=ee,pe=ie):(I[pe]=X,I[z]=ee,pe=z);else if(ie<ye&&0>r(he,ee))I[pe]=he,I[ie]=ee,pe=ie;else break e}}return J}function r(I,J){var ee=I.sortIndex-J.sortIndex;return ee!==0?ee:I.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],x=1,S=null,E=3,C=!1,N=!1,D=!1,R=!1,V=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(I){for(var J=o(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=I)s(m),J.sortIndex=J.expirationTime,t(y,J);else break;J=o(m)}}function W(I){if(D=!1,F(I),!N)if(o(y)!==null)N=!0,K||(K=!0,$());else{var J=o(m);J!==null&&me(W,J.startTime-I)}}var K=!1,j=-1,fe=5,Y=-1;function O(){return R?!0:!(i.unstable_now()-Y<fe)}function ne(){if(R=!1,K){var I=i.unstable_now();Y=I;var J=!0;try{e:{N=!1,D&&(D=!1,Q(j),j=-1),C=!0;var ee=E;try{t:{for(F(I),S=o(y);S!==null&&!(S.expirationTime>I&&O());){var pe=S.callback;if(typeof pe=="function"){S.callback=null,E=S.priorityLevel;var ye=pe(S.expirationTime<=I);if(I=i.unstable_now(),typeof ye=="function"){S.callback=ye,F(I),J=!0;break t}S===o(y)&&s(y),F(I)}else s(y);S=o(y)}if(S!==null)J=!0;else{var b=o(m);b!==null&&me(W,b.startTime-I),J=!1}}break e}finally{S=null,E=ee,C=!1}J=void 0}}finally{J?$():K=!1}}}var $;if(typeof H=="function")$=function(){H(ne)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ge=ae.port2;ae.port1.onmessage=ne,$=function(){ge.postMessage(null)}}else $=function(){V(ne,0)};function me(I,J){j=V(function(){I(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(I){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var ee=E;E=J;try{return I()}finally{E=ee}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ee=E;E=I;try{return J()}finally{E=ee}},i.unstable_scheduleCallback=function(I,J,ee){var pe=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,I){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ee+ye,I={id:x++,callback:J,priorityLevel:I,startTime:ee,expirationTime:ye,sortIndex:-1},ee>pe?(I.sortIndex=ee,t(m,I),o(y)===null&&I===o(m)&&(D?(Q(j),j=-1):D=!0,me(W,ee-pe))):(I.sortIndex=ye,t(y,I),N||C||(N=!0,K||(K=!0,$()))),I},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(I){var J=E;return function(){var ee=E;E=J;try{return I.apply(this,arguments)}finally{E=ee}}}})(Eu)),Eu}var ih;function ry(){return ih||(ih=1,Su.exports=ay()),Su.exports}var _u={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function uy(){if(oh)return ft;oh=1;var i=Bu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,m,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:m,implementation:x}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(y,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return d(y,m,null,x)},ft.flushSync=function(y){var m=p.T,x=s.p;try{if(p.T=null,s.p=2,y)return y()}finally{p.T=m,s.p=x,s.d.f()}},ft.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},ft.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ft.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var x=m.as,S=g(x,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):x==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=g(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},ft.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,S=g(x,m.crossOrigin);s.d.L(y,x,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(y,m){if(typeof y=="string")if(m){var x=g(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},ft.requestFormReset=function(y){s.d.r(y)},ft.unstable_batchedUpdates=function(y,m){return y(m)},ft.useFormState=function(y,m,x){return p.H.useFormState(y,m,x)},ft.useFormStatus=function(){return p.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var lh;function cy(){if(lh)return _u.exports;lh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_u.exports=uy(),_u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function dy(){if(sh)return pl;sh=1;var i=ry(),t=Bu(),o=cy();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var f=l.return;if(f===null)break;var h=f.alternate;if(h===null){if(a=f.return,a!==null){l=a;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===l)return y(f),e;if(h===a)return y(f),n;h=h.sibling}throw Error(s(188))}if(l.return!==a.return)l=f,a=h;else{for(var T=!1,_=f.child;_;){if(_===l){T=!0,l=f,a=h;break}if(_===a){T=!0,a=f,l=h;break}_=_.sibling}if(!T){for(_=h.child;_;){if(_===l){T=!0,l=h,a=f;break}if(_===a){T=!0,a=h,l=f;break}_=_.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case V:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case H:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var me=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],ye=-1;function b(e){return{current:e}}function z(e){0>ye||(e.current=pe[ye],pe[ye]=null,ye--)}function X(e,n){ye++,pe[ye]=e.current,e.current=n}var ie=b(null),he=b(null),de=b(null),we=b(null);function ze(e,n){switch(X(de,n),X(he,e),X(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sp(n),e=Ep(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ie),X(ie,e)}function Le(){z(ie),z(he),z(de)}function ei(e){e.memoizedState!==null&&X(we,e);var n=ie.current,l=Ep(n,e.type);n!==l&&(X(he,e),X(ie,l))}function Ei(e){he.current===e&&(z(ie),z(he)),we.current===e&&(z(we),rl._currentValue=ee)}var vo,Tl;function sn(e){if(vo===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);vo=n&&n[1]||"",Tl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vo+e+Tl}var yo=!1;function xo(e,n){if(!e||yo)return"";yo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(G){var k=G}Reflect.construct(e,[],B)}else{try{B.call()}catch(G){k=G}e.call(B.prototype)}}else{try{throw Error()}catch(G){k=G}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(G){if(G&&k&&typeof G.stack=="string")return[G.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),T=h[0],_=h[1];if(T&&_){var A=T.split(`
`),L=_.split(`
`);for(f=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(a===A.length||f===L.length)for(a=A.length-1,f=L.length-1;1<=a&&0<=f&&A[a]!==L[f];)f--;for(;1<=a&&0<=f;a--,f--)if(A[a]!==L[f]){if(a!==1||f!==1)do if(a--,f--,0>f||A[a]!==L[f]){var P=`
`+A[a].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=a&&0<=f);break}}}finally{yo=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?sn(l):""}function Sl(e,n){switch(e.tag){case 26:case 27:case 5:return sn(e.type);case 16:return sn("Lazy");case 13:return e.child!==n&&n!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return xo(e.type,!1);case 11:return xo(e.type.render,!1);case 1:return xo(e.type,!0);case 31:return sn("Activity");default:return""}}function El(e){try{var n="",l=null;do n+=Sl(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var re=Object.prototype.hasOwnProperty,ke=i.unstable_scheduleCallback,De=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,vt=i.unstable_requestPaint,$e=i.unstable_now,At=i.unstable_getCurrentPriorityLevel,_i=i.unstable_ImmediatePriority,Wu=i.unstable_UserBlockingPriority,_l=i.unstable_NormalPriority,V0=i.unstable_LowPriority,ec=i.unstable_IdlePriority,P0=i.log,q0=i.unstable_setDisableYieldValue,To=null,bt=null;function Nn(e){if(typeof P0=="function"&&q0(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(To,e)}catch{}}var wt=Math.clz32?Math.clz32:F0,B0=Math.log,O0=Math.LN2;function F0(e){return e>>>=0,e===0?32:31-(B0(e)/O0|0)|0}var Cl=256,Al=262144,bl=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wl(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var f=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~h,a!==0?f=ti(a):(T&=_,T!==0?f=ti(T):l||(l=_&~e,l!==0&&(f=ti(l))))):(_=a&~h,_!==0?f=ti(_):T!==0?f=ti(T):l||(l=a&~e,l!==0&&(f=ti(l)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:f}function So(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Y0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var e=bl;return bl<<=1,(bl&62914560)===0&&(bl=4194304),e}function sa(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Eo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function J0(e,n,l,a,f,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,L=e.hiddenUpdates;for(l=T&~l;0<l;){var P=31-wt(l),B=1<<P;_[P]=0,A[P]=-1;var k=L[P];if(k!==null)for(L[P]=null,P=0;P<k.length;P++){var G=k[P];G!==null&&(G.lane&=-536870913)}l&=~B}a!==0&&nc(e,a,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function nc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-wt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function ic(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-wt(l),f=1<<a;f&n|e[a]&n&&(e[a]|=n),l&=~f}}function oc(e,n){var l=n&-n;return l=(l&42)!==0?1:aa(l),(l&(e.suspendedLanes|n))!==0?0:l}function aa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ra(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function sc(e,n){var l=J.p;try{return J.p=e,n()}finally{J.p=l}}var Mn=Math.random().toString(36).slice(2),at="__reactFiber$"+Mn,yt="__reactProps$"+Mn,Ci="__reactContainer$"+Mn,ua="__reactEvents$"+Mn,X0="__reactListeners$"+Mn,K0="__reactHandles$"+Mn,ac="__reactResources$"+Mn,_o="__reactMarker$"+Mn;function ca(e){delete e[at],delete e[yt],delete e[ua],delete e[X0],delete e[K0]}function Ai(e){var n=e[at];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Ci]||l[at]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Mp(e);e!==null;){if(l=e[at])return l;e=Mp(e)}return n}e=l,l=e.parentNode}return null}function bi(e){if(e=e[at]||e[Ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Co(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function wi(e){var n=e[ac];return n||(n=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ot(e){e[_o]=!0}var rc=new Set,uc={};function ni(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(uc[e]=n,e=0;e<n.length;e++)rc.add(n[e])}var Q0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},dc={};function j0(e){return re.call(dc,e)?!0:re.call(cc,e)?!1:Q0.test(e)?dc[e]=!0:(cc[e]=!0,!1)}function Nl(e,n,l){if(j0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Ml(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function an(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Z0(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function da(e){if(!e._valueTracker){var n=fc(e)?"checked":"value";e._valueTracker=Z0(e,n,""+e[n])}}function pc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=fc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function Rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $0=/[\n"\\]/g;function Gt(e){return e.replace($0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(e,n,l,a,f,h,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kt(n)):e.value!==""+kt(n)&&(e.value=""+kt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?pa(e,T,kt(n)):l!=null?pa(e,T,kt(l)):a!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+kt(_):e.removeAttribute("name")}function hc(e,n,l,a,f,h,T,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){da(e);return}l=l!=null?""+kt(l):"",n=n!=null?""+kt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),da(e)}function pa(e,n,l){n==="number"&&Rl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Mi(e,n,l,a){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&a&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function mc(e,n,l){if(n!=null&&(n=""+kt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+kt(l):""}function gc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(me(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=kt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),da(e)}function Ri(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var W0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||W0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function yc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in n)a=n[f],n.hasOwnProperty(f)&&l[f]!==a&&vc(e,f,a)}else for(var h in n)n.hasOwnProperty(h)&&vc(e,h,n[h])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(e){return tg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var ma=null;function ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Di=null;function xc(e){var n=bi(e);if(n&&(e=n.stateNode)){var l=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fa(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var f=a[yt]||null;if(!f)throw Error(s(90));fa(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&pc(a)}break e;case"textarea":mc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Mi(e,!!l.multiple,n,!1)}}}var va=!1;function Tc(e,n,l){if(va)return e(n,l);va=!0;try{var a=e(n);return a}finally{if(va=!1,(Ii!==null||Di!==null)&&(ys(),Ii&&(n=Ii,e=Di,Di=Ii=null,xc(n),e)))for(n=0;n<e.length;n++)xc(e[n])}}function Ao(e,n){var l=e.stateNode;if(l===null)return null;var a=l[yt]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(un)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){ya=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{ya=!1}var Rn=null,xa=null,Dl=null;function Sc(){if(Dl)return Dl;var e,n=xa,l=n.length,a,f="value"in Rn?Rn.value:Rn.textContent,h=f.length;for(e=0;e<l&&n[e]===f[e];e++);var T=l-e;for(a=1;a<=T&&n[l-a]===f[h-a];a++);return Dl=f.slice(e,1<a?1-a:void 0)}function Ul(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function Ec(){return!1}function xt(e){function n(l,a,f,h,T){this._reactName=l,this._targetInst=f,this.type=a,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ll:Ec,this.isPropagationStopped=Ec,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),n}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=xt(ii),wo=S({},ii,{view:0,detail:0}),ng=xt(wo),Ta,Sa,No,Gl=S({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Ta=e.screenX-No.screenX,Sa=e.screenY-No.screenY):Sa=Ta=0,No=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),_c=xt(Gl),ig=S({},Gl,{dataTransfer:0}),og=xt(ig),lg=S({},wo,{relatedTarget:0}),Ea=xt(lg),sg=S({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=xt(sg),rg=S({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=xt(rg),cg=S({},ii,{data:0}),Cc=xt(cg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pg[e])?!!n[e]:!1}function _a(){return hg}var mg=S({},wo,{key:function(e){if(e.key){var n=dg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=xt(mg),vg=S({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=xt(vg),yg=S({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),xg=xt(yg),Tg=S({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=xt(Tg),Eg=S({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=xt(Eg),Cg=S({},ii,{newState:0,oldState:0}),Ag=xt(Cg),bg=[9,13,27,32],Ca=un&&"CompositionEvent"in window,Mo=null;un&&"documentMode"in document&&(Mo=document.documentMode);var wg=un&&"TextEvent"in window&&!Mo,bc=un&&(!Ca||Mo&&8<Mo&&11>=Mo),wc=" ",Nc=!1;function Mc(e,n){switch(e){case"keyup":return bg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function Ng(e,n){switch(e){case"compositionend":return Rc(n);case"keypress":return n.which!==32?null:(Nc=!0,wc);case"textInput":return e=n.data,e===wc&&Nc?null:e;default:return null}}function Mg(e,n){if(Ui)return e==="compositionend"||!Ca&&Mc(e,n)?(e=Sc(),Dl=xa=Rn=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bc&&n.locale!=="ko"?null:n.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Rg[e.type]:n==="textarea"}function Dc(e,n,l,a){Ii?Di?Di.push(a):Di=[a]:Ii=a,n=As(n,"onChange"),0<n.length&&(l=new kl("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var Ro=null,Io=null;function Ig(e){mp(e,0)}function Hl(e){var n=Co(e);if(pc(n))return e}function Uc(e,n){if(e==="change")return n}var Lc=!1;if(un){var Aa;if(un){var ba="oninput"in document;if(!ba){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),ba=typeof kc.oninput=="function"}Aa=ba}else Aa=!1;Lc=Aa&&(!document.documentMode||9<document.documentMode)}function Gc(){Ro&&(Ro.detachEvent("onpropertychange",Hc),Io=Ro=null)}function Hc(e){if(e.propertyName==="value"&&Hl(Io)){var n=[];Dc(n,Io,e,ga(e)),Tc(Ig,n)}}function Dg(e,n,l){e==="focusin"?(Gc(),Ro=n,Io=l,Ro.attachEvent("onpropertychange",Hc)):e==="focusout"&&Gc()}function Ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(Io)}function Lg(e,n){if(e==="click")return Hl(n)}function kg(e,n){if(e==="input"||e==="change")return Hl(n)}function Gg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nt=typeof Object.is=="function"?Object.is:Gg;function Do(e,n){if(Nt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var f=l[a];if(!re.call(n,f)||!Nt(e[f],n[f]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vc(e,n){var l=zc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zc(l)}}function Pc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Pc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Rl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Rl(e.document)}return n}function wa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Hg=un&&"documentMode"in document&&11>=document.documentMode,Li=null,Na=null,Uo=null,Ma=!1;function Bc(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ma||Li==null||Li!==Rl(a)||(a=Li,"selectionStart"in a&&wa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Uo&&Do(Uo,a)||(Uo=a,a=As(Na,"onSelect"),0<a.length&&(n=new kl("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Li)))}function oi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ki={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Ra={},Oc={};un&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function li(e){if(Ra[e])return Ra[e];if(!ki[e])return e;var n=ki[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Oc)return Ra[e]=n[l];return e}var Fc=li("animationend"),Yc=li("animationiteration"),Jc=li("animationstart"),zg=li("transitionrun"),Vg=li("transitionstart"),Pg=li("transitioncancel"),Xc=li("transitionend"),Kc=new Map,Ia="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ia.push("scrollEnd");function Xt(e,n){Kc.set(e,n),ni(n,[e])}var zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Gi=0,Da=0;function Vl(){for(var e=Gi,n=Da=Gi=0;n<e;){var l=Ht[n];Ht[n++]=null;var a=Ht[n];Ht[n++]=null;var f=Ht[n];Ht[n++]=null;var h=Ht[n];if(Ht[n++]=null,a!==null&&f!==null){var T=a.pending;T===null?f.next=f:(f.next=T.next,T.next=f),a.pending=f}h!==0&&Qc(l,f,h)}}function Pl(e,n,l,a){Ht[Gi++]=e,Ht[Gi++]=n,Ht[Gi++]=l,Ht[Gi++]=a,Da|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ua(e,n,l,a){return Pl(e,n,l,a),ql(e)}function si(e,n){return Pl(e,null,null,n),ql(e)}function Qc(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var f=!1,h=e.return;h!==null;)h.childLanes|=l,a=h.alternate,a!==null&&(a.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-wt(l),e=h.hiddenUpdates,a=e[f],a===null?e[f]=[n]:a.push(n),n.lane=l|536870912),h):null}function ql(e){if(50<tl)throw tl=0,Br=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Hi={};function qg(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,n,l,a){return new qg(e,n,l,a)}function La(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,n){var l=e.alternate;return l===null?(l=Mt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function jc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bl(e,n,l,a,f,h){var T=0;if(a=e,typeof e=="function")La(e)&&(T=1);else if(typeof e=="string")T=Jv(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Mt(31,l,n,f),e.elementType=Y,e.lanes=h,e;case D:return ai(l.children,f,h,n);case R:T=8,f|=24;break;case V:return e=Mt(12,l,n,f|2),e.elementType=V,e.lanes=h,e;case W:return e=Mt(13,l,n,f),e.elementType=W,e.lanes=h,e;case K:return e=Mt(19,l,n,f),e.elementType=K,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:T=10;break e;case Q:T=9;break e;case F:T=11;break e;case j:T=14;break e;case fe:T=16,a=null;break e}T=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Mt(T,l,n,f),n.elementType=e,n.type=a,n.lanes=h,n}function ai(e,n,l,a){return e=Mt(7,e,a,n),e.lanes=l,e}function ka(e,n,l){return e=Mt(6,e,null,n),e.lanes=l,e}function Zc(e){var n=Mt(18,null,null,0);return n.stateNode=e,n}function Ga(e,n,l){return n=Mt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $c=new WeakMap;function zt(e,n){if(typeof e=="object"&&e!==null){var l=$c.get(e);return l!==void 0?l:(n={value:e,source:n,stack:El(n)},$c.set(e,n),n)}return{value:e,source:n,stack:El(n)}}var zi=[],Vi=0,Ol=null,Lo=0,Vt=[],Pt=0,In=null,Wt=1,en="";function dn(e,n){zi[Vi++]=Lo,zi[Vi++]=Ol,Ol=e,Lo=n}function Wc(e,n,l){Vt[Pt++]=Wt,Vt[Pt++]=en,Vt[Pt++]=In,In=e;var a=Wt;e=en;var f=32-wt(a)-1;a&=~(1<<f),l+=1;var h=32-wt(n)+f;if(30<h){var T=f-f%5;h=(a&(1<<T)-1).toString(32),a>>=T,f-=T,Wt=1<<32-wt(n)+f|l<<f|a,en=h+e}else Wt=1<<h|l<<f|a,en=e}function Ha(e){e.return!==null&&(dn(e,1),Wc(e,1,0))}function za(e){for(;e===Ol;)Ol=zi[--Vi],zi[Vi]=null,Lo=zi[--Vi],zi[Vi]=null;for(;e===In;)In=Vt[--Pt],Vt[Pt]=null,en=Vt[--Pt],Vt[Pt]=null,Wt=Vt[--Pt],Vt[Pt]=null}function ed(e,n){Vt[Pt++]=Wt,Vt[Pt++]=en,Vt[Pt++]=In,Wt=n.id,en=n.overflow,In=e}var rt=null,Fe=null,Ne=!1,Dn=null,qt=!1,Va=Error(s(519));function Un(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(zt(n,e)),Va}function td(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[at]=e,n[yt]=a,l){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(l=0;l<il.length;l++)Ce(il[l],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),hc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),gc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||xp(n.textContent,l)?(a.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),a.onScroll!=null&&Ce("scroll",n),a.onScrollEnd!=null&&Ce("scrollend",n),a.onClick!=null&&(n.onclick=rn),n=!0):n=!1,n||Un(e,!0)}function nd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:rt=rt.return}}function Pi(e){if(e!==rt)return!1;if(!Ne)return nd(e),Ne=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||iu(e.type,e.memoizedProps)),l=!l),l&&Fe&&Un(e),nd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Fe=Np(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Fe=Np(e)}else n===27?(n=Fe,Xn(e.type)?(e=ru,ru=null,Fe=e):Fe=n):Fe=rt?Ot(e.stateNode.nextSibling):null;return!0}function ri(){Fe=rt=null,Ne=!1}function Pa(){var e=Dn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Dn=null),e}function ko(e){Dn===null?Dn=[e]:Dn.push(e)}var qa=b(null),ui=null,fn=null;function Ln(e,n,l){X(qa,n._currentValue),n._currentValue=l}function pn(e){e._currentValue=qa.current,z(qa)}function Ba(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Oa(e,n,l,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var T=f.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=f;for(var A=0;A<n.length;A++)if(_.context===n[A]){h.lanes|=l,_=h.alternate,_!==null&&(_.lanes|=l),Ba(h.return,l,e),a||(T=null);break e}h=_.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Ba(T,l,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function qi(e,n,l,a){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var _=f.type;Nt(f.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(f===we.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}f=f.return}e!==null&&Oa(n,e,l,a),n.flags|=262144}function Fl(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ci(e){ui=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return id(ui,e)}function Yl(e,n){return ui===null&&ci(e),id(e,n)}function id(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},fn===null){if(e===null)throw Error(s(308));fn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fn=fn.next=n;return l}var Bg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Og=i.unstable_scheduleCallback,Fg=i.unstable_NormalPriority,We={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Bg,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&Og(Fg,function(){e.controller.abort()})}var Ho=null,Ya=0,Bi=0,Oi=null;function Yg(e,n){if(Ho===null){var l=Ho=[];Ya=0,Bi=Kr(),Oi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ya++,n.then(od,od),n}function od(){if(--Ya===0&&Ho!==null){Oi!==null&&(Oi.status="fulfilled");var e=Ho;Ho=null,Bi=0,Oi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Jg(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(a.status="rejected",a.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),a}var ld=I.S;I.S=function(e,n){Of=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yg(e,n),ld!==null&&ld(e,n)};var di=b(null);function Ja(){var e=di.current;return e!==null?e:Be.pooledCache}function Jl(e,n){n===null?X(di,di.current):X(di,n.pool)}function sd(){var e=Ja();return e===null?null:{parent:We._currentValue,pool:e}}var Fi=Error(s(460)),Xa=Error(s(474)),Xl=Error(s(542)),Kl={then:function(){}};function ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rd(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(rn,rn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cd(e),e;default:if(typeof n.status=="string")n.then(rn,rn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=a}},function(a){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cd(e),e}throw pi=n,Fi}}function fi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(pi=l,Fi):l}}var pi=null;function ud(){if(pi===null)throw Error(s(459));var e=pi;return pi=null,e}function cd(e){if(e===Fi||e===Xl)throw Error(s(483))}var Yi=null,zo=0;function Ql(e){var n=zo;return zo+=1,Yi===null&&(Yi=[]),rd(Yi,e,n)}function Vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function jl(e,n){throw n.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function dd(e){function n(M,w){if(e){var U=M.deletions;U===null?(M.deletions=[w],M.flags|=16):U.push(w)}}function l(M,w){if(!e)return null;for(;w!==null;)n(M,w),w=w.sibling;return null}function a(M){for(var w=new Map;M!==null;)M.key!==null?w.set(M.key,M):w.set(M.index,M),M=M.sibling;return w}function f(M,w){return M=cn(M,w),M.index=0,M.sibling=null,M}function h(M,w,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<w?(M.flags|=67108866,w):U):(M.flags|=67108866,w)):(M.flags|=1048576,w)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,w,U,q){return w===null||w.tag!==6?(w=ka(U,M.mode,q),w.return=M,w):(w=f(w,U),w.return=M,w)}function A(M,w,U,q){var ue=U.type;return ue===D?P(M,w,U.props.children,q,U.key):w!==null&&(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===fe&&fi(ue)===w.type)?(w=f(w,U.props),Vo(w,U),w.return=M,w):(w=Bl(U.type,U.key,U.props,null,M.mode,q),Vo(w,U),w.return=M,w)}function L(M,w,U,q){return w===null||w.tag!==4||w.stateNode.containerInfo!==U.containerInfo||w.stateNode.implementation!==U.implementation?(w=Ga(U,M.mode,q),w.return=M,w):(w=f(w,U.children||[]),w.return=M,w)}function P(M,w,U,q,ue){return w===null||w.tag!==7?(w=ai(U,M.mode,q,ue),w.return=M,w):(w=f(w,U),w.return=M,w)}function B(M,w,U){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=ka(""+w,M.mode,U),w.return=M,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return U=Bl(w.type,w.key,w.props,null,M.mode,U),Vo(U,w),U.return=M,U;case N:return w=Ga(w,M.mode,U),w.return=M,w;case fe:return w=fi(w),B(M,w,U)}if(me(w)||$(w))return w=ai(w,M.mode,U,null),w.return=M,w;if(typeof w.then=="function")return B(M,Ql(w),U);if(w.$$typeof===H)return B(M,Yl(M,w),U);jl(M,w)}return null}function k(M,w,U,q){var ue=w!==null?w.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:_(M,w,""+U,q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===ue?A(M,w,U,q):null;case N:return U.key===ue?L(M,w,U,q):null;case fe:return U=fi(U),k(M,w,U,q)}if(me(U)||$(U))return ue!==null?null:P(M,w,U,q,null);if(typeof U.then=="function")return k(M,w,Ql(U),q);if(U.$$typeof===H)return k(M,w,Yl(M,U),q);jl(M,U)}return null}function G(M,w,U,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return M=M.get(U)||null,_(w,M,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return M=M.get(q.key===null?U:q.key)||null,A(w,M,q,ue);case N:return M=M.get(q.key===null?U:q.key)||null,L(w,M,q,ue);case fe:return q=fi(q),G(M,w,U,q,ue)}if(me(q)||$(q))return M=M.get(U)||null,P(w,M,q,ue,null);if(typeof q.then=="function")return G(M,w,U,Ql(q),ue);if(q.$$typeof===H)return G(M,w,U,Yl(w,q),ue);jl(w,q)}return null}function oe(M,w,U,q){for(var ue=null,Me=null,le=w,Se=w=0,be=null;le!==null&&Se<U.length;Se++){le.index>Se?(be=le,le=null):be=le.sibling;var Re=k(M,le,U[Se],q);if(Re===null){le===null&&(le=be);break}e&&le&&Re.alternate===null&&n(M,le),w=h(Re,w,Se),Me===null?ue=Re:Me.sibling=Re,Me=Re,le=be}if(Se===U.length)return l(M,le),Ne&&dn(M,Se),ue;if(le===null){for(;Se<U.length;Se++)le=B(M,U[Se],q),le!==null&&(w=h(le,w,Se),Me===null?ue=le:Me.sibling=le,Me=le);return Ne&&dn(M,Se),ue}for(le=a(le);Se<U.length;Se++)be=G(le,M,Se,U[Se],q),be!==null&&(e&&be.alternate!==null&&le.delete(be.key===null?Se:be.key),w=h(be,w,Se),Me===null?ue=be:Me.sibling=be,Me=be);return e&&le.forEach(function($n){return n(M,$n)}),Ne&&dn(M,Se),ue}function ce(M,w,U,q){if(U==null)throw Error(s(151));for(var ue=null,Me=null,le=w,Se=w=0,be=null,Re=U.next();le!==null&&!Re.done;Se++,Re=U.next()){le.index>Se?(be=le,le=null):be=le.sibling;var $n=k(M,le,Re.value,q);if($n===null){le===null&&(le=be);break}e&&le&&$n.alternate===null&&n(M,le),w=h($n,w,Se),Me===null?ue=$n:Me.sibling=$n,Me=$n,le=be}if(Re.done)return l(M,le),Ne&&dn(M,Se),ue;if(le===null){for(;!Re.done;Se++,Re=U.next())Re=B(M,Re.value,q),Re!==null&&(w=h(Re,w,Se),Me===null?ue=Re:Me.sibling=Re,Me=Re);return Ne&&dn(M,Se),ue}for(le=a(le);!Re.done;Se++,Re=U.next())Re=G(le,M,Se,Re.value,q),Re!==null&&(e&&Re.alternate!==null&&le.delete(Re.key===null?Se:Re.key),w=h(Re,w,Se),Me===null?ue=Re:Me.sibling=Re,Me=Re);return e&&le.forEach(function(iy){return n(M,iy)}),Ne&&dn(M,Se),ue}function qe(M,w,U,q){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:e:{for(var ue=U.key;w!==null;){if(w.key===ue){if(ue=U.type,ue===D){if(w.tag===7){l(M,w.sibling),q=f(w,U.props.children),q.return=M,M=q;break e}}else if(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===fe&&fi(ue)===w.type){l(M,w.sibling),q=f(w,U.props),Vo(q,U),q.return=M,M=q;break e}l(M,w);break}else n(M,w);w=w.sibling}U.type===D?(q=ai(U.props.children,M.mode,q,U.key),q.return=M,M=q):(q=Bl(U.type,U.key,U.props,null,M.mode,q),Vo(q,U),q.return=M,M=q)}return T(M);case N:e:{for(ue=U.key;w!==null;){if(w.key===ue)if(w.tag===4&&w.stateNode.containerInfo===U.containerInfo&&w.stateNode.implementation===U.implementation){l(M,w.sibling),q=f(w,U.children||[]),q.return=M,M=q;break e}else{l(M,w);break}else n(M,w);w=w.sibling}q=Ga(U,M.mode,q),q.return=M,M=q}return T(M);case fe:return U=fi(U),qe(M,w,U,q)}if(me(U))return oe(M,w,U,q);if($(U)){if(ue=$(U),typeof ue!="function")throw Error(s(150));return U=ue.call(U),ce(M,w,U,q)}if(typeof U.then=="function")return qe(M,w,Ql(U),q);if(U.$$typeof===H)return qe(M,w,Yl(M,U),q);jl(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,w!==null&&w.tag===6?(l(M,w.sibling),q=f(w,U),q.return=M,M=q):(l(M,w),q=ka(U,M.mode,q),q.return=M,M=q),T(M)):l(M,w)}return function(M,w,U,q){try{zo=0;var ue=qe(M,w,U,q);return Yi=null,ue}catch(le){if(le===Fi||le===Xl)throw le;var Me=Mt(29,le,null,M.mode);return Me.lanes=q,Me.return=M,Me}finally{}}}var hi=dd(!0),fd=dd(!1),kn=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var f=a.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),a.pending=n,n=ql(e),Qc(e,null,l),n}return Pl(e,a,n,l),ql(e)}function Po(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,ic(e,l)}}function ja(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var f=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?f=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?f=h=n:h=h.next=n}else f=h=n;l={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Za=!1;function qo(){if(Za){var e=Oi;if(e!==null)throw e}}function Bo(e,n,l,a){Za=!1;var f=e.updateQueue;kn=!1;var h=f.firstBaseUpdate,T=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var A=_,L=A.next;A.next=null,T===null?h=L:T.next=L,T=A;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==T&&(_===null?P.firstBaseUpdate=L:_.next=L,P.lastBaseUpdate=A))}if(h!==null){var B=f.baseState;T=0,P=L=A=null,_=h;do{var k=_.lane&-536870913,G=k!==_.lane;if(G?(Ae&k)===k:(a&k)===k){k!==0&&k===Bi&&(Za=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var oe=e,ce=_;k=n;var qe=l;switch(ce.tag){case 1:if(oe=ce.payload,typeof oe=="function"){B=oe.call(qe,B,k);break e}B=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ce.payload,k=typeof oe=="function"?oe.call(qe,B,k):oe,k==null)break e;B=S({},B,k);break e;case 2:kn=!0}}k=_.callback,k!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[k]:G.push(k))}else G={lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(L=P=G,A=B):P=P.next=G,T|=k;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;G=_,_=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);P===null&&(A=B),f.baseState=A,f.firstBaseUpdate=L,f.lastBaseUpdate=P,h===null&&(f.shared.lanes=0),Bn|=T,e.lanes=T,e.memoizedState=B}}function pd(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hd(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)pd(l[e],n)}var Ji=b(null),Zl=b(0);function md(e,n){e=En,X(Zl,e),X(Ji,n),En=e|n.baseLanes}function $a(){X(Zl,En),X(Ji,Ji.current)}function Wa(){En=Zl.current,z(Ji),z(Zl)}var Rt=b(null),Bt=null;function zn(e){var n=e.alternate;X(je,je.current&1),X(Rt,e),Bt===null&&(n===null||Ji.current!==null||n.memoizedState!==null)&&(Bt=e)}function er(e){X(je,je.current),X(Rt,e),Bt===null&&(Bt=e)}function gd(e){e.tag===22?(X(je,je.current),X(Rt,e),Bt===null&&(Bt=e)):Vn()}function Vn(){X(je,je.current),X(Rt,Rt.current)}function It(e){z(Rt),Bt===e&&(Bt=null),z(je)}var je=b(0);function $l(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||su(l)||au(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hn=0,Te=null,Ve=null,et=null,Wl=!1,Xi=!1,mi=!1,es=0,Oo=0,Ki=null,Xg=0;function Xe(){throw Error(s(321))}function tr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Nt(e[l],n[l]))return!1;return!0}function nr(e,n,l,a,f,h){return hn=h,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Wd:vr,mi=!1,h=l(a,f),mi=!1,Xi&&(h=yd(n,l,a,f)),vd(e),h}function vd(e){I.H=Jo;var n=Ve!==null&&Ve.next!==null;if(hn=0,et=Ve=Te=null,Wl=!1,Oo=0,Ki=null,n)throw Error(s(300));e===null||tt||(e=e.dependencies,e!==null&&Fl(e)&&(tt=!0))}function yd(e,n,l,a){Te=e;var f=0;do{if(Xi&&(Ki=null),Oo=0,Xi=!1,25<=f)throw Error(s(301));if(f+=1,et=Ve=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}I.H=ef,h=n(l,a)}while(Xi);return h}function Kg(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Te.flags|=1024),n}function ir(){var e=es!==0;return es=0,e}function or(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function lr(e){if(Wl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wl=!1}hn=0,et=Ve=Te=null,Xi=!1,Oo=es=0,Ki=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Te.memoizedState=et=e:et=et.next=e,et}function Ze(){if(Ve===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var n=et===null?Te.memoizedState:et.next;if(n!==null)et=n,Ve=e;else{if(e===null)throw Te.alternate===null?Error(s(467)):Error(s(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},et===null?Te.memoizedState=et=e:et=et.next=e}return et}function ts(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Oo;return Oo+=1,Ki===null&&(Ki=[]),e=rd(Ki,e,n),n=Te,(et===null?n.memoizedState:et.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Wd:vr),e}function ns(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===H)return ut(e)}throw Error(s(438,String(e)))}function sr(e){var n=null,l=Te.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=Te.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=ts(),Te.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=O;return n.index++,l}function mn(e,n){return typeof n=="function"?n(e):n}function is(e){var n=Ze();return ar(n,Ve,e)}function ar(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var f=e.baseQueue,h=a.pending;if(h!==null){if(f!==null){var T=f.next;f.next=h.next,h.next=T}n.baseQueue=f=h,a.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var _=T=null,A=null,L=n,P=!1;do{var B=L.lane&-536870913;if(B!==L.lane?(Ae&B)===B:(hn&B)===B){var k=L.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),B===Bi&&(P=!0);else if((hn&k)===k){L=L.next,k===Bi&&(P=!0);continue}else B={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(_=A=B,T=h):A=A.next=B,Te.lanes|=k,Bn|=k;B=L.action,mi&&l(h,B),h=L.hasEagerState?L.eagerState:l(h,B)}else k={lane:B,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(_=A=k,T=h):A=A.next=k,Te.lanes|=B,Bn|=B;L=L.next}while(L!==null&&L!==n);if(A===null?T=h:A.next=_,!Nt(h,e.memoizedState)&&(tt=!0,P&&(l=Oi,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=A,a.lastRenderedState=h}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function rr(e){var n=Ze(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,f=l.pending,h=n.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do h=e(h,T.action),T=T.next;while(T!==f);Nt(h,n.memoizedState)||(tt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,a]}function xd(e,n,l){var a=Te,f=Ze(),h=Ne;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=n();var T=!Nt((Ve||f).memoizedState,l);if(T&&(f.memoizedState=l,tt=!0),f=f.queue,dr(Ed.bind(null,a,f,e),[e]),f.getSnapshot!==n||T||et!==null&&et.memoizedState.tag&1){if(a.flags|=2048,Qi(9,{destroy:void 0},Sd.bind(null,a,f,l,n),null),Be===null)throw Error(s(349));h||(hn&127)!==0||Td(a,n,l)}return l}function Td(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Te.updateQueue,n===null?(n=ts(),Te.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Sd(e,n,l,a){n.value=l,n.getSnapshot=a,_d(n)&&Cd(e)}function Ed(e,n,l){return l(function(){_d(n)&&Cd(e)})}function _d(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Nt(e,l)}catch{return!0}}function Cd(e){var n=si(e,2);n!==null&&Ct(n,e,2)}function ur(e){var n=ht();if(typeof e=="function"){var l=e;if(e=l(),mi){Nn(!0);try{l()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},n}function Ad(e,n,l,a){return e.baseState=l,ar(e,Ve,typeof a=="function"?a:mn)}function Qg(e,n,l,a,f){if(ss(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};I.T!==null?l(!0):h.isTransition=!1,a(h),l=n.pending,l===null?(h.next=n.pending=h,bd(n,h)):(h.next=l.next,n.pending=l.next=h)}}function bd(e,n){var l=n.action,a=n.payload,f=e.state;if(n.isTransition){var h=I.T,T={};I.T=T;try{var _=l(f,a),A=I.S;A!==null&&A(T,_),wd(e,n,_)}catch(L){cr(e,n,L)}finally{h!==null&&T.types!==null&&(h.types=T.types),I.T=h}}else try{h=l(f,a),wd(e,n,h)}catch(L){cr(e,n,L)}}function wd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Nd(e,n,a)},function(a){return cr(e,n,a)}):Nd(e,n,l)}function Nd(e,n,l){n.status="fulfilled",n.value=l,Md(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,bd(e,l)))}function cr(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Md(n),n=n.next;while(n!==a)}e.action=null}function Md(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rd(e,n){return n}function Id(e,n){if(Ne){var l=Be.formState;if(l!==null){e:{var a=Te;if(Ne){if(Fe){t:{for(var f=Fe,h=qt;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ot(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Fe=Ot(f.nextSibling),a=f.data==="F!";break e}}Un(a)}a=!1}a&&(n=l[0])}}return l=ht(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:n},l.queue=a,l=jd.bind(null,Te,a),a.dispatch=l,a=ur(!1),h=gr.bind(null,Te,!1,a.queue),a=ht(),f={state:n,dispatch:null,action:e,pending:null},a.queue=f,l=Qg.bind(null,Te,f,h,l),f.dispatch=l,a.memoizedState=e,[n,l,!1]}function Dd(e){var n=Ze();return Ud(n,Ve,e)}function Ud(e,n,l){if(n=ar(e,n,Rd)[0],e=is(mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Fo(n)}catch(T){throw T===Fi?Xl:T}else a=n;n=Ze();var f=n.queue,h=f.dispatch;return l!==n.memoizedState&&(Te.flags|=2048,Qi(9,{destroy:void 0},jg.bind(null,f,l),null)),[a,h,e]}function jg(e,n){e.action=n}function Ld(e){var n=Ze(),l=Ve;if(l!==null)return Ud(n,l,e);Ze(),n=n.memoizedState,l=Ze();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Qi(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=Te.updateQueue,n===null&&(n=ts(),Te.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function kd(){return Ze().memoizedState}function os(e,n,l,a){var f=ht();Te.flags|=e,f.memoizedState=Qi(1|n,{destroy:void 0},l,a===void 0?null:a)}function ls(e,n,l,a){var f=Ze();a=a===void 0?null:a;var h=f.memoizedState.inst;Ve!==null&&a!==null&&tr(a,Ve.memoizedState.deps)?f.memoizedState=Qi(n,h,l,a):(Te.flags|=e,f.memoizedState=Qi(1|n,h,l,a))}function Gd(e,n){os(8390656,8,e,n)}function dr(e,n){ls(2048,8,e,n)}function Zg(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=ts(),Te.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Hd(e){var n=Ze().memoizedState;return Zg({ref:n,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function zd(e,n){return ls(4,2,e,n)}function Vd(e,n){return ls(4,4,e,n)}function Pd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qd(e,n,l){l=l!=null?l.concat([e]):null,ls(4,4,Pd.bind(null,n,e),l)}function fr(){}function Bd(e,n){var l=Ze();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&tr(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function Od(e,n){var l=Ze();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&tr(n,a[1]))return a[0];if(a=e(),mi){Nn(!0);try{e()}finally{Nn(!1)}}return l.memoizedState=[a,n],a}function pr(e,n,l){return l===void 0||(hn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Yf(),Te.lanes|=e,Bn|=e,l)}function Fd(e,n,l,a){return Nt(l,n)?l:Ji.current!==null?(e=pr(e,l,a),Nt(e,n)||(tt=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Ae&261930)===0?(tt=!0,e.memoizedState=l):(e=Yf(),Te.lanes|=e,Bn|=e,n)}function Yd(e,n,l,a,f){var h=J.p;J.p=h!==0&&8>h?h:8;var T=I.T,_={};I.T=_,gr(e,!1,n,l);try{var A=f(),L=I.S;if(L!==null&&L(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=Jg(A,a);Yo(e,n,P,Lt(e))}else Yo(e,n,a,Lt(e))}catch(B){Yo(e,n,{then:function(){},status:"rejected",reason:B},Lt())}finally{J.p=h,T!==null&&_.types!==null&&(T.types=_.types),I.T=T}}function $g(){}function hr(e,n,l,a){if(e.tag!==5)throw Error(s(476));var f=Jd(e).queue;Yd(e,f,n,ee,l===null?$g:function(){return Xd(e),l(a)})}function Jd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:ee},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xd(e){var n=Jd(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},Lt())}function mr(){return ut(rl)}function Kd(){return Ze().memoizedState}function Qd(){return Ze().memoizedState}function Wg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Lt();e=Gn(l);var a=Hn(n,e,l);a!==null&&(Ct(a,n,l),Po(a,n,l)),n={cache:Fa()},e.payload=n;return}n=n.return}}function ev(e,n,l){var a=Lt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ss(e)?Zd(n,l):(l=Ua(e,n,l,a),l!==null&&(Ct(l,e,a),$d(l,n,a)))}function jd(e,n,l){var a=Lt();Yo(e,n,l,a)}function Yo(e,n,l,a){var f={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ss(e))Zd(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,_=h(T,l);if(f.hasEagerState=!0,f.eagerState=_,Nt(_,T))return Pl(e,n,f,0),Be===null&&Vl(),!1}catch{}finally{}if(l=Ua(e,n,f,a),l!==null)return Ct(l,e,a),$d(l,n,a),!0}return!1}function gr(e,n,l,a){if(a={lane:2,revertLane:Kr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ss(e)){if(n)throw Error(s(479))}else n=Ua(e,l,a,2),n!==null&&Ct(n,e,2)}function ss(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Zd(e,n){Xi=Wl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function $d(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,ic(e,l)}}var Jo={readContext:ut,use:ns,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Jo.useEffectEvent=Xe;var Wd={readContext:ut,use:ns,useCallback:function(e,n){return ht().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Gd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,os(4194308,4,Pd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return os(4194308,4,e,n)},useInsertionEffect:function(e,n){os(4,2,e,n)},useMemo:function(e,n){var l=ht();n=n===void 0?null:n;var a=e();if(mi){Nn(!0);try{e()}finally{Nn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=ht();if(l!==void 0){var f=l(n);if(mi){Nn(!0);try{l(n)}finally{Nn(!1)}}}else f=n;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=ev.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var n=ht();return e={current:e},n.memoizedState=e},useState:function(e){e=ur(e);var n=e.queue,l=jd.bind(null,Te,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:fr,useDeferredValue:function(e,n){var l=ht();return pr(l,e,n)},useTransition:function(){var e=ur(!1);return e=Yd.bind(null,Te,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=Te,f=ht();if(Ne){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Be===null)throw Error(s(349));(Ae&127)!==0||Td(a,n,l)}f.memoizedState=l;var h={value:l,getSnapshot:n};return f.queue=h,Gd(Ed.bind(null,a,h,e),[e]),a.flags|=2048,Qi(9,{destroy:void 0},Sd.bind(null,a,h,l,n),null),l},useId:function(){var e=ht(),n=Be.identifierPrefix;if(Ne){var l=en,a=Wt;l=(a&~(1<<32-wt(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=es++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Xg++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mr,useFormState:Id,useActionState:Id,useOptimistic:function(e){var n=ht();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=gr.bind(null,Te,!0,l),l.dispatch=n,[e,n]},useMemoCache:sr,useCacheRefresh:function(){return ht().memoizedState=Wg.bind(null,Te)},useEffectEvent:function(e){var n=ht(),l={impl:e};return n.memoizedState=l,function(){if((Ue&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},vr={readContext:ut,use:ns,useCallback:Bd,useContext:ut,useEffect:dr,useImperativeHandle:qd,useInsertionEffect:zd,useLayoutEffect:Vd,useMemo:Od,useReducer:is,useRef:kd,useState:function(){return is(mn)},useDebugValue:fr,useDeferredValue:function(e,n){var l=Ze();return Fd(l,Ve.memoizedState,e,n)},useTransition:function(){var e=is(mn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:xd,useId:Kd,useHostTransitionStatus:mr,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,n){var l=Ze();return Ad(l,Ve,e,n)},useMemoCache:sr,useCacheRefresh:Qd};vr.useEffectEvent=Hd;var ef={readContext:ut,use:ns,useCallback:Bd,useContext:ut,useEffect:dr,useImperativeHandle:qd,useInsertionEffect:zd,useLayoutEffect:Vd,useMemo:Od,useReducer:rr,useRef:kd,useState:function(){return rr(mn)},useDebugValue:fr,useDeferredValue:function(e,n){var l=Ze();return Ve===null?pr(l,e,n):Fd(l,Ve.memoizedState,e,n)},useTransition:function(){var e=rr(mn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:xd,useId:Kd,useHostTransitionStatus:mr,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,n){var l=Ze();return Ve!==null?Ad(l,Ve,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:sr,useCacheRefresh:Qd};ef.useEffectEvent=Hd;function yr(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var xr={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=Lt(),f=Gn(a);f.payload=n,l!=null&&(f.callback=l),n=Hn(e,f,a),n!==null&&(Ct(n,e,a),Po(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=Lt(),f=Gn(a);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Hn(e,f,a),n!==null&&(Ct(n,e,a),Po(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Lt(),a=Gn(l);a.tag=2,n!=null&&(a.callback=n),n=Hn(e,a,l),n!==null&&(Ct(n,e,l),Po(n,e,l))}};function tf(e,n,l,a,f,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,T):n.prototype&&n.prototype.isPureReactComponent?!Do(l,a)||!Do(f,h):!0}function nf(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&xr.enqueueReplaceState(n,n.state,null)}function gi(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function of(e){zl(e)}function lf(e){console.error(e)}function sf(e){zl(e)}function as(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function af(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tr(e,n,l){return l=Gn(l),l.tag=3,l.payload={element:null},l.callback=function(){as(e,n)},l}function rf(e){return e=Gn(e),e.tag=3,e}function uf(e,n,l,a){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var h=a.value;e.payload=function(){return f(h)},e.callback=function(){af(n,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){af(n,l,a),typeof f!="function"&&(On===null?On=new Set([this]):On.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function tv(e,n,l,a,f){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&qi(n,l,f,!0),l=Rt.current,l!==null){switch(l.tag){case 31:case 13:return Bt===null?xs():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=f,a===Kl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Yr(e,a,f)),!1;case 22:return l.flags|=65536,a===Kl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Yr(e,a,f)),!1}throw Error(s(435,l.tag))}return Yr(e,a,f),xs(),!1}if(Ne)return n=Rt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,a!==Va&&(e=Error(s(422),{cause:a}),ko(zt(e,l)))):(a!==Va&&(n=Error(s(423),{cause:a}),ko(zt(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=zt(a,l),f=Tr(e.stateNode,a,f),ja(e,f),Ke!==4&&(Ke=2)),!1;var h=Error(s(520),{cause:a});if(h=zt(h,l),el===null?el=[h]:el.push(h),Ke!==4&&(Ke=2),n===null)return!0;a=zt(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Tr(l.stateNode,a,e),ja(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(On===null||!On.has(h))))return l.flags|=65536,f&=-f,l.lanes|=f,f=rf(f),uf(f,e,l,a),ja(l,f),!1}l=l.return}while(l!==null);return!1}var Sr=Error(s(461)),tt=!1;function ct(e,n,l,a){n.child=e===null?fd(n,null,l,a):hi(n,e.child,l,a)}function cf(e,n,l,a,f){l=l.render;var h=n.ref;if("ref"in a){var T={};for(var _ in a)_!=="ref"&&(T[_]=a[_])}else T=a;return ci(n),a=nr(e,n,l,T,h,f),_=ir(),e!==null&&!tt?(or(e,n,f),gn(e,n,f)):(Ne&&_&&Ha(n),n.flags|=1,ct(e,n,a,f),n.child)}function df(e,n,l,a,f){if(e===null){var h=l.type;return typeof h=="function"&&!La(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,ff(e,n,h,a,f)):(e=Bl(l.type,null,a,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Mr(e,f)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:Do,l(T,a)&&e.ref===n.ref)return gn(e,n,f)}return n.flags|=1,e=cn(h,a),e.ref=n.ref,e.return=n,n.child=e}function ff(e,n,l,a,f){if(e!==null){var h=e.memoizedProps;if(Do(h,a)&&e.ref===n.ref)if(tt=!1,n.pendingProps=a=h,Mr(e,f))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,gn(e,n,f)}return Er(e,n,l,a,f)}function pf(e,n,l,a){var f=a.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(a=n.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~h}else a=0,n.child=null;return hf(e,n,h,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(n,h!==null?h.cachePool:null),h!==null?md(n,h):$a(),gd(n);else return a=n.lanes=536870912,hf(e,n,h!==null?h.baseLanes|l:l,l,a)}else h!==null?(Jl(n,h.cachePool),md(n,h),Vn(),n.memoizedState=null):(e!==null&&Jl(n,null),$a(),Vn());return ct(e,n,f,l),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hf(e,n,l,a,f){var h=Ja();return h=h===null?null:{parent:We._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&Jl(n,null),$a(),gd(n),e!==null&&qi(e,n,a,!0),n.childLanes=f,null}function rs(e,n){return n=cs({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function mf(e,n,l){return hi(n,e.child,null,l),e=rs(n,n.pendingProps),e.flags|=2,It(n),n.memoizedState=null,e}function nv(e,n,l){var a=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ne){if(a.mode==="hidden")return e=rs(n,a),n.lanes=536870912,Xo(null,e);if(er(n),(e=Fe)?(e=wp(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:Wt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},l=Zc(e),l.return=n,n.child=l,rt=n,Fe=null)):e=null,e===null)throw Un(n);return n.lanes=536870912,null}return rs(n,a)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(er(n),f)if(n.flags&256)n.flags&=-257,n=mf(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(tt||qi(e,n,l,!1),f=(l&e.childLanes)!==0,tt||f){if(a=Be,a!==null&&(T=oc(a,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,si(e,T),Ct(a,e,T),Sr;xs(),n=mf(e,n,l)}else e=h.treeContext,Fe=Ot(T.nextSibling),rt=n,Ne=!0,Dn=null,qt=!1,e!==null&&ed(n,e),n=rs(n,a),n.flags|=4096;return n}return e=cn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function us(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Er(e,n,l,a,f){return ci(n),l=nr(e,n,l,a,void 0,f),a=ir(),e!==null&&!tt?(or(e,n,f),gn(e,n,f)):(Ne&&a&&Ha(n),n.flags|=1,ct(e,n,l,f),n.child)}function gf(e,n,l,a,f,h){return ci(n),n.updateQueue=null,l=yd(n,a,l,f),vd(e),a=ir(),e!==null&&!tt?(or(e,n,h),gn(e,n,h)):(Ne&&a&&Ha(n),n.flags|=1,ct(e,n,l,h),n.child)}function vf(e,n,l,a,f){if(ci(n),n.stateNode===null){var h=Hi,T=l.contextType;typeof T=="object"&&T!==null&&(h=ut(T)),h=new l(a,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=xr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=a,h.state=n.memoizedState,h.refs={},Ka(n),T=l.contextType,h.context=typeof T=="object"&&T!==null?ut(T):Hi,h.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(yr(n,l,T,a),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&xr.enqueueReplaceState(h,h.state,null),Bo(n,a,h,f),qo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,A=gi(l,_);h.props=A;var L=h.context,P=l.contextType;T=Hi,typeof P=="object"&&P!==null&&(T=ut(P));var B=l.getDerivedStateFromProps;P=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||L!==T)&&nf(n,h,a,T),kn=!1;var k=n.memoizedState;h.state=k,Bo(n,a,h,f),qo(),L=n.memoizedState,_||k!==L||kn?(typeof B=="function"&&(yr(n,l,B,a),L=n.memoizedState),(A=kn||tf(n,l,A,a,k,L,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=L),h.props=a,h.state=L,h.context=T,a=A):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{h=n.stateNode,Qa(e,n),T=n.memoizedProps,P=gi(l,T),h.props=P,B=n.pendingProps,k=h.context,L=l.contextType,A=Hi,typeof L=="object"&&L!==null&&(A=ut(L)),_=l.getDerivedStateFromProps,(L=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==B||k!==A)&&nf(n,h,a,A),kn=!1,k=n.memoizedState,h.state=k,Bo(n,a,h,f),qo();var G=n.memoizedState;T!==B||k!==G||kn||e!==null&&e.dependencies!==null&&Fl(e.dependencies)?(typeof _=="function"&&(yr(n,l,_,a),G=n.memoizedState),(P=kn||tf(n,l,P,a,k,G,A)||e!==null&&e.dependencies!==null&&Fl(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,G,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,G,A)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=G),h.props=a,h.state=G,h.context=A,a=P):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),a=!1)}return h=a,us(e,n),a=(n.flags&128)!==0,h||a?(h=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&a?(n.child=hi(n,e.child,null,f),n.child=hi(n,null,l,f)):ct(e,n,l,f),n.memoizedState=h.state,e=n.child):e=gn(e,n,f),e}function yf(e,n,l,a){return ri(),n.flags|=256,ct(e,n,l,a),n.child}var _r={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cr(e){return{baseLanes:e,cachePool:sd()}}function Ar(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Ut),e}function xf(e,n,l){var a=n.pendingProps,f=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ne){if(f?zn(n):Vn(),(e=Fe)?(e=wp(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:Wt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},l=Zc(e),l.return=n,n.child=l,rt=n,Fe=null)):e=null,e===null)throw Un(n);return au(e)?n.lanes=32:n.lanes=536870912,null}var _=a.children;return a=a.fallback,f?(Vn(),f=n.mode,_=cs({mode:"hidden",children:_},f),a=ai(a,f,l,null),_.return=n,a.return=n,_.sibling=a,n.child=_,a=n.child,a.memoizedState=Cr(l),a.childLanes=Ar(e,T,l),n.memoizedState=_r,Xo(null,a)):(zn(n),br(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(h)n.flags&256?(zn(n),n.flags&=-257,n=wr(e,n,l)):n.memoizedState!==null?(Vn(),n.child=e.child,n.flags|=128,n=null):(Vn(),_=a.fallback,f=n.mode,a=cs({mode:"visible",children:a.children},f),_=ai(_,f,l,null),_.flags|=2,a.return=n,_.return=n,a.sibling=_,n.child=a,hi(n,e.child,null,l),a=n.child,a.memoizedState=Cr(l),a.childLanes=Ar(e,T,l),n.memoizedState=_r,n=Xo(null,a));else if(zn(n),au(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var L=T.dgst;T=L,a=Error(s(419)),a.stack="",a.digest=T,ko({value:a,source:null,stack:null}),n=wr(e,n,l)}else if(tt||qi(e,n,l,!1),T=(l&e.childLanes)!==0,tt||T){if(T=Be,T!==null&&(a=oc(T,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,si(e,a),Ct(T,e,a),Sr;su(_)||xs(),n=wr(e,n,l)}else su(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Fe=Ot(_.nextSibling),rt=n,Ne=!0,Dn=null,qt=!1,e!==null&&ed(n,e),n=br(n,a.children),n.flags|=4096);return n}return f?(Vn(),_=a.fallback,f=n.mode,A=e.child,L=A.sibling,a=cn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,L!==null?_=cn(L,_):(_=ai(_,f,l,null),_.flags|=2),_.return=n,a.return=n,a.sibling=_,n.child=a,Xo(null,a),a=n.child,_=e.child.memoizedState,_===null?_=Cr(l):(f=_.cachePool,f!==null?(A=We._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=sd(),_={baseLanes:_.baseLanes|l,cachePool:f}),a.memoizedState=_,a.childLanes=Ar(e,T,l),n.memoizedState=_r,Xo(e.child,a)):(zn(n),l=e.child,e=l.sibling,l=cn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function br(e,n){return n=cs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cs(e,n){return e=Mt(22,e,null,n),e.lanes=0,e}function wr(e,n,l){return hi(n,e.child,null,l),e=br(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tf(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Ba(e.return,n,l)}function Nr(e,n,l,a,f,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:f,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=f,T.treeForkCount=h)}function Sf(e,n,l){var a=n.pendingProps,f=a.revealOrder,h=a.tail;a=a.children;var T=je.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,X(je,T),ct(e,n,a,l),a=Ne?Lo:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,l,n);else if(e.tag===19)Tf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&$l(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Nr(n,!1,f,l,h,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&$l(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Nr(n,!0,l,null,h,a);break;case"together":Nr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function gn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Bn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(qi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=cn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=cn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Mr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fl(e)))}function iv(e,n,l){switch(n.tag){case 3:ze(n,n.stateNode.containerInfo),Ln(n,We,e.memoizedState.cache),ri();break;case 27:case 5:ei(n);break;case 4:ze(n,n.stateNode.containerInfo);break;case 10:Ln(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,er(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?xf(e,n,l):(zn(n),e=gn(e,n,l),e!==null?e.sibling:null);zn(n);break;case 19:var f=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(qi(e,n,l,!1),a=(l&n.childLanes)!==0),f){if(a)return Sf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(je,je.current),a)break;return null;case 22:return n.lanes=0,pf(e,n,l,n.pendingProps);case 24:Ln(n,We,e.memoizedState.cache)}return gn(e,n,l)}function Ef(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!Mr(e,l)&&(n.flags&128)===0)return tt=!1,iv(e,n,l);tt=(e.flags&131072)!==0}else tt=!1,Ne&&(n.flags&1048576)!==0&&Wc(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=fi(n.elementType),n.type=e,typeof e=="function")La(e)?(a=gi(e,a),n.tag=1,n=vf(null,n,e,a,l)):(n.tag=0,n=Er(null,n,e,a,l));else{if(e!=null){var f=e.$$typeof;if(f===F){n.tag=11,n=cf(null,n,e,a,l);break e}else if(f===j){n.tag=14,n=df(null,n,e,a,l);break e}}throw n=ge(e)||e,Error(s(306,n,""))}}return n;case 0:return Er(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,f=gi(a,n.pendingProps),vf(e,n,a,f,l);case 3:e:{if(ze(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var h=n.memoizedState;f=h.element,Qa(e,n),Bo(n,a,null,l);var T=n.memoizedState;if(a=T.cache,Ln(n,We,a),a!==h.cache&&Oa(n,[We],l,!0),qo(),a=T.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=yf(e,n,a,l);break e}else if(a!==f){f=zt(Error(s(424)),n),ko(f),n=yf(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=Ot(e.firstChild),rt=n,Ne=!0,Dn=null,qt=!0,l=fd(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ri(),a===f){n=gn(e,n,l);break e}ct(e,n,a,l)}n=n.child}return n;case 26:return us(e,n),e===null?(l=Up(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ne||(l=n.type,e=n.pendingProps,a=bs(de.current).createElement(l),a[at]=n,a[yt]=e,dt(a,l,e),ot(a),n.stateNode=a):n.memoizedState=Up(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ei(n),e===null&&Ne&&(a=n.stateNode=Rp(n.type,n.pendingProps,de.current),rt=n,qt=!0,f=Fe,Xn(n.type)?(ru=f,Fe=Ot(a.firstChild)):Fe=f),ct(e,n,n.pendingProps.children,l),us(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ne&&((f=a=Fe)&&(a=Uv(a,n.type,n.pendingProps,qt),a!==null?(n.stateNode=a,rt=n,Fe=Ot(a.firstChild),qt=!1,f=!0):f=!1),f||Un(n)),ei(n),f=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,a=h.children,iu(f,h)?a=null:T!==null&&iu(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=nr(e,n,Kg,null,null,l),rl._currentValue=f),us(e,n),ct(e,n,a,l),n.child;case 6:return e===null&&Ne&&((e=l=Fe)&&(l=Lv(l,n.pendingProps,qt),l!==null?(n.stateNode=l,rt=n,Fe=null,e=!0):e=!1),e||Un(n)),null;case 13:return xf(e,n,l);case 4:return ze(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=hi(n,null,a,l):ct(e,n,a,l),n.child;case 11:return cf(e,n,n.type,n.pendingProps,l);case 7:return ct(e,n,n.pendingProps,l),n.child;case 8:return ct(e,n,n.pendingProps.children,l),n.child;case 12:return ct(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,Ln(n,n.type,a.value),ct(e,n,a.children,l),n.child;case 9:return f=n.type._context,a=n.pendingProps.children,ci(n),f=ut(f),a=a(f),n.flags|=1,ct(e,n,a,l),n.child;case 14:return df(e,n,n.type,n.pendingProps,l);case 15:return ff(e,n,n.type,n.pendingProps,l);case 19:return Sf(e,n,l);case 31:return nv(e,n,l);case 22:return pf(e,n,l,n.pendingProps);case 24:return ci(n),a=ut(We),e===null?(f=Ja(),f===null&&(f=Be,h=Fa(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=l),f=h),n.memoizedState={parent:a,cache:f},Ka(n),Ln(n,We,f)):((e.lanes&l)!==0&&(Qa(e,n),Bo(n,null,null,l),qo()),f=e.memoizedState,h=n.memoizedState,f.parent!==a?(f={parent:a,cache:a},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ln(n,We,a)):(a=h.cache,Ln(n,We,a),a!==f.cache&&Oa(n,[We],l,!0))),ct(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function vn(e){e.flags|=4}function Rr(e,n,l,a,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Qf())e.flags|=8192;else throw pi=Kl,Xa}else e.flags&=-16777217}function _f(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zp(n))if(Qf())e.flags|=8192;else throw pi=Kl,Xa}function ds(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tc():536870912,e.lanes|=n,Wi|=n)}function Ko(e,n){if(!Ne)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function ov(e,n,l){var a=n.pendingProps;switch(za(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),pn(We),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Pi(n)?vn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pa())),Ye(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(vn(n),h!==null?(Ye(n),_f(n,h)):(Ye(n),Rr(n,f,null,a,l))):h?h!==e.memoizedState?(vn(n),Ye(n),_f(n,h)):(Ye(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&vn(n),Ye(n),Rr(n,f,e,a,l)),null;case 27:if(Ei(n),l=de.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&vn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}e=ie.current,Pi(n)?td(n):(e=Rp(f,a,l),n.stateNode=e,vn(n))}return Ye(n),null;case 5:if(Ei(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&vn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}if(h=ie.current,Pi(n))td(n);else{var T=bs(de.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?T.createElement(f,{is:a.is}):T.createElement(f)}}h[at]=n,h[yt]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(dt(h,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&vn(n)}}return Ye(n),Rr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&vn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=de.current,Pi(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,f=rt,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[at]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||xp(e.nodeValue,l)),e||Un(n,!0)}else e=bs(e).createTextNode(a),e[at]=n,n.stateNode=e}return Ye(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=Pi(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[at]=n}else ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),e=!1}else l=Pa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(It(n),n):(It(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ye(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Pi(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[at]=n}else ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else f=Pa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(It(n),n):(It(n),null)}return It(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==f&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),ds(n,n.updateQueue),Ye(n),null);case 4:return Le(),e===null&&$r(n.stateNode.containerInfo),Ye(n),null;case 10:return pn(n.type),Ye(n),null;case 19:if(z(je),a=n.memoizedState,a===null)return Ye(n),null;if(f=(n.flags&128)!==0,h=a.rendering,h===null)if(f)Ko(a,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=$l(e),h!==null){for(n.flags|=128,Ko(a,!1),e=h.updateQueue,n.updateQueue=e,ds(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)jc(l,e),l=l.sibling;return X(je,je.current&1|2),Ne&&dn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&$e()>gs&&(n.flags|=128,f=!0,Ko(a,!1),n.lanes=4194304)}else{if(!f)if(e=$l(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ds(n,e),Ko(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!Ne)return Ye(n),null}else 2*$e()-a.renderingStartTime>gs&&l!==536870912&&(n.flags|=128,f=!0,Ko(a,!1),n.lanes=4194304);a.isBackwards?(h.sibling=n.child,n.child=h):(e=a.last,e!==null?e.sibling=h:n.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=$e(),e.sibling=null,l=je.current,X(je,f?l&1|2:l&1),Ne&&dn(n,a.treeForkCount),e):(Ye(n),null);case 22:case 23:return It(n),Wa(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),l=n.updateQueue,l!==null&&ds(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&z(di),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),pn(We),Ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function lv(e,n){switch(za(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pn(We),Le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ei(n),null;case 31:if(n.memoizedState!==null){if(It(n),n.alternate===null)throw Error(s(340));ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(It(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(je),null;case 4:return Le(),null;case 10:return pn(n.type),null;case 22:case 23:return It(n),Wa(),e!==null&&z(di),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return pn(We),null;case 25:return null;default:return null}}function Cf(e,n){switch(za(n),n.tag){case 3:pn(We),Le();break;case 26:case 27:case 5:Ei(n);break;case 4:Le();break;case 31:n.memoizedState!==null&&It(n);break;case 13:It(n);break;case 19:z(je);break;case 10:pn(n.type);break;case 22:case 23:It(n),Wa(),e!==null&&z(di);break;case 24:pn(We)}}function Qo(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var f=a.next;l=f;do{if((l.tag&e)===e){a=void 0;var h=l.create,T=l.inst;a=h(),T.destroy=a}l=l.next}while(l!==f)}}catch(_){He(n,n.return,_)}}function Pn(e,n,l){try{var a=n.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var h=f.next;a=h;do{if((a.tag&e)===e){var T=a.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,f=n;var A=l,L=_;try{L()}catch(P){He(f,A,P)}}}a=a.next}while(a!==h)}}catch(P){He(n,n.return,P)}}function Af(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{hd(n,l)}catch(a){He(e,e.return,a)}}}function bf(e,n,l){l.props=gi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){He(e,n,a)}}function jo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(f){He(e,n,f)}}function tn(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(f){He(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){He(e,n,f)}else l.current=null}function wf(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(f){He(e,e.return,f)}}function Ir(e,n,l){try{var a=e.stateNode;wv(a,e.type,l,n),a[yt]=n}catch(f){He(e,e.return,f)}}function Nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function Dr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ur(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=rn));else if(a!==4&&(a===27&&Xn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Ur(e,n,l),e=e.sibling;e!==null;)Ur(e,n,l),e=e.sibling}function fs(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Xn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(fs(e,n,l),e=e.sibling;e!==null;)fs(e,n,l),e=e.sibling}function Mf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);dt(n,a,l),n[at]=e,n[yt]=l}catch(h){He(e,e.return,h)}}var yn=!1,nt=!1,Lr=!1,Rf=typeof WeakSet=="function"?WeakSet:Set,lt=null;function sv(e,n){if(e=e.containerInfo,tu=Us,e=qc(e),wa(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var f=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,_=-1,A=-1,L=0,P=0,B=e,k=null;t:for(;;){for(var G;B!==l||f!==0&&B.nodeType!==3||(_=T+f),B!==h||a!==0&&B.nodeType!==3||(A=T+a),B.nodeType===3&&(T+=B.nodeValue.length),(G=B.firstChild)!==null;)k=B,B=G;for(;;){if(B===e)break t;if(k===l&&++L===f&&(_=T),k===h&&++P===a&&(A=T),(G=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=G}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(nu={focusedElem:e,selectionRange:l},Us=!1,lt=n;lt!==null;)if(n=lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,lt=e;else for(;lt!==null;){switch(n=lt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,f=h.memoizedProps,h=h.memoizedState,a=l.stateNode;try{var oe=gi(l.type,f);e=a.getSnapshotBeforeUpdate(oe,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(ce){He(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)lu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,lt=e;break}lt=n.return}}function If(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Tn(e,l),a&4&&Qo(5,l);break;case 1:if(Tn(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){He(l,l.return,T)}else{var f=gi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){He(l,l.return,T)}}a&64&&Af(l),a&512&&jo(l,l.return);break;case 3:if(Tn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{hd(e,n)}catch(T){He(l,l.return,T)}}break;case 27:n===null&&a&4&&Mf(l);case 26:case 5:Tn(e,l),n===null&&a&4&&wf(l),a&512&&jo(l,l.return);break;case 12:Tn(e,l);break;case 31:Tn(e,l),a&4&&Lf(e,l);break;case 13:Tn(e,l),a&4&&kf(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=mv.bind(null,l),kv(e,l))));break;case 22:if(a=l.memoizedState!==null||yn,!a){n=n!==null&&n.memoizedState!==null||nt,f=yn;var h=nt;yn=a,(nt=n)&&!h?Sn(e,l,(l.subtreeFlags&8772)!==0):Tn(e,l),yn=f,nt=h}break;case 30:break;default:Tn(e,l)}}function Df(e){var n=e.alternate;n!==null&&(e.alternate=null,Df(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Tt=!1;function xn(e,n,l){for(l=l.child;l!==null;)Uf(e,n,l),l=l.sibling}function Uf(e,n,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(To,l)}catch{}switch(l.tag){case 26:nt||tn(l,n),xn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||tn(l,n);var a=Je,f=Tt;Xn(l.type)&&(Je=l.stateNode,Tt=!1),xn(e,n,l),ll(l.stateNode),Je=a,Tt=f;break;case 5:nt||tn(l,n);case 6:if(a=Je,f=Tt,Je=null,xn(e,n,l),Je=a,Tt=f,Je!==null)if(Tt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(h){He(l,n,h)}else try{Je.removeChild(l.stateNode)}catch(h){He(l,n,h)}break;case 18:Je!==null&&(Tt?(e=Je,Ap(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ao(e)):Ap(Je,l.stateNode));break;case 4:a=Je,f=Tt,Je=l.stateNode.containerInfo,Tt=!0,xn(e,n,l),Je=a,Tt=f;break;case 0:case 11:case 14:case 15:Pn(2,l,n),nt||Pn(4,l,n),xn(e,n,l);break;case 1:nt||(tn(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&bf(l,n,a)),xn(e,n,l);break;case 21:xn(e,n,l);break;case 22:nt=(a=nt)||l.memoizedState!==null,xn(e,n,l),nt=a;break;default:xn(e,n,l)}}function Lf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ao(e)}catch(l){He(n,n.return,l)}}}function kf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(l){He(n,n.return,l)}}function av(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rf),n;default:throw Error(s(435,e.tag))}}function ps(e,n){var l=av(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var f=gv.bind(null,e,a);a.then(f,f)}})}function St(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var f=l[a],h=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Xn(_.type)){Je=_.stateNode,Tt=!1;break e}break;case 5:Je=_.stateNode,Tt=!1;break e;case 3:case 4:Je=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(Je===null)throw Error(s(160));Uf(h,T,f),Je=null,Tt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gf(n,e),n=n.sibling}var Kt=null;function Gf(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(n,e),Et(e),a&4&&(Pn(3,e,e.return),Qo(3,e),Pn(5,e,e.return));break;case 1:St(n,e),Et(e),a&512&&(nt||l===null||tn(l,l.return)),a&64&&yn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var f=Kt;if(St(n,e),Et(e),a&512&&(nt||l===null||tn(l,l.return)),a&4){var h=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":h=f.getElementsByTagName("title")[0],(!h||h[_o]||h[at]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(a),f.head.insertBefore(h,f.querySelector("head > title"))),dt(h,a,l),h[at]=e,ot(h),a=h;break e;case"link":var T=Gp("link","href",f).get(a+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(h=T[_],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}h=f.createElement(a),dt(h,a,l),f.head.appendChild(h);break;case"meta":if(T=Gp("meta","content",f).get(a+(l.content||""))){for(_=0;_<T.length;_++)if(h=T[_],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}h=f.createElement(a),dt(h,a,l),f.head.appendChild(h);break;default:throw Error(s(468,a))}h[at]=e,ot(h),a=h}e.stateNode=a}else Hp(f,e.type,e.stateNode);else e.stateNode=kp(f,a,e.memoizedProps);else h!==a?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,a===null?Hp(f,e.type,e.stateNode):kp(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ir(e,e.memoizedProps,l.memoizedProps)}break;case 27:St(n,e),Et(e),a&512&&(nt||l===null||tn(l,l.return)),l!==null&&a&4&&Ir(e,e.memoizedProps,l.memoizedProps);break;case 5:if(St(n,e),Et(e),a&512&&(nt||l===null||tn(l,l.return)),e.flags&32){f=e.stateNode;try{Ri(f,"")}catch(oe){He(e,e.return,oe)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,Ir(e,f,l!==null?l.memoizedProps:f)),a&1024&&(Lr=!0);break;case 6:if(St(n,e),Et(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(oe){He(e,e.return,oe)}}break;case 3:if(Ms=null,f=Kt,Kt=ws(n.containerInfo),St(n,e),Kt=f,Et(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(oe){He(e,e.return,oe)}Lr&&(Lr=!1,Hf(e));break;case 4:a=Kt,Kt=ws(e.stateNode.containerInfo),St(n,e),Et(e),Kt=a;break;case 12:St(n,e),Et(e);break;case 31:St(n,e),Et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ps(e,a)));break;case 13:St(n,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ms=$e()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ps(e,a)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,L=yn,P=nt;if(yn=L||f,nt=P||A,St(n,e),nt=P,yn=L,Et(e),a&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||A||yn||nt||vi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(h=A.stateNode,f)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=A.stateNode;var B=A.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(oe){He(A,A.return,oe)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(oe){He(A,A.return,oe)}}}else if(n.tag===18){if(l===null){A=n;try{var G=A.stateNode;f?bp(G,!0):bp(A.stateNode,!1)}catch(oe){He(A,A.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ps(e,l))));break;case 19:St(n,e),Et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ps(e,a)));break;case 30:break;case 21:break;default:St(n,e),Et(e)}}function Et(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(Nf(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,h=Dr(e);fs(e,h,f);break;case 5:var T=l.stateNode;l.flags&32&&(Ri(T,""),l.flags&=-33);var _=Dr(e);fs(e,_,T);break;case 3:case 4:var A=l.stateNode.containerInfo,L=Dr(e);Ur(e,L,A);break;default:throw Error(s(161))}}catch(P){He(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Tn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)If(e,n.alternate,n),n=n.sibling}function vi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Pn(4,n,n.return),vi(n);break;case 1:tn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&bf(n,n.return,l),vi(n);break;case 27:ll(n.stateNode);case 26:case 5:tn(n,n.return),vi(n);break;case 22:n.memoizedState===null&&vi(n);break;case 30:vi(n);break;default:vi(n)}e=e.sibling}}function Sn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,f=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:Sn(f,h,l),Qo(4,h);break;case 1:if(Sn(f,h,l),a=h,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){He(a,a.return,L)}if(a=h,f=a.updateQueue,f!==null){var _=a.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)pd(A[f],_)}catch(L){He(a,a.return,L)}}l&&T&64&&Af(h),jo(h,h.return);break;case 27:Mf(h);case 26:case 5:Sn(f,h,l),l&&a===null&&T&4&&wf(h),jo(h,h.return);break;case 12:Sn(f,h,l);break;case 31:Sn(f,h,l),l&&T&4&&Lf(f,h);break;case 13:Sn(f,h,l),l&&T&4&&kf(f,h);break;case 22:h.memoizedState===null&&Sn(f,h,l),jo(h,h.return);break;case 30:break;default:Sn(f,h,l)}n=n.sibling}}function kr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Go(l))}function Gr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function Qt(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zf(e,n,l,a),n=n.sibling}function zf(e,n,l,a){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Qt(e,n,l,a),f&2048&&Qo(9,n);break;case 1:Qt(e,n,l,a);break;case 3:Qt(e,n,l,a),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(f&2048){Qt(e,n,l,a),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,_=h.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){He(n,n.return,A)}}else Qt(e,n,l,a);break;case 31:Qt(e,n,l,a);break;case 13:Qt(e,n,l,a);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?Qt(e,n,l,a):Zo(e,n):h._visibility&2?Qt(e,n,l,a):(h._visibility|=2,ji(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),f&2048&&kr(T,n);break;case 24:Qt(e,n,l,a),f&2048&&Gr(n.alternate,n);break;default:Qt(e,n,l,a)}}function ji(e,n,l,a,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,_=l,A=a,L=T.flags;switch(T.tag){case 0:case 11:case 15:ji(h,T,_,A,f),Qo(8,T);break;case 23:break;case 22:var P=T.stateNode;T.memoizedState!==null?P._visibility&2?ji(h,T,_,A,f):Zo(h,T):(P._visibility|=2,ji(h,T,_,A,f)),f&&L&2048&&kr(T.alternate,T);break;case 24:ji(h,T,_,A,f),f&&L&2048&&Gr(T.alternate,T);break;default:ji(h,T,_,A,f)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,f=a.flags;switch(a.tag){case 22:Zo(l,a),f&2048&&kr(a.alternate,a);break;case 24:Zo(l,a),f&2048&&Gr(a.alternate,a);break;default:Zo(l,a)}n=n.sibling}}var $o=8192;function Zi(e,n,l){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)Vf(e,n,l),e=e.sibling}function Vf(e,n,l){switch(e.tag){case 26:Zi(e,n,l),e.flags&$o&&e.memoizedState!==null&&Xv(l,Kt,e.memoizedState,e.memoizedProps);break;case 5:Zi(e,n,l);break;case 3:case 4:var a=Kt;Kt=ws(e.stateNode.containerInfo),Zi(e,n,l),Kt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=$o,$o=16777216,Zi(e,n,l),$o=a):Zi(e,n,l));break;default:Zi(e,n,l)}}function Pf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];lt=a,Bf(a,e)}Pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qf(e),e=e.sibling}function qf(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Pn(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hs(e)):Wo(e);break;default:Wo(e)}}function hs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];lt=a,Bf(a,e)}Pf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Pn(8,n,n.return),hs(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,hs(n));break;default:hs(n)}e=e.sibling}}function Bf(e,n){for(;lt!==null;){var l=lt;switch(l.tag){case 0:case 11:case 15:Pn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Go(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,lt=a;else e:for(l=e;lt!==null;){a=lt;var f=a.sibling,h=a.return;if(Df(a),a===l){lt=null;break e}if(f!==null){f.return=h,lt=f;break e}lt=h}}}var rv={getCacheForType:function(e){var n=ut(We),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return ut(We).controller.signal}},uv=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Be=null,_e=null,Ae=0,Ge=0,Dt=null,qn=!1,$i=!1,Hr=!1,En=0,Ke=0,Bn=0,yi=0,zr=0,Ut=0,Wi=0,el=null,_t=null,Vr=!1,ms=0,Of=0,gs=1/0,vs=null,On=null,it=0,Fn=null,eo=null,_n=0,Pr=0,qr=null,Ff=null,tl=0,Br=null;function Lt(){return(Ue&2)!==0&&Ae!==0?Ae&-Ae:I.T!==null?Kr():lc()}function Yf(){if(Ut===0)if((Ae&536870912)===0||Ne){var e=Al;Al<<=1,(Al&3932160)===0&&(Al=262144),Ut=e}else Ut=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Ut}function Ct(e,n,l){(e===Be&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(to(e,0),Yn(e,Ae,Ut,!1)),Eo(e,l),((Ue&2)===0||e!==Be)&&(e===Be&&((Ue&2)===0&&(yi|=l),Ke===4&&Yn(e,Ae,Ut,!1)),nn(e))}function Jf(e,n,l){if((Ue&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||So(e,n),f=a?fv(e,n):Fr(e,n,!0),h=a;do{if(f===0){$i&&!a&&Yn(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!cv(l)){f=Fr(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;f=el;var A=_.current.memoizedState.isDehydrated;if(A&&(to(_,T).flags|=256),T=Fr(_,T,!1),T!==2){if(Hr&&!A){_.errorRecoveryDisabledLanes|=h,yi|=h,f=4;break e}h=_t,_t=f,h!==null&&(_t===null?_t=h:_t.push.apply(_t,h))}f=T}if(h=!1,f!==2)continue}}if(f===1){to(e,0),Yn(e,n,0,!0);break}e:{switch(a=e,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Yn(a,n,Ut,!qn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=ms+300-$e(),10<f)){if(Yn(a,n,Ut,!qn),wl(a,0,!0)!==0)break e;_n=n,a.timeoutHandle=_p(Xf.bind(null,a,l,_t,vs,Vr,n,Ut,yi,Wi,qn,h,"Throttled",-0,0),f);break e}Xf(a,l,_t,vs,Vr,n,Ut,yi,Wi,qn,h,null,-0,0)}}break}while(!0);nn(e)}function Xf(e,n,l,a,f,h,T,_,A,L,P,B,k,G){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},Vf(n,h,B);var oe=(h&62914560)===h?ms-$e():(h&4194048)===h?Of-$e():0;if(oe=Kv(B,oe),oe!==null){_n=h,e.cancelPendingCommit=oe(tp.bind(null,e,n,h,l,a,f,T,_,A,P,B,null,k,G)),Yn(e,h,T,!L);return}}tp(e,n,h,l,a,f,T,_,A)}function cv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var f=l[a],h=f.getSnapshot;f=f.value;try{if(!Nt(h(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yn(e,n,l,a){n&=~zr,n&=~yi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var f=n;0<f;){var h=31-wt(f),T=1<<h;a[h]=-1,f&=~T}l!==0&&nc(e,l,n)}function ys(){return(Ue&6)===0?(nl(0),!1):!0}function Or(){if(_e!==null){if(Ge===0)var e=_e.return;else e=_e,fn=ui=null,lr(e),Yi=null,zo=0,e=_e;for(;e!==null;)Cf(e.alternate,e),e=e.return;_e=null}}function to(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Rv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),_n=0,Or(),Be=e,_e=l=cn(e.current,null),Ae=n,Ge=0,Dt=null,qn=!1,$i=So(e,n),Hr=!1,Wi=Ut=zr=yi=Bn=Ke=0,_t=el=null,Vr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var f=31-wt(a),h=1<<f;n|=e[f],a&=~h}return En=n,Vl(),l}function Kf(e,n){Te=null,I.H=Jo,n===Fi||n===Xl?(n=ud(),Ge=3):n===Xa?(n=ud(),Ge=4):Ge=n===Sr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,_e===null&&(Ke=1,as(e,zt(n,e.current)))}function Qf(){var e=Rt.current;return e===null?!0:(Ae&4194048)===Ae?Bt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Bt:!1}function jf(){var e=I.H;return I.H=Jo,e===null?Jo:e}function Zf(){var e=I.A;return I.A=rv,e}function xs(){Ke=4,qn||(Ae&4194048)!==Ae&&Rt.current!==null||($i=!0),(Bn&134217727)===0&&(yi&134217727)===0||Be===null||Yn(Be,Ae,Ut,!1)}function Fr(e,n,l){var a=Ue;Ue|=2;var f=jf(),h=Zf();(Be!==e||Ae!==n)&&(vs=null,to(e,n)),n=!1;var T=Ke;e:do try{if(Ge!==0&&_e!==null){var _=_e,A=Dt;switch(Ge){case 8:Or(),T=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(n=!0);var L=Ge;if(Ge=0,Dt=null,no(e,_,A,L),l&&$i){T=0;break e}break;default:L=Ge,Ge=0,Dt=null,no(e,_,A,L)}}dv(),T=Ke;break}catch(P){Kf(e,P)}while(!0);return n&&e.shellSuspendCounter++,fn=ui=null,Ue=a,I.H=f,I.A=h,_e===null&&(Be=null,Ae=0,Vl()),T}function dv(){for(;_e!==null;)$f(_e)}function fv(e,n){var l=Ue;Ue|=2;var a=jf(),f=Zf();Be!==e||Ae!==n?(vs=null,gs=$e()+500,to(e,n)):$i=So(e,n);e:do try{if(Ge!==0&&_e!==null){n=_e;var h=Dt;t:switch(Ge){case 1:Ge=0,Dt=null,no(e,n,h,1);break;case 2:case 9:if(ad(h)){Ge=0,Dt=null,Wf(n);break}n=function(){Ge!==2&&Ge!==9||Be!==e||(Ge=7),nn(e)},h.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:ad(h)?(Ge=0,Dt=null,Wf(n)):(Ge=0,Dt=null,no(e,n,h,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var _=_e;if(T?zp(T):_.stateNode.complete){Ge=0,Dt=null;var A=_.sibling;if(A!==null)_e=A;else{var L=_.return;L!==null?(_e=L,Ts(L)):_e=null}break t}}Ge=0,Dt=null,no(e,n,h,5);break;case 6:Ge=0,Dt=null,no(e,n,h,6);break;case 8:Or(),Ke=6;break e;default:throw Error(s(462))}}pv();break}catch(P){Kf(e,P)}while(!0);return fn=ui=null,I.H=a,I.A=f,Ue=l,_e!==null?0:(Be=null,Ae=0,Vl(),Ke)}function pv(){for(;_e!==null&&!Qe();)$f(_e)}function $f(e){var n=Ef(e.alternate,e,En);e.memoizedProps=e.pendingProps,n===null?Ts(e):_e=n}function Wf(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=gf(l,n,n.pendingProps,n.type,void 0,Ae);break;case 11:n=gf(l,n,n.pendingProps,n.type.render,n.ref,Ae);break;case 5:lr(n);default:Cf(l,n),n=_e=jc(n,En),n=Ef(l,n,En)}e.memoizedProps=e.pendingProps,n===null?Ts(e):_e=n}function no(e,n,l,a){fn=ui=null,lr(n),Yi=null,zo=0;var f=n.return;try{if(tv(e,f,n,l,Ae)){Ke=1,as(e,zt(l,e.current)),_e=null;return}}catch(h){if(f!==null)throw _e=f,h;Ke=1,as(e,zt(l,e.current)),_e=null;return}n.flags&32768?(Ne||a===1?e=!0:$i||(Ae&536870912)!==0?e=!1:(qn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rt.current,a!==null&&a.tag===13&&(a.flags|=16384))),ep(n,e)):Ts(n)}function Ts(e){var n=e;do{if((n.flags&32768)!==0){ep(n,qn);return}e=n.return;var l=ov(n.alternate,n,En);if(l!==null){_e=l;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);Ke===0&&(Ke=5)}function ep(e,n){do{var l=lv(e.alternate,e);if(l!==null){l.flags&=32767,_e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=l}while(e!==null);Ke=6,_e=null}function tp(e,n,l,a,f,h,T,_,A){e.cancelPendingCommit=null;do Ss();while(it!==0);if((Ue&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Da,J0(e,l,h,T,_,A),e===Be&&(_e=Be=null,Ae=0),eo=n,Fn=e,_n=l,Pr=h,qr=f,Ff=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vv(_l,function(){return sp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=I.T,I.T=null,f=J.p,J.p=2,T=Ue,Ue|=4;try{sv(e,n,l)}finally{Ue=T,J.p=f,I.T=a}}it=1,np(),ip(),op()}}function np(){if(it===1){it=0;var e=Fn,n=eo,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var a=J.p;J.p=2;var f=Ue;Ue|=4;try{Gf(n,e);var h=nu,T=qc(e.containerInfo),_=h.focusedElem,A=h.selectionRange;if(T!==_&&_&&_.ownerDocument&&Pc(_.ownerDocument.documentElement,_)){if(A!==null&&wa(_)){var L=A.start,P=A.end;if(P===void 0&&(P=L),"selectionStart"in _)_.selectionStart=L,_.selectionEnd=Math.min(P,_.value.length);else{var B=_.ownerDocument||document,k=B&&B.defaultView||window;if(k.getSelection){var G=k.getSelection(),oe=_.textContent.length,ce=Math.min(A.start,oe),qe=A.end===void 0?ce:Math.min(A.end,oe);!G.extend&&ce>qe&&(T=qe,qe=ce,ce=T);var M=Vc(_,ce),w=Vc(_,qe);if(M&&w&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==w.node||G.focusOffset!==w.offset)){var U=B.createRange();U.setStart(M.node,M.offset),G.removeAllRanges(),ce>qe?(G.addRange(U),G.extend(w.node,w.offset)):(U.setEnd(w.node,w.offset),G.addRange(U))}}}}for(B=[],G=_;G=G.parentNode;)G.nodeType===1&&B.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var q=B[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Us=!!tu,nu=tu=null}finally{Ue=f,J.p=a,I.T=l}}e.current=n,it=2}}function ip(){if(it===2){it=0;var e=Fn,n=eo,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var a=J.p;J.p=2;var f=Ue;Ue|=4;try{If(e,n.alternate,n)}finally{Ue=f,J.p=a,I.T=l}}it=3}}function op(){if(it===4||it===3){it=0,vt();var e=Fn,n=eo,l=_n,a=Ff;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,eo=Fn=null,lp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(On=null),ra(l),n=n.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(To,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=I.T,f=J.p,J.p=2,I.T=null;try{for(var h=e.onRecoverableError,T=0;T<a.length;T++){var _=a[T];h(_.value,{componentStack:_.stack})}}finally{I.T=n,J.p=f}}(_n&3)!==0&&Ss(),nn(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Br?tl++:(tl=0,Br=e):tl=0,nl(0)}}function lp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function Ss(){return np(),ip(),op(),sp()}function sp(){if(it!==5)return!1;var e=Fn,n=Pr;Pr=0;var l=ra(_n),a=I.T,f=J.p;try{J.p=32>l?32:l,I.T=null,l=qr,qr=null;var h=Fn,T=_n;if(it=0,eo=Fn=null,_n=0,(Ue&6)!==0)throw Error(s(331));var _=Ue;if(Ue|=4,qf(h.current),zf(h,h.current,T,l),Ue=_,nl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(To,h)}catch{}return!0}finally{J.p=f,I.T=a,lp(e,n)}}function ap(e,n,l){n=zt(l,n),n=Tr(e.stateNode,n,2),e=Hn(e,n,2),e!==null&&(Eo(e,2),nn(e))}function He(e,n,l){if(e.tag===3)ap(e,e,l);else for(;n!==null;){if(n.tag===3){ap(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(On===null||!On.has(a))){e=zt(l,e),l=rf(2),a=Hn(n,l,2),a!==null&&(uf(l,a,n,e),Eo(a,2),nn(a));break}}n=n.return}}function Yr(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new uv;var f=new Set;a.set(n,f)}else f=a.get(n),f===void 0&&(f=new Set,a.set(n,f));f.has(l)||(Hr=!0,f.add(l),e=hv.bind(null,e,n,l),n.then(e,e))}function hv(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Be===e&&(Ae&l)===l&&(Ke===4||Ke===3&&(Ae&62914560)===Ae&&300>$e()-ms?(Ue&2)===0&&to(e,0):zr|=l,Wi===Ae&&(Wi=0)),nn(e)}function rp(e,n){n===0&&(n=tc()),e=si(e,n),e!==null&&(Eo(e,n),nn(e))}function mv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),rp(e,l)}function gv(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),rp(e,l)}function vv(e,n){return ke(e,n)}var Es=null,io=null,Jr=!1,_s=!1,Xr=!1,Jn=0;function nn(e){e!==io&&e.next===null&&(io===null?Es=io=e:io=io.next=e),_s=!0,Jr||(Jr=!0,xv())}function nl(e,n){if(!Xr&&_s){Xr=!0;do for(var l=!1,a=Es;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var h=0;else{var T=a.suspendedLanes,_=a.pingedLanes;h=(1<<31-wt(42|e)+1)-1,h&=f&~(T&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,fp(a,h))}else h=Ae,h=wl(a,a===Be?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||So(a,h)||(l=!0,fp(a,h));a=a.next}while(l);Xr=!1}}function yv(){up()}function up(){_s=Jr=!1;var e=0;Jn!==0&&Mv()&&(e=Jn);for(var n=$e(),l=null,a=Es;a!==null;){var f=a.next,h=cp(a,n);h===0?(a.next=null,l===null?Es=f:l.next=f,f===null&&(io=l)):(l=a,(e!==0||(h&3)!==0)&&(_s=!0)),a=f}it!==0&&it!==5||nl(e),Jn!==0&&(Jn=0)}function cp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-wt(h),_=1<<T,A=f[T];A===-1?((_&l)===0||(_&a)!==0)&&(f[T]=Y0(_,n)):A<=n&&(e.expiredLanes|=_),h&=~_}if(n=Be,l=Ae,l=wl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&De(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||So(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&De(a),ra(l)){case 2:case 8:l=Wu;break;case 32:l=_l;break;case 268435456:l=ec;break;default:l=_l}return a=dp.bind(null,e),l=ke(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&De(a),e.callbackPriority=2,e.callbackNode=null,2}function dp(e,n){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ss()&&e.callbackNode!==l)return null;var a=Ae;return a=wl(e,e===Be?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Jf(e,a,n),cp(e,$e()),e.callbackNode!=null&&e.callbackNode===l?dp.bind(null,e):null)}function fp(e,n){if(Ss())return null;Jf(e,n,!0)}function xv(){Iv(function(){(Ue&6)!==0?ke(_i,yv):up()})}function Kr(){if(Jn===0){var e=Bi;e===0&&(e=Cl,Cl<<=1,(Cl&261888)===0&&(Cl=256)),Jn=e}return Jn}function pp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Il(""+e)}function hp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Tv(e,n,l,a,f){if(n==="submit"&&l&&l.stateNode===f){var h=pp((f[yt]||null).action),T=a.submitter;T&&(n=(n=T[yt]||null)?pp(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var _=new kl("action","action",null,a,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Jn!==0){var A=T?hp(f,T):new FormData(f);hr(l,{pending:!0,data:A,method:f.method,action:h},null,A)}}else typeof h=="function"&&(_.preventDefault(),A=T?hp(f,T):new FormData(f),hr(l,{pending:!0,data:A,method:f.method,action:h},h,A))},currentTarget:f}]})}}for(var Qr=0;Qr<Ia.length;Qr++){var jr=Ia[Qr],Sv=jr.toLowerCase(),Ev=jr[0].toUpperCase()+jr.slice(1);Xt(Sv,"on"+Ev)}Xt(Fc,"onAnimationEnd"),Xt(Yc,"onAnimationIteration"),Xt(Jc,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(zg,"onTransitionRun"),Xt(Vg,"onTransitionStart"),Xt(Pg,"onTransitionCancel"),Xt(Xc,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function mp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],f=a.event;a=a.listeners;e:{var h=void 0;if(n)for(var T=a.length-1;0<=T;T--){var _=a[T],A=_.instance,L=_.currentTarget;if(_=_.listener,A!==h&&f.isPropagationStopped())break e;h=_,f.currentTarget=L;try{h(f)}catch(P){zl(P)}f.currentTarget=null,h=A}else for(T=0;T<a.length;T++){if(_=a[T],A=_.instance,L=_.currentTarget,_=_.listener,A!==h&&f.isPropagationStopped())break e;h=_,f.currentTarget=L;try{h(f)}catch(P){zl(P)}f.currentTarget=null,h=A}}}}function Ce(e,n){var l=n[ua];l===void 0&&(l=n[ua]=new Set);var a=e+"__bubble";l.has(a)||(gp(n,e,2,!1),l.add(a))}function Zr(e,n,l){var a=0;n&&(a|=4),gp(l,e,a,n)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Cs]){e[Cs]=!0,rc.forEach(function(l){l!=="selectionchange"&&(_v.has(l)||Zr(l,!1,e),Zr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cs]||(n[Cs]=!0,Zr("selectionchange",!1,n))}}function gp(e,n,l,a){switch(Yp(n)){case 2:var f=Zv;break;case 8:f=$v;break;default:f=pu}l=f.bind(null,n,l,e),f=void 0,!ya||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Wr(e,n,l,a,f){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var _=a.stateNode.containerInfo;if(_===f)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;_!==null;){if(T=Ai(_),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=h=T;continue e}_=_.parentNode}}a=a.return}Tc(function(){var L=h,P=ga(l),B=[];e:{var k=Kc.get(e);if(k!==void 0){var G=kl,oe=e;switch(e){case"keypress":if(Ul(l)===0)break e;case"keydown":case"keyup":G=gg;break;case"focusin":oe="focus",G=Ea;break;case"focusout":oe="blur",G=Ea;break;case"beforeblur":case"afterblur":G=Ea;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=xg;break;case Fc:case Yc:case Jc:G=ag;break;case Xc:G=Sg;break;case"scroll":case"scrollend":G=ng;break;case"wheel":G=_g;break;case"copy":case"cut":case"paste":G=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ac;break;case"toggle":case"beforetoggle":G=Ag}var ce=(n&4)!==0,qe=!ce&&(e==="scroll"||e==="scrollend"),M=ce?k!==null?k+"Capture":null:k;ce=[];for(var w=L,U;w!==null;){var q=w;if(U=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||U===null||M===null||(q=Ao(w,M),q!=null&&ce.push(ol(w,q,U))),qe)break;w=w.return}0<ce.length&&(k=new G(k,oe,null,l,P),B.push({event:k,listeners:ce}))}}if((n&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",k&&l!==ma&&(oe=l.relatedTarget||l.fromElement)&&(Ai(oe)||oe[Ci]))break e;if((G||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,G?(oe=l.relatedTarget||l.toElement,G=L,oe=oe?Ai(oe):null,oe!==null&&(qe=d(oe),ce=oe.tag,oe!==qe||ce!==5&&ce!==27&&ce!==6)&&(oe=null)):(G=null,oe=L),G!==oe)){if(ce=_c,q="onMouseLeave",M="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Ac,q="onPointerLeave",M="onPointerEnter",w="pointer"),qe=G==null?k:Co(G),U=oe==null?k:Co(oe),k=new ce(q,w+"leave",G,l,P),k.target=qe,k.relatedTarget=U,q=null,Ai(P)===L&&(ce=new ce(M,w+"enter",oe,l,P),ce.target=U,ce.relatedTarget=qe,q=ce),qe=q,G&&oe)t:{for(ce=Cv,M=G,w=oe,U=0,q=M;q;q=ce(q))U++;q=0;for(var ue=w;ue;ue=ce(ue))q++;for(;0<U-q;)M=ce(M),U--;for(;0<q-U;)w=ce(w),q--;for(;U--;){if(M===w||w!==null&&M===w.alternate){ce=M;break t}M=ce(M),w=ce(w)}ce=null}else ce=null;G!==null&&vp(B,k,G,ce,!1),oe!==null&&qe!==null&&vp(B,qe,oe,ce,!0)}}e:{if(k=L?Co(L):window,G=k.nodeName&&k.nodeName.toLowerCase(),G==="select"||G==="input"&&k.type==="file")var Me=Uc;else if(Ic(k))if(Lc)Me=kg;else{Me=Ug;var le=Dg}else G=k.nodeName,!G||G.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?L&&ha(L.elementType)&&(Me=Uc):Me=Lg;if(Me&&(Me=Me(e,L))){Dc(B,Me,l,P);break e}le&&le(e,k,L),e==="focusout"&&L&&k.type==="number"&&L.memoizedProps.value!=null&&pa(k,"number",k.value)}switch(le=L?Co(L):window,e){case"focusin":(Ic(le)||le.contentEditable==="true")&&(Li=le,Na=L,Uo=null);break;case"focusout":Uo=Na=Li=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,Bc(B,l,P);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":Bc(B,l,P)}var Se;if(Ca)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ui?Mc(e,l)&&(be="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(bc&&l.locale!=="ko"&&(Ui||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ui&&(Se=Sc()):(Rn=P,xa="value"in Rn?Rn.value:Rn.textContent,Ui=!0)),le=As(L,be),0<le.length&&(be=new Cc(be,e,null,l,P),B.push({event:be,listeners:le}),Se?be.data=Se:(Se=Rc(l),Se!==null&&(be.data=Se)))),(Se=wg?Ng(e,l):Mg(e,l))&&(be=As(L,"onBeforeInput"),0<be.length&&(le=new Cc("onBeforeInput","beforeinput",null,l,P),B.push({event:le,listeners:be}),le.data=Se)),Tv(B,e,L,l,P)}mp(B,n)})}function ol(e,n,l){return{instance:e,listener:n,currentTarget:l}}function As(e,n){for(var l=n+"Capture",a=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ao(e,l),f!=null&&a.unshift(ol(e,f,h)),f=Ao(e,n),f!=null&&a.push(ol(e,f,h))),e.tag===3)return a;e=e.return}return[]}function Cv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vp(e,n,l,a,f){for(var h=n._reactName,T=[];l!==null&&l!==a;){var _=l,A=_.alternate,L=_.stateNode;if(_=_.tag,A!==null&&A===a)break;_!==5&&_!==26&&_!==27||L===null||(A=L,f?(L=Ao(l,h),L!=null&&T.unshift(ol(l,L,A))):f||(L=Ao(l,h),L!=null&&T.push(ol(l,L,A)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Av=/\r\n?/g,bv=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(Av,`
`).replace(bv,"")}function xp(e,n){return n=yp(n),yp(e)===n}function Pe(e,n,l,a,f,h){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Ri(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Ri(e,""+a);break;case"className":Ml(e,"class",a);break;case"tabIndex":Ml(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(e,l,a);break;case"style":yc(e,a,h);break;case"data":if(n!=="object"){Ml(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Il(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&Pe(e,n,"name",f.name,f,null),Pe(e,n,"formEncType",f.formEncType,f,null),Pe(e,n,"formMethod",f.formMethod,f,null),Pe(e,n,"formTarget",f.formTarget,f,null)):(Pe(e,n,"encType",f.encType,f,null),Pe(e,n,"method",f.method,f,null),Pe(e,n,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Il(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=rn);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Il(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Nl(e,"popover",a);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Nl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=eg.get(l)||l,Nl(e,l,a))}}function eu(e,n,l,a,f,h){switch(l){case"style":yc(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ri(e,a):(typeof a=="number"||typeof a=="bigint")&&Ri(e,""+a);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),h=e[yt]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof a=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,f);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Nl(e,l,a)}}}function dt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var a=!1,f=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Pe(e,n,h,T,l,null)}}f&&Pe(e,n,"srcSet",l.srcSet,l,null),a&&Pe(e,n,"src",l.src,l,null);return;case"input":Ce("invalid",e);var _=h=T=f=null,A=null,L=null;for(a in l)if(l.hasOwnProperty(a)){var P=l[a];if(P!=null)switch(a){case"name":f=P;break;case"type":T=P;break;case"checked":A=P;break;case"defaultChecked":L=P;break;case"value":h=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Pe(e,n,a,P,l,null)}}hc(e,h,_,A,L,T,f,!1);return;case"select":Ce("invalid",e),a=T=h=null;for(f in l)if(l.hasOwnProperty(f)&&(_=l[f],_!=null))switch(f){case"value":h=_;break;case"defaultValue":T=_;break;case"multiple":a=_;default:Pe(e,n,f,_,l,null)}n=h,l=T,e.multiple=!!a,n!=null?Mi(e,!!a,n,!1):l!=null&&Mi(e,!!a,l,!0);return;case"textarea":Ce("invalid",e),h=f=a=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":a=_;break;case"defaultValue":f=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Pe(e,n,T,_,l,null)}gc(e,a,f,h);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pe(e,n,A,a,l,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(a=0;a<il.length;a++)Ce(il[a],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(a=l[L],a!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Pe(e,n,L,a,l,null)}return;default:if(ha(n)){for(P in l)l.hasOwnProperty(P)&&(a=l[P],a!==void 0&&eu(e,n,P,a,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!=null&&Pe(e,n,_,a,l,null))}function wv(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,T=null,_=null,A=null,L=null,P=null;for(G in l){var B=l[G];if(l.hasOwnProperty(G)&&B!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=B;default:a.hasOwnProperty(G)||Pe(e,n,G,null,a,B)}}for(var k in a){var G=a[k];if(B=l[k],a.hasOwnProperty(k)&&(G!=null||B!=null))switch(k){case"type":h=G;break;case"name":f=G;break;case"checked":L=G;break;case"defaultChecked":P=G;break;case"value":T=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==B&&Pe(e,n,k,G,a,B)}}fa(e,T,_,A,L,P,h,f);return;case"select":G=T=_=k=null;for(h in l)if(A=l[h],l.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":G=A;default:a.hasOwnProperty(h)||Pe(e,n,h,null,a,A)}for(f in a)if(h=a[f],A=l[f],a.hasOwnProperty(f)&&(h!=null||A!=null))switch(f){case"value":k=h;break;case"defaultValue":_=h;break;case"multiple":T=h;default:h!==A&&Pe(e,n,f,h,a,A)}n=_,l=T,a=G,k!=null?Mi(e,!!l,k,!1):!!a!=!!l&&(n!=null?Mi(e,!!l,n,!0):Mi(e,!!l,l?[]:"",!1));return;case"textarea":G=k=null;for(_ in l)if(f=l[_],l.hasOwnProperty(_)&&f!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Pe(e,n,_,null,a,f)}for(T in a)if(f=a[T],h=l[T],a.hasOwnProperty(T)&&(f!=null||h!=null))switch(T){case"value":k=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Pe(e,n,T,f,a,h)}mc(e,k,G);return;case"option":for(var oe in l)if(k=l[oe],l.hasOwnProperty(oe)&&k!=null&&!a.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Pe(e,n,oe,null,a,k)}for(A in a)if(k=a[A],G=l[A],a.hasOwnProperty(A)&&k!==G&&(k!=null||G!=null))switch(A){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Pe(e,n,A,k,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)k=l[ce],l.hasOwnProperty(ce)&&k!=null&&!a.hasOwnProperty(ce)&&Pe(e,n,ce,null,a,k);for(L in a)if(k=a[L],G=l[L],a.hasOwnProperty(L)&&k!==G&&(k!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Pe(e,n,L,k,a,G)}return;default:if(ha(n)){for(var qe in l)k=l[qe],l.hasOwnProperty(qe)&&k!==void 0&&!a.hasOwnProperty(qe)&&eu(e,n,qe,void 0,a,k);for(P in a)k=a[P],G=l[P],!a.hasOwnProperty(P)||k===G||k===void 0&&G===void 0||eu(e,n,P,k,a,G);return}}for(var M in l)k=l[M],l.hasOwnProperty(M)&&k!=null&&!a.hasOwnProperty(M)&&Pe(e,n,M,null,a,k);for(B in a)k=a[B],G=l[B],!a.hasOwnProperty(B)||k===G||k==null&&G==null||Pe(e,n,B,k,a,G)}function Tp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var f=l[a],h=f.transferSize,T=f.initiatorType,_=f.duration;if(h&&_&&Tp(T)){for(T=0,_=f.responseEnd,a+=1;a<l.length;a++){var A=l[a],L=A.startTime;if(L>_)break;var P=A.transferSize,B=A.initiatorType;P&&Tp(B)&&(A=A.responseEnd,T+=P*(A<_?1:(_-L)/(A-L)))}if(--a,n+=8*(h+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tu=null,nu=null;function bs(e){return e.nodeType===9?e:e.ownerDocument}function Sp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ep(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function iu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ou=null;function Mv(){var e=window.event;return e&&e.type==="popstate"?e===ou?!1:(ou=e,!0):(ou=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(e){return Cp.resolve(null).then(e).catch(Dv)}:_p;function Dv(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function Ap(e,n){var l=n,a=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(f),ao(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")ll(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ll(l);for(var h=l.firstChild;h;){var T=h.nextSibling,_=h.nodeName;h[_o]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&ll(e.ownerDocument.body);l=f}while(l);ao(n)}function bp(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function lu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lu(l),ca(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Uv(e,n,l,a){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[_o])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ot(e.nextSibling),e===null)break}return null}function Lv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ot(e.nextSibling),e===null))return null;return e}function wp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ot(e.nextSibling),e===null))return null;return e}function su(e){return e.data==="$?"||e.data==="$~"}function au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ot(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ru=null;function Np(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ot(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Mp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Rp(e,n,l){switch(n=bs(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var Ft=new Map,Ip=new Set;function ws(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=J.d;J.d={f:Gv,r:Hv,D:zv,C:Vv,L:Pv,m:qv,X:Ov,S:Bv,M:Fv};function Gv(){var e=Cn.f(),n=ys();return e||n}function Hv(e){var n=bi(e);n!==null&&n.tag===5&&n.type==="form"?Xd(n):Cn.r(e)}var oo=typeof document>"u"?null:document;function Dp(e,n,l){var a=oo;if(a&&typeof n=="string"&&n){var f=Gt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Ip.has(f)||(Ip.add(f),e={rel:e,crossOrigin:l,href:n},a.querySelector(f)===null&&(n=a.createElement("link"),dt(n,"link",e),ot(n),a.head.appendChild(n)))}}function zv(e){Cn.D(e),Dp("dns-prefetch",e,null)}function Vv(e,n){Cn.C(e,n),Dp("preconnect",e,n)}function Pv(e,n,l){Cn.L(e,n,l);var a=oo;if(a&&e&&n){var f='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Gt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Gt(l.imageSizes)+'"]')):f+='[href="'+Gt(e)+'"]';var h=f;switch(n){case"style":h=lo(e);break;case"script":h=so(e)}Ft.has(h)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Ft.set(h,e),a.querySelector(f)!==null||n==="style"&&a.querySelector(sl(h))||n==="script"&&a.querySelector(al(h))||(n=a.createElement("link"),dt(n,"link",e),ot(n),a.head.appendChild(n)))}}function qv(e,n){Cn.m(e,n);var l=oo;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Gt(a)+'"][href="'+Gt(e)+'"]',h=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=so(e)}if(!Ft.has(h)&&(e=S({rel:"modulepreload",href:e},n),Ft.set(h,e),l.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(al(h)))return}a=l.createElement("link"),dt(a,"link",e),ot(a),l.head.appendChild(a)}}}function Bv(e,n,l){Cn.S(e,n,l);var a=oo;if(a&&e){var f=wi(a).hoistableStyles,h=lo(e);n=n||"default";var T=f.get(h);if(!T){var _={loading:0,preload:null};if(T=a.querySelector(sl(h)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Ft.get(h))&&uu(e,l);var A=T=a.createElement("link");ot(A),dt(A,"link",e),A._p=new Promise(function(L,P){A.onload=L,A.onerror=P}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ns(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:_},f.set(h,T)}}}function Ov(e,n){Cn.X(e,n);var l=oo;if(l&&e){var a=wi(l).hoistableScripts,f=so(e),h=a.get(f);h||(h=l.querySelector(al(f)),h||(e=S({src:e,async:!0},n),(n=Ft.get(f))&&cu(e,n),h=l.createElement("script"),ot(h),dt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(f,h))}}function Fv(e,n){Cn.M(e,n);var l=oo;if(l&&e){var a=wi(l).hoistableScripts,f=so(e),h=a.get(f);h||(h=l.querySelector(al(f)),h||(e=S({src:e,async:!0,type:"module"},n),(n=Ft.get(f))&&cu(e,n),h=l.createElement("script"),ot(h),dt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(f,h))}}function Up(e,n,l,a){var f=(f=de.current)?ws(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=lo(l.href),l=wi(f).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=lo(l.href);var h=wi(f).hoistableStyles,T=h.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=f.querySelector(sl(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Ft.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ft.set(e,l),h||Yv(f,e,l,T.state))),n&&a===null)throw Error(s(528,""));return T}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(l),l=wi(f).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function lo(e){return'href="'+Gt(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Lp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Yv(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),dt(n,"link",l),ot(n),e.head.appendChild(n))}function so(e){return'[src="'+Gt(e)+'"]'}function al(e){return"script[async]"+e}function kp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+Gt(l.href)+'"]');if(a)return n.instance=a,ot(a),a;var f=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ot(a),dt(a,"style",f),Ns(a,l.precedence,e),n.instance=a;case"stylesheet":f=lo(l.href);var h=e.querySelector(sl(f));if(h)return n.state.loading|=4,n.instance=h,ot(h),h;a=Lp(l),(f=Ft.get(f))&&uu(a,f),h=(e.ownerDocument||e).createElement("link"),ot(h);var T=h;return T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),dt(h,"link",a),n.state.loading|=4,Ns(h,l.precedence,e),n.instance=h;case"script":return h=so(l.src),(f=e.querySelector(al(h)))?(n.instance=f,ot(f),f):(a=l,(f=Ft.get(h))&&(a=S({},l),cu(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),ot(f),dt(f,"link",a),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Ns(a,l.precedence,e));return n.instance}function Ns(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,h=f,T=0;T<a.length;T++){var _=a[T];if(_.dataset.precedence===n)h=_;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ms=null;function Gp(e,n,l){if(Ms===null){var a=new Map,f=Ms=new Map;f.set(l,a)}else f=Ms,a=f.get(l),a||(a=new Map,f.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var h=l[f];if(!(h[_o]||h[at]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var _=a.get(T);_?_.push(h):a.set(T,[h])}}return a}function Hp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Jv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xv(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=lo(a.href),h=n.querySelector(sl(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rs.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,ot(h);return}h=n.ownerDocument||n,a=Lp(a),(f=Ft.get(f))&&uu(a,f),h=h.createElement("link"),ot(h);var T=h;T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),dt(h,"link",a),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Rs.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var du=0;function Kv(e,n){return e.stylesheets&&e.count===0&&Ds(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&du===0&&(du=62500*Nv());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>du?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function Rs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ds(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Is=null;function Ds(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Is=new Map,n.forEach(Qv,e),Is=null,Rs.call(e))}function Qv(e,n){if(!(n.state.loading&4)){var l=Is.get(e);if(l)var a=l.get(null);else{l=new Map,Is.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var T=f[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}f=n.instance,T=f.getAttribute("data-precedence"),h=l.get(T)||a,h===a&&l.set(null,f),l.set(T,f),this.count++,a=Rs.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function jv(e,n,l,a,f,h,T,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Vp(e,n,l,a,f,h,T,_,A,L,P,B){return e=new jv(e,n,l,T,A,L,P,B,_),n=1,h===!0&&(n|=24),h=Mt(3,null,null,n),e.current=h,h.stateNode=e,n=Fa(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:a,isDehydrated:l,cache:n},Ka(h),e}function Pp(e){return e?(e=Hi,e):Hi}function qp(e,n,l,a,f,h){f=Pp(f),a.context===null?a.context=f:a.pendingContext=f,a=Gn(n),a.payload={element:l},h=h===void 0?null:h,h!==null&&(a.callback=h),l=Hn(e,a,n),l!==null&&(Ct(l,e,n),Po(l,e,n))}function Bp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function fu(e,n){Bp(e,n),(e=e.alternate)&&Bp(e,n)}function Op(e){if(e.tag===13||e.tag===31){var n=si(e,67108864);n!==null&&Ct(n,e,67108864),fu(e,67108864)}}function Fp(e){if(e.tag===13||e.tag===31){var n=Lt();n=aa(n);var l=si(e,n);l!==null&&Ct(l,e,n),fu(e,n)}}var Us=!0;function Zv(e,n,l,a){var f=I.T;I.T=null;var h=J.p;try{J.p=2,pu(e,n,l,a)}finally{J.p=h,I.T=f}}function $v(e,n,l,a){var f=I.T;I.T=null;var h=J.p;try{J.p=8,pu(e,n,l,a)}finally{J.p=h,I.T=f}}function pu(e,n,l,a){if(Us){var f=hu(a);if(f===null)Wr(e,n,a,Ls,l),Jp(e,a);else if(ey(f,e,n,l,a))a.stopPropagation();else if(Jp(e,a),n&4&&-1<Wv.indexOf(e)){for(;f!==null;){var h=bi(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=ti(h.pendingLanes);if(T!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var A=1<<31-wt(T);_.entanglements[1]|=A,T&=~A}nn(h),(Ue&6)===0&&(gs=$e()+500,nl(0))}}break;case 31:case 13:_=si(h,2),_!==null&&Ct(_,h,2),ys(),fu(h,2)}if(h=hu(a),h===null&&Wr(e,n,a,Ls,l),h===f)break;f=h}f!==null&&a.stopPropagation()}else Wr(e,n,a,null,l)}}function hu(e){return e=ga(e),mu(e)}var Ls=null;function mu(e){if(Ls=null,e=Ai(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ls=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case _i:return 2;case Wu:return 8;case _l:case V0:return 32;case ec:return 268435456;default:return 32}default:return 32}}var gu=!1,Kn=null,Qn=null,jn=null,ul=new Map,cl=new Map,Zn=[],Wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(e,n){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function dl(e,n,l,a,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:h,targetContainers:[f]},n!==null&&(n=bi(n),n!==null&&Op(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function ey(e,n,l,a,f){switch(n){case"focusin":return Kn=dl(Kn,e,n,l,a,f),!0;case"dragenter":return Qn=dl(Qn,e,n,l,a,f),!0;case"mouseover":return jn=dl(jn,e,n,l,a,f),!0;case"pointerover":var h=f.pointerId;return ul.set(h,dl(ul.get(h)||null,e,n,l,a,f)),!0;case"gotpointercapture":return h=f.pointerId,cl.set(h,dl(cl.get(h)||null,e,n,l,a,f)),!0}return!1}function Xp(e){var n=Ai(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,sc(e.priority,function(){Fp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,sc(e.priority,function(){Fp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ks(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=hu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ma=a,l.target.dispatchEvent(a),ma=null}else return n=bi(l),n!==null&&Op(n),e.blockedOn=l,!1;n.shift()}return!0}function Kp(e,n,l){ks(e)&&l.delete(n)}function ty(){gu=!1,Kn!==null&&ks(Kn)&&(Kn=null),Qn!==null&&ks(Qn)&&(Qn=null),jn!==null&&ks(jn)&&(jn=null),ul.forEach(Kp),cl.forEach(Kp)}function Gs(e,n){e.blockedOn===n&&(e.blockedOn=null,gu||(gu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ty)))}var Hs=null;function Qp(e){Hs!==e&&(Hs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hs===e&&(Hs=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],f=e[n+2];if(typeof a!="function"){if(mu(a||l)===null)continue;break}var h=bi(l);h!==null&&(e.splice(n,3),n-=3,hr(h,{pending:!0,data:f,method:l.method,action:a},a,f))}}))}function ao(e){function n(A){return Gs(A,e)}Kn!==null&&Gs(Kn,e),Qn!==null&&Gs(Qn,e),jn!==null&&Gs(jn,e),ul.forEach(n),cl.forEach(n);for(var l=0;l<Zn.length;l++){var a=Zn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Zn.length&&(l=Zn[0],l.blockedOn===null);)Xp(l),l.blockedOn===null&&Zn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var f=l[a],h=l[a+1],T=f[yt]||null;if(typeof h=="function")T||Qp(l);else if(T){var _=null;if(h&&h.hasAttribute("formAction")){if(f=h,T=h[yt]||null)_=T.formAction;else if(mu(f)!==null)continue}else _=T.action;typeof _=="function"?l[a+1]=_:(l.splice(a,3),a-=3),Qp(l)}}}function jp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function vu(e){this._internalRoot=e}zs.prototype.render=vu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=Lt();qp(l,a,e,n,null,null)},zs.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qp(e.current,2,null,e,null,null),ys(),n[Ci]=null}};function zs(e){this._internalRoot=e}zs.prototype.unstable_scheduleHydration=function(e){if(e){var n=lc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Zn.length&&n!==0&&n<Zn[l].priority;l++);Zn.splice(l,0,e),l===0&&Xp(e)}};var Zp=t.version;if(Zp!=="19.2.3")throw Error(s(527,Zp,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var ny={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{To=Vs.inject(ny),bt=Vs}catch{}}return pl.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",f=of,h=lf,T=sf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Vp(e,1,!1,null,null,l,a,null,f,h,T,jp),e[Ci]=n.current,$r(e),new vu(n)},pl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,f="",h=of,T=lf,_=sf,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Vp(e,1,!0,n,l??null,a,f,A,h,T,_,jp),n.context=Pp(null),l=n.current,a=Lt(),a=aa(a),f=Gn(a),f.callback=null,Hn(l,f,a),l=a,n.current.lanes=l,Eo(n,l),nn(n),e[Ci]=n.current,$r(e),new zs(n)},pl.version="19.2.3",pl}var ah;function fy(){if(ah)return Tu.exports;ah=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tu.exports=dy(),Tu.exports}var py=fy();const hy=Bm(py);var se=(i=>(i.EXPERIENCE="EXPERIENCE",i.DIFFICULTY="DIFFICULTY",i.GOAL="GOAL",i.LOCKED="LOCKED",i))(se||{}),Oe=(i=>(i.LANDING="LANDING",i.MY_MAP="MY_MAP",i.COMMUNITY="COMMUNITY",i.INSIGHT_SUMMARY="INSIGHT_SUMMARY",i.THEIR_MAP="THEIR_MAP",i))(Oe||{}),on=(i=>(i.EXPERIENCE="EXPERIENCE",i.DIFFICULTY="DIFFICULTY",i.GOAL="GOAL",i))(on||{});const xi={[se.EXPERIENCE]:"#9FD2E3",[se.DIFFICULTY]:"#F36223",[se.GOAL]:"#FDD140",[se.LOCKED]:"#E0E0E0"},my={1:"M10,10 L30,12 C35,5 45,5 50,12 L70,10 L72,30 C80,35 80,45 72,50 L70,70 L50,72 C45,80 35,80 30,72 L10,70 L8,50 C0,45 0,35 8,30 Z",2:"M10,10 L35,8 C40,0 60,0 65,8 L90,10 L92,35 C100,40 100,60 92,65 L90,90 L65,92 C60,100 40,100 35,92 L10,90 L8,65 C0,60 0,40 8,35 Z",3:"M5,5 L30,5 C35,15 45,15 50,5 L75,5 L75,30 C65,35 65,45 75,50 L75,75 L50,75 C45,65 35,65 30,75 L5,75 L5,50 C15,45 15,35 5,30 Z",4:"M15,15 L40,10 C45,0 55,0 60,10 L85,15 L90,40 C100,45 100,55 90,60 L85,85 L60,90 C55,100 45,100 40,90 L15,85 L10,60 C0,55 0,45 10,40 Z"},vl=[{id:"e1",date:"2023.03.12",title:"",description:"",type:se.EXPERIENCE,shapeVariant:1,rotation:-12,x:-380,y:-350,author:{name:"Sarah",avatar:"https://i.pravatar.cc/150?u=e1"}},{id:"g6",date:"2026.05.01",title:"",description:"",type:se.GOAL,shapeVariant:2,rotation:-5,x:-200,y:-480,author:{name:"Bard",avatar:"https://i.pravatar.cc/150?u=g6"}},{id:"d1",date:"2023.11.05",title:"",description:"",type:se.DIFFICULTY,shapeVariant:4,rotation:8,x:-550,y:-150,author:{name:"Olivia",avatar:"https://i.pravatar.cc/150?u=d3"}},{id:"d3",date:"2023.08.10",title:"",description:"",type:se.DIFFICULTY,shapeVariant:2,rotation:15,x:450,y:-300,author:{name:"Anna",avatar:"https://i.pravatar.cc/150?u=d1"}},{id:"e4",date:"2023.09.15",title:"Vlog",description:"",type:se.EXPERIENCE,shapeVariant:3,rotation:-8,x:250,y:-150,author:{name:"Jessica",avatar:"https://i.pravatar.cc/150?u=e3"}},{id:"g1",date:"2024.10.01",title:"",description:"F*ck Money",type:se.GOAL,shapeVariant:3,rotation:6,x:650,y:-80,author:{name:"Ryan",avatar:"https://i.pravatar.cc/150?u=g1"}},{id:"d2",date:"2024.03.20",title:"",description:"",type:se.DIFFICULTY,shapeVariant:3,rotation:-4,x:-50,y:-80,author:{name:"Echo",avatar:"https://i.pravatar.cc/150?u=d6"}},{id:"d5",date:"2024.02.14",title:"",description:"",type:se.DIFFICULTY,shapeVariant:1,rotation:5,x:180,y:-350,author:{name:"Lucas",avatar:"https://i.pravatar.cc/150?u=d4"}},{id:"e5",date:"2024.01.20",title:"",description:"",type:se.EXPERIENCE,shapeVariant:2,rotation:10,x:220,y:150,author:{name:"Leo",avatar:"https://i.pravatar.cc/150?u=e6"}},{id:"e2",date:"2023.05.20",title:"",description:"",type:se.EXPERIENCE,shapeVariant:2,rotation:-3,x:-300,y:180,author:{name:"Mike",avatar:"https://i.pravatar.cc/150?u=e2"}},{id:"e3",date:"2023.12.24",title:"",description:"",type:se.EXPERIENCE,shapeVariant:4,rotation:12,x:-500,y:350,author:{name:"David",avatar:"https://i.pravatar.cc/150?u=e4"}},{id:"g3",date:"2025.06.15",title:"",description:"",type:se.GOAL,shapeVariant:1,rotation:-6,x:-180,y:450,author:{name:"Daniel",avatar:"https://i.pravatar.cc/150?u=g3"}},{id:"d4",date:"2024.05.01",title:"",description:"",type:se.DIFFICULTY,shapeVariant:1,rotation:-10,x:420,y:100,author:{name:"Job",avatar:"https://i.pravatar.cc/150?u=d7"}},{id:"g5",date:"2026.01.01",title:"",description:"",type:se.GOAL,shapeVariant:1,rotation:-9,x:350,y:400,author:{name:"Jacob",avatar:"https://i.pravatar.cc/150?u=g5"}},{id:"g4",date:"2025.12.25",title:"",description:"",type:se.GOAL,shapeVariant:2,rotation:4,x:580,y:550,author:{name:"Emma",avatar:"https://i.pravatar.cc/150?u=g4"}},{id:"g2",date:"2025.02.01",title:"",description:"",type:se.GOAL,shapeVariant:4,rotation:-7,x:100,y:600,author:{name:"Chloe",avatar:"https://i.pravatar.cc/150?u=g2"}},{id:"g7",date:"2026.11.11",title:"",description:"",type:se.GOAL,shapeVariant:3,rotation:3,x:-50,y:750,author:{name:"Writer",avatar:"https://i.pravatar.cc/150?u=g7"}}],gy={name:"",avatar:"https://picsum.photos/200",tagline:"PERSONAL LOG",identity:"THINKER",role:"",location:"",mood:"",goal:"",mission:"Build meaningful products"},vy=({user:i=gy,onBack:t})=>v.jsxs("div",{className:"fixed top-24 left-8 w-80 bg-[#111] bg-opacity-90 backdrop-blur-md rounded-3xl border border-gray-800 p-6 z-40 text-gray-300 font-sans shadow-2xl transition-all duration-300",children:[v.jsxs("div",{className:"flex items-center space-x-4 mb-6 relative",children:[t&&v.jsx("button",{onClick:t,className:"absolute -left-2 -top-2 w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center backdrop-blur-md transition-all border border-white/10 z-50 group shadow-lg",title:"Back",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5"})})}),v.jsx("div",{className:`w-16 h-16 rounded-full bg-pink-200 overflow-hidden border-2 border-white/20 transition-transform ${t?"translate-x-4":""}`,children:v.jsx("img",{src:i.avatar,alt:"Avatar",className:"w-full h-full object-cover grayscale contrast-125"})}),v.jsxs("div",{className:`${t?"translate-x-2":""} transition-transform`,children:[v.jsx("h2",{className:"text-white text-lg font-bold font-serif-sc",children:i.name}),v.jsx("p",{className:"text-xs tracking-widest text-gray-500",children:i.tagline})]}),v.jsxs("div",{className:"ml-auto flex space-x-2 text-gray-500",children:[v.jsx("span",{children:""}),v.jsx("span",{children:"<>"})]})]}),v.jsx("p",{className:"text-sm text-gray-400 mb-6 border-b border-gray-800 pb-4",children:""}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider",children:"Identity"}),v.jsx("div",{className:"bg-[#1A1A1A] px-4 py-3 rounded-lg border border-gray-800 text-white font-medium tracking-wide",children:i.identity})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider",children:"Attribute_Matrix"}),v.jsxs("div",{className:"bg-[#1A1A1A] rounded-lg border border-gray-800 p-4 grid grid-cols-2 gap-y-4 text-xs",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("span",{className:"text-gray-500 mb-1 flex items-center",children:[v.jsx("span",{className:"mr-1",children:""})," ROLE"]}),v.jsx("span",{className:"text-white font-medium pl-5",children:i.role})]}),v.jsxs("div",{className:"flex flex-col text-right",children:[v.jsxs("span",{className:"text-gray-500 mb-1 flex items-center justify-end",children:[v.jsx("span",{className:"mr-1",children:""})," LOC"]}),v.jsx("span",{className:"text-white font-medium",children:i.location})]}),v.jsxs("div",{className:"flex flex-col col-span-2",children:[v.jsxs("span",{className:"text-gray-500 mb-1 flex items-center",children:[v.jsx("span",{className:"mr-1",children:""})," MOOD"]}),v.jsx("span",{className:"text-white font-medium pl-5",children:i.mood})]}),v.jsxs("div",{className:"flex flex-col col-span-2",children:[v.jsxs("span",{className:"text-gray-500 mb-1 flex items-center",children:[v.jsx("span",{className:"mr-1",children:""})," GOAL"]}),v.jsx("span",{className:"text-white font-medium pl-5",children:i.goal})]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider",children:"Current_Mission"}),v.jsxs("div",{className:"bg-[#1A1A1A] rounded-lg border border-gray-800 p-4 relative overflow-hidden group hover:border-gray-600 transition-colors",children:[v.jsx("p",{className:"text-gray-500 text-xs mb-1",children:""}),v.jsx("p",{className:"text-white font-mono text-sm",children:i.mission}),v.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full border-2 border-gray-600 flex items-center justify-center opacity-50",children:v.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full"})})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recent_Nodes"}),v.jsx("span",{className:"text-[10px] text-gray-600",children:" LOG"})]}),v.jsxs("div",{className:"bg-[#1A1A1A] rounded-lg border border-gray-800 p-4 space-y-3",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] text-gray-500",children:"2023.12"}),v.jsx("p",{className:"text-xs text-white",children:"Year End Reflection"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] text-gray-500",children:"2023.11"}),v.jsx("p",{className:"text-xs text-white",children:"Final Sprint"})]})]})]})]})]}),ln=({data:i,isLocked:t=!1,scale:o=1,className:s="",style:r,showAuthor:d=!1})=>{const p=xi[i.type],g=i.type===se.DIFFICULTY?"#FFFFFF":"#000000",y=my[i.shapeVariant||1],m=200;return v.jsxs("div",{className:`relative flex items-center justify-center select-none ${s}`,style:{width:m*o,height:m*o,transform:`rotate(${i.rotation||0}deg)`,filter:"drop-shadow(0px 8px 12px rgba(0,0,0,0.4))",...r},children:[v.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full overflow-visible",preserveAspectRatio:"none",children:[v.jsx("path",{d:y,fill:p,stroke:"none"}),v.jsx("filter",{id:"noiseFilter",children:v.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.8",numOctaves:"3",stitchTiles:"stitch"})}),v.jsx("rect",{width:"100%",height:"100%",filter:"url(#noiseFilter)",opacity:"0.15",style:{mixBlendMode:"multiply"}}),v.jsx("path",{d:y,fill:"none",stroke:"white",strokeWidth:"0.5",opacity:"0.4"})]}),d&&i.author&&v.jsx("div",{className:"absolute top-2 left-6 z-20",children:v.jsx("img",{src:i.author.avatar,alt:i.author.name,className:"w-10 h-10 rounded-full border-2 border-white shadow-lg object-cover transform hover:scale-110 transition-transform duration-200",title:i.author.name})}),t?v.jsx("div",{className:"relative z-10 text-white flex flex-col items-center justify-center opacity-50",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-10 h-10",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})}):v.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center justify-center overflow-hidden",style:{color:g,width:"55%",height:"55%"},children:[v.jsx("div",{className:"text-[8px] opacity-70 mb-1 font-sans tracking-wide uppercase shrink-0 w-full truncate border-b border-current/20 pb-0.5",children:i.date}),v.jsx("h3",{className:"text-xs md:text-sm font-serif-sc font-bold mb-1 leading-tight tracking-tight w-full line-clamp-2",children:i.title}),v.jsx("p",{className:"text-[9px] leading-tight font-medium opacity-90 line-clamp-3 w-full",children:i.description})]})]})},yy=({puzzles:i=vl})=>{const[t,o]=Z.useState(.85),[s,r]=Z.useState({x:0,y:0}),[d,p]=Z.useState(!1),[g,y]=Z.useState(i),[m,x]=Z.useState(!1),[S,E]=Z.useState(null),[C,N]=Z.useState({x:0,y:0}),D=Z.useRef(null),R=Z.useRef(0);Z.useEffect(()=>{y(i)},[i]);const V=.3,Q=2.5,H=3e3,F=[{id:"l1",x:-650,y:-250},{id:"l2",x:680,y:450},{id:"l3",x:0,y:850}];Z.useEffect(()=>{if(!(d||g.length===0)&&D.current){const O=window.innerWidth,ne=window.innerHeight,$=O/2+50,ae=ne/2+50,ge=O/2,me=ne/2;r({x:$,y:ae});let I=null;const J=2e3,ee=pe=>{I||(I=pe);const ye=Math.min((pe-I)/J,1),b=1-Math.pow(1-ye,3),z=$+(ge-$)*b,X=ae+(me-ae)*b;r({x:z,y:X}),ye<1&&!d&&(R.current=requestAnimationFrame(ee))};return R.current=requestAnimationFrame(ee),()=>{cancelAnimationFrame(R.current)}}},[d,g]);const W=O=>{if(p(!0),!D.current)return;const $=-O.deltaY*8e-4,ae=Math.min(Math.max(V,t+$),Q),ge=D.current.getBoundingClientRect(),me=O.clientX-ge.left,I=O.clientY-ge.top,J=(me-s.x)/t,ee=(I-s.y)/t,pe=me-J*ae,ye=I-ee*ae;o(ae),r({x:pe,y:ye})},K=O=>{p(!0),S||(x(!0),N({x:O.clientX,y:O.clientY}),D.current&&(D.current.style.cursor="grabbing"))},j=(O,ne)=>{O.stopPropagation(),O.preventDefault(),p(!0),E(ne),N({x:O.clientX,y:O.clientY}),D.current&&(D.current.style.cursor="move")},fe=O=>{const ne=O.clientX-C.x,$=O.clientY-C.y;if(S){const ae=ne/t,ge=$/t;y(me=>me.map(I=>I.id===S?{...I,x:(I.x||0)+ae,y:(I.y||0)+ge}:I))}else if(m){let ae=s.x+ne,ge=s.y+$;ae>H&&(ae=H),ae<-H&&(ae=-H),ge>H&&(ge=H),ge<-H&&(ge=-H),r({x:ae,y:ge})}else return;N({x:O.clientX,y:O.clientY})},Y=()=>{x(!1),E(null),D.current&&(D.current.style.cursor="grab")};return v.jsxs("div",{ref:D,className:"absolute inset-0 w-full h-full overflow-hidden z-10 touch-none bg-transparent",style:{cursor:"grab",userSelect:"none"},onWheel:W,onMouseDown:K,onMouseMove:fe,onMouseUp:Y,onMouseLeave:Y,children:[v.jsxs("div",{className:"absolute w-full h-full transform-gpu will-change-transform origin-top-left",style:{transform:`translate3d(${s.x}px, ${s.y}px, 0) scale(${t})`,transition:m?"none":"transform 0.1s ease-out"},children:[g.map(O=>{const ne=S===O.id;return v.jsx("div",{className:`absolute ${ne?"z-50":"z-20 hover:z-40"}`,style:{left:O.x,top:O.y,transform:`translate(-50%, -50%) rotate(${O.rotation||0}deg) scale(${ne?1.1:1})`,transition:ne?"none":"transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)"},onMouseDown:$=>j($,O.id),children:v.jsx(ln,{data:O,className:ne?"drop-shadow-2xl":""})},O.id)}),F.map((O,ne)=>v.jsx(ln,{data:{id:`locked-${ne}`,date:"",title:"",description:"",type:se.LOCKED,shapeVariant:ne%2===0?1:4,rotation:0},isLocked:!0,className:"absolute opacity-40 z-10 pointer-events-none",style:{left:O.x,top:O.y,transform:"translate(-50%, -50%)"}},`locked-${ne}`))]}),v.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.05]",style:{backgroundImage:"linear-gradient(#888 1px, transparent 1px), linear-gradient(90deg, #888 1px, transparent 1px)",backgroundSize:`${200*t}px ${200*t}px`,backgroundPosition:`${s.x}px ${s.y}px`}})]})},Om=({viewingPuzzle:i,onClose:t,onVisitProfile:o})=>{var R,V,Q,H,F,W;const[s,r]=Z.useState("DETAIL"),[d,p]=Z.useState(null),[g,y]=Z.useState(!1),x={...vl.find(K=>K.type===se.DIFFICULTY)||vl[0],author:{name:"Me",avatar:"https://picsum.photos/200"},title:"",description:""},S=K=>{p(K),y(!0),setTimeout(()=>y(!1),1500)},E=()=>{if(!d||!g)return{leftClass:"",rightClass:"",emoji:null};switch(d){case"":return{leftClass:"animate-nuzzle-right",rightClass:"animate-nuzzle-left",emoji:""};case"":return{leftClass:"animate-hug-squeeze",rightClass:"animate-hug-squeeze",emoji:""};case"":return{leftClass:"animate-shove-receive",rightClass:"animate-shove-give",emoji:""};case"":return{leftClass:"animate-bounce",rightClass:"animate-bounce-delay",emoji:""};default:return{leftClass:"",rightClass:"",emoji:null}}},{leftClass:C,rightClass:N,emoji:D}=E();return v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-xl animate-fadeIn p-4 overflow-hidden",onClick:t,children:[v.jsx("style",{children:`
        @keyframes nuzzleRight { 0%, 100% { transform: rotate(-5deg) translateX(0); } 50% { transform: rotate(5deg) translateX(20px); } }
        @keyframes nuzzleLeft { 0%, 100% { transform: rotate(5deg) translateX(0); } 50% { transform: rotate(-5deg) translateX(-20px); } }
        .animate-nuzzle-right { animation: nuzzleRight 1s ease-in-out infinite; }
        .animate-nuzzle-left { animation: nuzzleLeft 1s ease-in-out infinite; }
        @keyframes hugSqueeze { 0% { transform: scale(1); } 40% { transform: scale(0.9) translateX(10px); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        .animate-hug-squeeze { animation: hugSqueeze 0.8s ease-in-out; }
        @keyframes shoveGive { 0% { transform: translateX(0); } 20% { transform: translateX(-30px); } 50% { transform: translateX(50px); } 100% { transform: translateX(0); } }
        @keyframes shoveReceive { 0% { transform: translateX(0); } 50% { transform: translateX(-60px) rotate(-10deg); } 100% { transform: translateX(0); } }
        .animate-shove-give { animation: shoveGive 0.6s ease-in; }
        .animate-shove-receive { animation: shoveReceive 0.6s ease-out; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-30px); } }
        .animate-bounce { animation: bounce 0.6s ease-in-out; }
        .animate-bounce-delay { animation: bounce 0.6s ease-in-out 0.1s; }
        @keyframes floatUp { 0% { opacity: 0; transform: translateY(20px) scale(0.5); } 50% { opacity: 1; transform: translateY(-40px) scale(1.5); } 100% { opacity: 0; transform: translateY(-80px) scale(1); } }
        .animate-emoji-float { animation: floatUp 1.2s ease-out forwards; }
        .animate-float-slow { animation: float 6s ease-in-out infinite; }
        .animate-float-delayed { animation: float 6s ease-in-out 3s infinite; }
      `}),s==="DETAIL"&&v.jsxs("div",{className:"relative w-full max-w-lg bg-[#0a0a0a]/90 backdrop-blur-2xl rounded-[3rem] p-6 flex flex-col items-center justify-center animate-popIn border border-gray-800 shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden",style:{minHeight:"550px"},onClick:K=>K.stopPropagation(),children:[v.jsxs("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-start z-50 pointer-events-none",children:[v.jsx("button",{onClick:t,className:"pointer-events-auto w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-all backdrop-blur-md border border-white/5 group",title:"Close",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),v.jsxs("button",{onClick:K=>{K.stopPropagation(),r("INTERACT")},className:"pointer-events-auto group flex items-center gap-2 px-4 py-2 bg-[#F36223]/10 hover:bg-[#F36223] rounded-full border border-[#F36223]/30 transition-all duration-300 backdrop-blur-md",children:[v.jsx("span",{className:"text-xs font-bold text-[#F36223] group-hover:text-white transition-colors uppercase tracking-widest hidden sm:block",children:"Bump"}),v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-[#F36223] group-hover:text-white transition-colors group-hover:rotate-12 transform",children:[v.jsx("path",{d:"M9.5 7.5a1 1 0 00-1-1H6a1 1 0 00-1 1v2a1 1 0 01-2 0V7a1 1 0 00-1-1H1v4a1 1 0 001 1h1a1 1 0 010 2H1a1 1 0 00-1 1v4h4a1 1 0 001-1v-1a1 1 0 012 0v1a1 1 0 001 1h2.5v-4H10a1 1 0 010-2h.5V7.5z",opacity:"0.8"}),v.jsx("path",{d:"M14.5 7.5a1 1 0 00-1-1H11v4h.5a1 1 0 010 2H11v4h2.5a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 010-2v-.5a1 1 0 012 0v.5a1 1 0 001 1h.5v-4h-2.5a1 1 0 00-1-1v-1a1 1 0 012 0v-1a1 1 0 00-1-1H16a1 1 0 00-1 1v1a1 1 0 01-2 0v-1a1 1 0 00-1-1h-.5v4h1a1 1 0 010 2h-1z",opacity:"1",className:"translate-x-[2px]"})]})]})]}),v.jsx("div",{className:"relative flex-1 w-full flex items-center justify-center mt-8",children:v.jsxs("div",{className:"relative",children:[v.jsx(ln,{data:{...i,rotation:0},scale:2.8,showAuthor:!1,className:"drop-shadow-[0_20px_50px_rgba(0,0,0,0.6)]"}),v.jsxs("div",{className:"absolute bottom-[12%] left-0 right-0 flex flex-col items-center justify-center z-10 pointer-events-none",children:[v.jsxs("div",{onClick:K=>{K.stopPropagation(),o&&o(i.author)},className:"relative mb-2 transform hover:scale-110 transition-transform pointer-events-auto cursor-pointer",children:[v.jsx("img",{src:(R=i.author)==null?void 0:R.avatar,alt:(V=i.author)==null?void 0:V.name,className:"w-12 h-12 rounded-full border-2 border-white shadow-lg object-cover hover:ring-2 hover:ring-[#F36223] transition-all"}),v.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-[#F36223] text-white text-[8px] px-2 py-0.5 rounded-full font-bold whitespace-nowrap shadow-md",children:i.recommendationReason?"RECOMMENDED":"AUTHOR"})]}),i.recommendationReason&&v.jsx("div",{className:"max-w-[180px] text-center mt-2",children:v.jsxs("p",{className:"text-[11px] font-serif-sc text-white/90 leading-snug drop-shadow-md italic",children:["",i.recommendationReason,""]})})]})]})})]}),s==="INTERACT"&&v.jsxs("div",{className:"w-full max-w-4xl flex flex-col items-center animate-fadeIn py-4 relative",onClick:K=>K.stopPropagation(),children:[v.jsx("div",{className:"absolute top-0 left-0 z-[60]",children:v.jsx("button",{onClick:()=>r("DETAIL"),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-all backdrop-blur-md border border-white/5 group",title:"Back to Detail",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})})}),v.jsx("div",{className:"flex gap-3 mb-6 relative z-50 flex-wrap justify-center mt-8",children:["","","",""].map(K=>v.jsx("button",{onClick:()=>S(K),className:`px-6 py-2 rounded-full border-2 transition-all duration-300 font-serif-sc text-base font-bold
                    ${d===K?"bg-[#F36223] border-[#F36223] text-white shadow-[0_0_20px_rgba(243,98,35,0.5)] scale-110":"bg-black/50 border-gray-600 text-gray-300 hover:border-white hover:text-white backdrop-blur-md"}
                  `,children:K},K))}),v.jsxs("div",{className:"flex items-center justify-center gap-6 md:gap-12 relative w-full h-[350px]",children:[g&&D&&v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[60] text-6xl animate-emoji-float pointer-events-none drop-shadow-2xl",children:D}),v.jsx("div",{className:`relative transition-all duration-500 ${C}`,children:v.jsx(ln,{data:{...i,rotation:-5},scale:1.8,showAuthor:!0})}),v.jsx("div",{className:`relative transition-all duration-500 ${N}`,children:v.jsx(ln,{data:{...x,rotation:5},scale:1.8,showAuthor:!0})})]}),d&&v.jsx("button",{onClick:()=>r("CHAT"),className:"mt-6 px-12 py-3 bg-white text-black text-lg rounded-full font-bold tracking-[0.2em] hover:bg-gray-200 hover:scale-105 transition-all animate-slideUp shadow-[0_0_40px_rgba(255,255,255,0.3)] z-50",children:"CONNECT"})]}),s==="CHAT"&&v.jsxs("div",{className:"w-full max-w-5xl h-[650px] flex flex-col md:flex-row items-center justify-center gap-8 animate-popIn p-4",onClick:K=>K.stopPropagation(),children:[v.jsx("div",{className:"w-full md:w-1/3 h-64 md:h-full relative hidden md:block",children:v.jsxs("div",{className:"absolute inset-0 bg-white/5 rounded-3xl backdrop-blur-sm border border-white/5",children:[v.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full",children:[v.jsx("div",{className:"absolute top-[20%] left-[10%] animate-float-slow z-10 hover:z-30 hover:scale-110 transition-transform cursor-pointer",children:v.jsx(ln,{data:{...i,rotation:-10},scale:1.2,showAuthor:!0})}),v.jsx("div",{className:"absolute bottom-[20%] right-[10%] animate-float-delayed z-20 hover:z-30 hover:scale-110 transition-transform cursor-pointer",children:v.jsx(ln,{data:{...x,rotation:10},scale:1.2,showAuthor:!0})})]}),v.jsx("p",{className:"absolute bottom-6 left-0 w-full text-center text-white/30 text-xs font-serif-sc tracking-widest",children:"CONNECTIONS MADE"})]})}),v.jsxs("div",{className:"w-full md:w-2/3 h-full bg-[#111] rounded-3xl border border-gray-800 overflow-hidden flex flex-col shadow-2xl relative",children:[v.jsxs("div",{className:"bg-[#1A1A1A] p-5 flex items-center justify-between border-b border-gray-800",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>r("INTERACT"),className:"mr-3 w-8 h-8 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/20 text-gray-300 hover:text-white transition-all border border-white/10",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5"})})}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border border-gray-600",children:v.jsx("img",{src:(Q=i.author)==null?void 0:Q.avatar,className:"w-full h-full object-cover"})}),v.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-[#1A1A1A] rounded-full"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-white font-serif-sc font-bold text-lg",children:(H=i.author)==null?void 0:H.name}),v.jsxs("p",{className:"text-xs text-gray-500",children:['Replied to your "',d,'"']})]})]}),v.jsx("button",{onClick:t,className:"text-gray-500 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-6",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:"Today, 10:23 AM"})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs("div",{className:"flex items-center gap-2 bg-[#1A1A1A] px-4 py-2 rounded-full border border-gray-800/50",children:[v.jsx("span",{className:"text-xl",children:D}),v.jsxs("span",{className:"text-xs text-gray-400",children:['You sent a "',d,'"']})]})}),v.jsxs("div",{className:"flex items-start gap-4 animate-slideUp",children:[v.jsx("img",{src:(F=i.author)==null?void 0:F.avatar,className:"w-10 h-10 rounded-full mt-1"}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("span",{className:"text-xs text-gray-500 ml-1",children:(W=i.author)==null?void 0:W.name}),v.jsx("div",{className:"bg-[#222] rounded-2xl rounded-tl-none px-5 py-4 max-w-md border border-gray-800 shadow-sm",children:v.jsxs("p",{className:"text-sm md:text-base text-gray-200 leading-relaxed",children:["",d,""]})})]})]})]}),v.jsx("div",{className:"p-5 bg-[#1A1A1A] border-t border-gray-800",children:v.jsxs("div",{className:"flex gap-3",children:[v.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 bg-black border border-gray-700 rounded-full px-6 py-4 text-sm text-white focus:outline-none focus:border-[#F36223] focus:ring-1 focus:ring-[#F36223] transition-all placeholder-gray-600"}),v.jsx("button",{className:"w-14 h-14 bg-[#F36223] rounded-full flex items-center justify-center text-white hover:bg-[#ff7a40] transition-colors shadow-lg hover:scale-105 transform duration-200",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6 translate-x-0.5",children:v.jsx("path",{d:"M3.105 2.289a.75.75 0 00-.826.95l1.414 4.925A1.5 1.5 0 005.135 9.25h6.115a.75.75 0 010 1.5H5.135a1.5 1.5 0 00-1.442 1.086l-1.414 4.926a.75.75 0 00.826.95 28.89 28.89 0 0015.293-7.154.75.75 0 000-1.115A28.897 28.897 0 003.105 2.289z"})})})]})})]})]})]})},rh=[{top:"25%",left:"20%",animationDelay:"0s"},{top:"28%",right:"18%",animationDelay:"1.5s"},{top:"55%",left:"calc(50% - 120px)",animationDelay:"0.5s"},{top:"70%",left:"20%",animationDelay:"2s"},{top:"65%",right:"22%",animationDelay:"3.5s"}],xy=({onBack:i,onVisitProfile:t})=>{const[o,s]=Z.useState(on.EXPERIENCE),[r,d]=Z.useState(""),[p,g]=Z.useState(!1),[y,m]=Z.useState(null),x=Z.useMemo(()=>{let N=se.EXPERIENCE;return o===on.DIFFICULTY&&(N=se.DIFFICULTY),o===on.GOAL&&(N=se.GOAL),[...vl.filter(R=>{const V=R.type===N,Q=R.title.toLowerCase().includes(r.toLowerCase())||R.description.toLowerCase().includes(r.toLowerCase());return V&&Q})].sort(()=>.5-Math.random()).slice(0,5)},[o,r,p]),S=()=>{g(!0),setTimeout(()=>g(!1),800)},E=N=>{m(N)},C=(N,D)=>`w-16 h-16 rounded-full cursor-pointer transition-all duration-300 flex items-center justify-center text-xs font-bold shadow-[0_0_20px_rgba(255,255,255,0.1)]
              ${o===N?"scale-110 opacity-100 ring-4 ring-white/20":"scale-90 opacity-60 hover:opacity-100"}
              backdrop-blur-sm relative group select-none`;return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
        @keyframes float {
          0% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
          100% { transform: translateY(0px); }
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
      `}),v.jsxs("div",{className:"absolute inset-0 z-30 pt-32 px-12 pb-12 flex flex-col items-center overflow-hidden",children:[v.jsx("button",{onClick:i,className:"absolute top-28 left-8 z-50 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white backdrop-blur-md transition-all border border-white/10 group",title:"Return to Map",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 group-hover:-translate-x-1 transition-transform",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),v.jsx("h2",{className:"text-4xl font-serif-sc text-pink-200 mb-6 tracking-wider drop-shadow-lg z-50",children:"HER WAY "}),v.jsxs("div",{className:"flex gap-3 mb-4 w-full max-w-lg relative z-50",children:[v.jsxs("div",{className:"relative flex-1 group",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-pink-300 transition-colors",children:v.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),v.jsx("input",{type:"text",className:"block w-full pl-11 pr-3 py-3 border border-gray-600 rounded-full leading-5 bg-[#1A1A1A]/90 text-gray-200 placeholder-gray-500 focus:outline-none focus:bg-black focus:border-pink-500 focus:ring-1 focus:ring-pink-500 text-sm transition-all shadow-lg backdrop-blur-md font-sans",placeholder:" / ",value:r,onChange:N=>d(N.target.value)})]}),v.jsx("button",{onClick:S,className:`w-12 h-12 flex-shrink-0 bg-[#222]/80 border border-gray-600 rounded-full text-gray-300 hover:text-white hover:bg-gray-800 transition-all flex items-center justify-center hover:scale-105 hover:border-pink-300/50 ${p?"animate-spin":""}`,title:"",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})})]}),v.jsxs("div",{className:"absolute left-10 top-1/2 -translate-y-1/2 flex flex-col space-y-8 z-50",children:[v.jsx("div",{onClick:()=>s(on.EXPERIENCE),className:C(on.EXPERIENCE,xi[se.EXPERIENCE]),style:{background:`radial-gradient(circle at 30% 30%, ${xi[se.EXPERIENCE]}, #4A7A8C)`},children:v.jsx("span",{className:"text-black drop-shadow-sm font-sans",children:""})}),v.jsx("div",{onClick:()=>s(on.DIFFICULTY),className:C(on.DIFFICULTY,xi[se.DIFFICULTY]),style:{background:`radial-gradient(circle at 30% 30%, ${xi[se.DIFFICULTY]}, #8C3A1F)`},children:v.jsx("span",{className:"text-white drop-shadow-md font-sans",children:""})}),v.jsx("div",{onClick:()=>s(on.GOAL),className:C(on.GOAL,xi[se.GOAL]),style:{background:`radial-gradient(circle at 30% 30%, ${xi[se.GOAL]}, #8C7A2F)`},children:v.jsx("span",{className:"text-black drop-shadow-sm font-sans",children:""})})]}),v.jsxs("div",{className:`absolute inset-0 z-40 pointer-events-none transition-opacity duration-500 ${p?"opacity-0":"opacity-100"}`,children:[x.map((N,D)=>v.jsx("div",{className:"absolute animate-float hover:z-50 hover:scale-105 transition-all duration-300 cursor-pointer",style:{...rh[D%rh.length],pointerEvents:"auto"},onClick:()=>E(N),children:v.jsx(ln,{data:N,scale:1.4,showAuthor:!0})},N.id)),x.length===0&&v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-gray-500 font-serif-sc",children:"..."})]})]}),y&&v.jsx(Om,{viewingPuzzle:{...y,recommendationReason:""},onClose:()=>m(null),onVisitProfile:t})]})},Fm=({initialType:i,initialContent:t,initialTitle:o="",onClose:s,onPublish:r})=>{const[d,p]=Z.useState(o),[g,y]=Z.useState(t),[m,x]=Z.useState(!1),[S,E]=Z.useState(!1),C=()=>{x(!0),setTimeout(()=>{x(!1),E(!0),setTimeout(()=>{r({title:d,description:g,type:i})},1200)},1e3)},N={id:"preview",date:"2024.NOW",title:d,description:g,type:i,shapeVariant:1,rotation:0,author:{name:"Me",avatar:"https://picsum.photos/200"}};return v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-fadeIn p-4 overflow-hidden",onClick:s,children:[v.jsx("style",{children:`
        @keyframes drawCheck {
          0% { stroke-dasharray: 0, 100; opacity: 0; }
          100% { stroke-dasharray: 100, 100; opacity: 1; }
        }
        .animate-check {
          animation: drawCheck 0.6s ease-out forwards;
        }
        @keyframes popScale {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-pop-scale {
            animation: popScale 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
      `}),v.jsx("div",{className:"relative w-full max-w-lg bg-[#111] border border-gray-800 rounded-[2rem] p-8 flex flex-col items-center shadow-2xl animate-popIn",onClick:D=>D.stopPropagation(),style:{minHeight:"400px",justifyContent:S?"center":"flex-start"},children:S?v.jsxs("div",{className:"flex flex-col items-center justify-center animate-fadeIn",children:[v.jsx("div",{className:"w-24 h-24 rounded-full bg-green-500/20 flex items-center justify-center mb-6 shadow-[0_0_40px_rgba(34,197,94,0.2)] animate-pop-scale",children:v.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center shadow-lg",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:v.jsx("path",{className:"animate-check",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5",strokeDasharray:"100"})})})}),v.jsx("h3",{className:"text-2xl font-serif-sc text-white font-bold mb-2 animate-slideUp",children:""}),v.jsx("p",{className:"text-gray-400 text-sm animate-slideUp",style:{animationDelay:"0.1s"},children:"..."})]}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-2xl font-serif-sc text-white mb-6",children:""}),v.jsx("div",{className:"relative w-full flex justify-center mb-8",children:v.jsxs("div",{className:"relative transform scale-125",children:[v.jsx(ln,{data:{...N,title:"",description:""},scale:2.2,className:"opacity-100"}),v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-8 z-20",children:[v.jsx("input",{type:"text",value:d,onChange:D=>p(D.target.value),className:"w-full bg-transparent text-center text-lg font-serif-sc font-bold mb-2 focus:outline-none border-b border-transparent focus:border-white/30 transition-colors placeholder-white/50",placeholder:"...",style:{color:i===se.DIFFICULTY?"white":"black"}}),v.jsx("textarea",{value:g,onChange:D=>y(D.target.value),className:"w-full h-24 bg-transparent text-center text-xs font-medium resize-none focus:outline-none rounded-lg p-1 border border-transparent focus:bg-white/10 transition-colors placeholder-white/50",placeholder:"...",style:{color:i===se.DIFFICULTY?"white":"black"}})]})]})}),v.jsxs("div",{className:"flex gap-4 w-full",children:[v.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-full border border-gray-700 text-gray-300 hover:bg-gray-800 transition-all font-medium",children:""}),v.jsx("button",{onClick:C,disabled:m,className:"flex-1 py-3 rounded-full bg-[#F36223] text-white hover:bg-[#ff7a40] transition-all font-bold shadow-lg flex items-center justify-center",children:m?v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):""})]})]})})]})},Ty=[{id:"rec1",date:"2023.12.01",title:"5",description:"5",type:se.EXPERIENCE,shapeVariant:1,rotation:-5,author:{name:"Alice",avatar:"https://i.pravatar.cc/150?u=rec1"},recommendationReason:""},{id:"rec2",date:"2023.12.05",title:"",description:"",type:se.EXPERIENCE,shapeVariant:2,rotation:5,author:{name:"Bob",avatar:"https://i.pravatar.cc/150?u=rec2"},recommendationReason:""},{id:"rec3",date:"2023.12.10",title:"",description:"",type:se.EXPERIENCE,shapeVariant:3,rotation:0,author:{name:"Charlie",avatar:"https://i.pravatar.cc/150?u=rec3"},recommendationReason:""}],Sy=({onBack:i,onVisitProfile:t,onOpenMentorChat:o})=>{const[s,r]=Z.useState(null),[d,p]=Z.useState(null),[g,y]=Z.useState(null),m=[{id:"flag",type:se.GOAL,label:" flag",content:"",buttonText:""},{id:"question",type:se.DIFFICULTY,label:"",content:"",buttonText:""},{id:"experience",type:se.EXPERIENCE,label:"",content:"",buttonText:""}],x=C=>{p(C)},S=(C,N)=>{N.stopPropagation(),y({type:C.type,content:C.content,label:C.label})},E=C=>{y(null),i()};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"absolute inset-0 z-40 flex items-center justify-center p-8 md:p-16 animate-fadeIn",children:[v.jsx("button",{onClick:i,className:"absolute top-28 left-8 z-50 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white backdrop-blur-md transition-all border border-white/10 group",title:"Return to Map",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 group-hover:-translate-x-1 transition-transform",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),o&&v.jsx("button",{onClick:o,className:"absolute top-28 right-8 z-50 px-4 py-2 rounded-full bg-white/10 hover:bg-white/20 text-white backdrop-blur-md transition-all border border-white/10",title:"Open Mentor Chat",children:""}),v.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-12 gap-8 h-full md:h-auto mt-8",children:[v.jsxs("div",{className:"md:col-span-5 flex flex-col justify-center space-y-6",children:[v.jsx("h2",{className:"text-3xl font-serif-sc text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 mb-4",children:""}),v.jsx("div",{className:"space-y-4",children:m.map(C=>v.jsxs("div",{onClick:()=>r(C.id),className:`group relative p-6 rounded-2xl border transition-all duration-300 cursor-pointer overflow-hidden
                    ${s===C.id?"bg-[#1A1A1A] border-[#F36223] shadow-[0_0_20px_rgba(243,98,35,0.2)]":"bg-[#111]/80 border-gray-800 hover:border-gray-600 hover:bg-[#161616]"}
                  `,children:[v.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 transition-colors duration-300 
                    ${C.type===se.GOAL?"bg-[#FDD140]":C.type===se.DIFFICULTY?"bg-[#F36223]":"bg-[#9FD2E3]"}`}),v.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-widest mb-2 font-mono",children:C.label}),v.jsx("p",{className:"text-lg text-white font-serif-sc mb-6 leading-relaxed",children:C.content}),v.jsx("button",{className:"px-4 py-2 rounded-full border border-gray-600 text-xs text-gray-300 hover:bg-white hover:text-black hover:border-white transition-all flex items-center gap-2",onClick:N=>S(C,N),children:C.buttonText})]},C.id))})]}),v.jsx("div",{className:"md:col-span-7 flex flex-col justify-center relative pl-0 md:pl-12 border-l border-gray-800/50",children:s?v.jsxs("div",{className:"animate-fadeIn space-y-8",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-[#9FD2E3] flex items-center justify-center text-black font-bold text-lg",children:"!"}),v.jsx("h2",{className:"text-2xl font-serif-sc text-[#9FD2E3]",children:""})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Ty.map((C,N)=>v.jsx("div",{className:"transform hover:scale-105 hover:z-10 transition-all duration-300 animate-float cursor-pointer",style:{animationDelay:`${N*.2}s`},onClick:()=>x(C),children:v.jsx(ln,{data:C,scale:1.1,showAuthor:!0,className:"mx-auto"})},C.id))})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-30",children:[v.jsx("div",{className:"w-24 h-24 rounded-full border-2 border-dashed border-gray-600 animate-spin-slow mb-4"}),v.jsx("p",{className:"text-gray-500 font-serif-sc",children:""})]})})]})]}),d&&v.jsx(Om,{viewingPuzzle:d,onClose:()=>p(null),onVisitProfile:t}),g&&v.jsx(Fm,{initialType:g.type,initialContent:g.content,initialTitle:"",onClose:()=>y(null),onPublish:E})]})},Ey=({currentView:i,onSwitch:t,onCallStart:o})=>{const[s,r]=Z.useState("");return v.jsxs("div",{className:"fixed top-0 left-0 w-full p-6 flex justify-between items-start z-50 pointer-events-none",children:[v.jsxs("div",{className:`transition-opacity duration-500 ${i===Oe.MY_MAP?"opacity-100":"opacity-0"}`,children:[v.jsx("h1",{className:"text-2xl text-white font-serif-sc tracking-widest",children:"MY WAY"}),v.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:"Scroll to Zoom  Drag to Pan"})]}),v.jsxs("div",{className:"flex flex-col items-end space-y-4 pointer-events-auto",children:[v.jsxs("div",{className:"flex bg-[#111] bg-opacity-80 backdrop-blur-md rounded-full border border-gray-700 p-1",children:[v.jsxs("button",{onClick:()=>t(Oe.MY_MAP),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${i===Oe.MY_MAP?"bg-gray-200 text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:[v.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"My Way "]}),v.jsxs("button",{onClick:()=>t(Oe.COMMUNITY),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${i===Oe.COMMUNITY?"bg-pink-300 text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:[v.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Her Way "]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-gray-400 group-focus-within:text-[#F36223] transition-colors",children:v.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 001.28.53l3.58-3.579a.78.78 0 01.527-.224 41.202 41.202 0 003.444-.33c1.436-.23 2.429-1.487 2.429-2.902V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zM6.75 6a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 2.5a.75.75 0 000 1.5h3.5a.75.75 0 000-1.5h-3.5z",clipRule:"evenodd"})})}),v.jsx("input",{type:"text",placeholder:"...",value:s,onChange:d=>r(d.target.value),className:"bg-[#111]/90 backdrop-blur-md border border-gray-700 text-gray-200 text-sm rounded-full py-2 pl-9 pr-4 w-48 focus:outline-none focus:border-[#F36223] focus:ring-1 focus:ring-[#F36223] transition-all shadow-lg placeholder-gray-500"})]}),v.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full bg-[#F36223] hover:bg-[#ff7a40] text-white flex items-center justify-center shadow-lg transform hover:scale-105 transition-all",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:v.jsx("path",{fillRule:"evenodd",d:"M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 5.25V4.5z",clipRule:"evenodd"})})})]})]})]})},_y=({onStart:i})=>{const t=Z.useRef(null);return Z.useEffect(()=>{if(!t.current)return;const o=window.THREE;if(!o){console.error("Three.js not loaded");return}const s=new o.Scene;s.fog=new o.FogExp2(328970,.001);const r=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.z=50;const d=new o.WebGLRenderer({alpha:!0,antialias:!0});d.setSize(window.innerWidth,window.innerHeight),d.setPixelRatio(window.devicePixelRatio),t.current.appendChild(d.domElement);const p=new o.BufferGeometry,g=4e3,y=new Float32Array(g*3),m=new Float32Array(g*3),x=[new o.Color("#F472B6"),new o.Color("#38BDF8"),new o.Color("#A855F7"),new o.Color("#FFFFFF")];for(let H=0;H<g;H++){y[H*3]=(Math.random()-.5)*150,y[H*3+1]=(Math.random()-.5)*150,y[H*3+2]=(Math.random()-.5)*100;const F=x[Math.floor(Math.random()*x.length)];m[H*3]=F.r,m[H*3+1]=F.g,m[H*3+2]=F.b}p.setAttribute("position",new o.BufferAttribute(y,3)),p.setAttribute("color",new o.BufferAttribute(m,3));const S=()=>{const H=document.createElement("canvas");H.width=32,H.height=32;const F=H.getContext("2d");if(F){const K=F.createRadialGradient(16,16,0,16,16,16);K.addColorStop(0,"rgba(255,255,255,1)"),K.addColorStop(1,"rgba(255,255,255,0)"),F.fillStyle=K,F.fillRect(0,0,32,32)}const W=new o.Texture(H);return W.needsUpdate=!0,W},E=new o.PointsMaterial({size:.3,vertexColors:!0,map:S(),transparent:!0,opacity:.8,blending:o.AdditiveBlending,depthWrite:!1}),C=new o.Points(p,E);s.add(C);let N=0,D=0;const R=H=>{N=H.clientX/window.innerWidth*2-1,D=-(H.clientY/window.innerHeight)*2+1};window.addEventListener("mousemove",R);const V=()=>{r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",V);const Q=()=>{C.rotation.y+=5e-4,C.rotation.x+=2e-4;const H=N*5,F=D*5;r.position.x+=(H-r.position.x)*.02,r.position.y+=(F-r.position.y)*.02,r.lookAt(s.position),d.render(s,r),requestAnimationFrame(Q)};return Q(),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("resize",V),t.current&&t.current.removeChild(d.domElement),p.dispose(),E.dispose()}},[]),v.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center text-white overflow-hidden bg-space-950",children:[v.jsx("div",{ref:t,className:"absolute inset-0 z-0"}),v.jsx("div",{className:"absolute inset-0 bg-space-950/40 z-0 pointer-events-none radial-gradient-overlay"}),v.jsxs("div",{className:"relative z-10 flex flex-col items-center space-y-6 max-w-lg w-full text-center p-6 animate-fade-in -mt-20",children:[v.jsxs("div",{className:"w-32 h-32 relative animate-float group cursor-pointer",children:[v.jsx("div",{className:"absolute inset-0 bg-nebula-pink/20 blur-[40px] rounded-full group-hover:bg-nebula-pink/30 transition-all duration-700"}),v.jsxs("div",{className:"w-full h-full rounded-full border border-white/10 bg-space-900/40 backdrop-blur-md flex items-center justify-center relative overflow-hidden shadow-[0_0_30px_rgba(244,114,182,0.1)]",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-50",children:v.jsxs("svg",{className:"w-full h-full absolute inset-0",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"speedLineGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[v.jsx("stop",{offset:"0%",stopColor:"#fff",stopOpacity:"0"}),v.jsx("stop",{offset:"50%",stopColor:"#fff",stopOpacity:"0.5"}),v.jsx("stop",{offset:"100%",stopColor:"#fff",stopOpacity:"0"})]})}),[...Array(5)].map((o,s)=>v.jsx("rect",{x:"-100",y:Math.random()*200,width:Math.random()*80+20,height:"1",fill:"url(#speedLineGrad)",opacity:"0.4",children:v.jsx("animate",{attributeName:"x",from:"200",to:"-100",dur:`${Math.random()*1+.5}s`,repeatCount:"indefinite",begin:`${Math.random()}s`})},s))]})}),v.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full relative z-10",children:[v.jsx("defs",{children:v.jsxs("filter",{id:"pinkGlow",children:[v.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),v.jsxs("feMerge",{children:[v.jsx("feMergeNode",{in:"coloredBlur"}),v.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),v.jsxs("g",{transform:"translate(48, 45)",stroke:"#F472B6",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#pinkGlow)",children:[v.jsx("circle",{cx:"50",cy:"30",r:"12",fill:"#05050A"}),v.jsx("path",{d:"M50 42 L 55 80"}),v.jsx("path",{d:"M55 80 L 80 70 L 85 95",children:v.jsx("animate",{attributeName:"d",values:`
                            M55 80 L 80 70 L 85 95; 
                            M55 80 L 75 90 L 65 110; 
                            M55 80 L 40 90 L 25 80; 
                            M55 80 L 60 70 L 70 60; 
                            M55 80 L 80 70 L 85 95`,dur:"0.8s",repeatCount:"indefinite"})}),v.jsx("path",{d:"M55 80 L 30 90 L 20 80",children:v.jsx("animate",{attributeName:"d",values:`
                            M55 80 L 30 90 L 20 80; 
                            M55 80 L 40 70 L 50 60; 
                            M55 80 L 80 70 L 85 95; 
                            M55 80 L 75 90 L 65 110; 
                            M55 80 L 30 90 L 20 80`,dur:"0.8s",repeatCount:"indefinite"})}),v.jsx("path",{d:"M52 50 L 75 45 L 85 35",children:v.jsx("animate",{attributeName:"d",values:`
                            M52 50 L 75 45 L 85 35; 
                            M52 50 L 60 60 L 55 75; 
                            M52 50 L 30 60 L 25 50; 
                            M52 50 L 40 45 L 35 35; 
                            M52 50 L 75 45 L 85 35`,dur:"0.8s",repeatCount:"indefinite"})}),v.jsx("path",{d:"M52 50 L 30 60 L 25 50",children:v.jsx("animate",{attributeName:"d",values:`
                            M52 50 L 30 60 L 25 50; 
                            M52 50 L 40 45 L 35 35; 
                            M52 50 L 75 45 L 85 35; 
                            M52 50 L 60 60 L 55 75; 
                            M52 50 L 30 60 L 25 50`,dur:"0.8s",repeatCount:"indefinite"})})]}),v.jsx("line",{x1:"20",y1:"160",x2:"180",y2:"160",stroke:"#F472B6",strokeWidth:"1",strokeDasharray:"10 30",opacity:"0.3",children:v.jsx("animate",{attributeName:"stroke-dashoffset",from:"40",to:"0",dur:"0.5s",repeatCount:"indefinite"})})]})]})]}),v.jsxs("div",{className:"space-y-8",children:[v.jsx("h1",{className:"font-sans text-5xl md:text-7xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-white via-white to-white/60 drop-shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:"On Her Way"}),v.jsx("div",{className:"h-px w-16 bg-gradient-to-r from-transparent via-white/50 to-transparent mx-auto"}),v.jsx("p",{className:"text-blue-100/90 text-sm md:text-base font-light tracking-[0.05em] max-w-xs md:max-w-md mx-auto",children:"AI "})]}),v.jsx("div",{className:"pt-6",children:v.jsxs("button",{onClick:i,className:"group relative px-10 py-3.5 rounded-full overflow-hidden transition-all duration-300 hover:scale-105",children:[v.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-md border border-white/20 group-hover:bg-white/20 transition-all"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-nebula-purple/30 to-nebula-pink/30 opacity-0 group-hover:opacity-100 transition-opacity blur-md"}),v.jsxs("span",{className:"relative flex items-center gap-3 text-white text-xs md:text-sm font-bold tracking-widest uppercase",children:["",v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:translate-x-1 transition-transform",children:[v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),v.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})})]}),v.jsx("div",{className:"absolute bottom-8 text-[9px] text-white/20 tracking-widest z-10",children:"DESIGNED FOR "})]})},Cy=({children:i,activeView:t,setActiveView:o,pendingActionsCount:s=0})=>{const r=[{id:"chat",label:"AI ",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{id:"insight",label:"",icon:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12 2a7 7 0 0 0-4 12c.6.5 1 1.2 1 2v2h6v-2c0-.8.4-1.5 1-2a7 7 0 0 0-4-12z"}),v.jsx("path",{d:"M9 22h6"})]})},{id:"plan",label:"",icon:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12 20h9"}),v.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})},{id:"resources",label:"",icon:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"3"}),v.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},{id:"community",label:"",icon:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("path",{d:"M2 12h20"}),v.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1 4-10z"})]})},{id:"network",label:"",icon:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"9",cy:"7",r:"4"}),v.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),v.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"profile",label:"",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M9 18l6-6-6-6"})})}];return v.jsxs("div",{className:"h-screen w-full font-sans flex flex-col md:flex-row max-w-7xl mx-auto overflow-hidden relative",children:[v.jsx("div",{className:"stars-container",children:[...Array(50)].map((d,p)=>v.jsx("div",{className:"star opacity-40 animate-pulse-slow",style:{width:Math.random()<.5?"1px":"2px",height:Math.random()<.5?"1px":"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",animationDelay:Math.random()*10+"s"}},p))}),v.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-[-1] overflow-hidden",children:[v.jsx("div",{className:"absolute top-[-200px] left-[-200px] w-[600px] h-[600px] bg-brand-blue/5 rounded-full blur-[120px]"}),v.jsx("div",{className:"absolute bottom-[-200px] right-[-200px] w-[600px] h-[600px] bg-brand-orange/5 rounded-full blur-[120px]"})]}),v.jsx("div",{className:"hidden md:flex flex-col justify-center h-full px-6 z-50",children:v.jsxs("div",{className:"glass-panel-heavy rounded-full py-6 px-3 flex flex-col items-center gap-6 relative shadow-[0_0_30px_rgba(0,0,0,0.5)] border border-white/10",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-brand-orange to-brand-yellow flex items-center justify-center text-space-950 font-bold font-serif mb-4 shadow-lg shadow-brand-orange/20",children:"O"}),r.map(d=>{const p=t===d.id;return v.jsxs("button",{onClick:()=>o(d.id),className:`group relative w-12 h-12 flex items-center justify-center transition-all duration-500 rounded-full ${p?"scale-110":"hover:scale-105"}`,children:[p&&v.jsx("div",{className:"absolute inset-[-4px] border border-brand-yellow/30 rounded-full animate-spin-slow",children:v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-brand-yellow rounded-full shadow-[0_0_8px_rgba(253,209,64,1)]"})}),v.jsx("div",{className:`absolute inset-0 rounded-full transition-all duration-500 ${p?"bg-brand-yellow/10":"bg-transparent group-hover:bg-white/5"}`}),v.jsx("div",{className:`relative z-10 transition-colors duration-300 ${p?"text-brand-yellow drop-shadow-[0_0_8px_rgba(253,209,64,0.6)]":"text-gray-400 group-hover:text-white"}`,children:wu.cloneElement(d.icon,{width:20,height:20})}),d.id==="plan"&&s>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-orange text-[9px] flex items-center justify-center rounded-full text-white font-bold shadow-lg animate-bounce",children:s}),v.jsxs("div",{className:"absolute left-full ml-4 px-3 py-1 glass-panel rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:[v.jsx("span",{className:"text-xs font-bold tracking-widest uppercase text-white",children:d.label}),v.jsx("div",{className:"absolute top-1/2 right-full w-4 h-[1px] bg-white/20"})]})]},d.id)})]})}),v.jsxs("div",{className:"flex-1 flex flex-col h-full relative overflow-hidden bg-transparent",children:[v.jsxs("div",{className:"md:hidden h-14 glass-panel flex items-center justify-between px-6 flex-shrink-0 z-20 border-b border-white/10",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-brand-orange to-brand-yellow flex items-center justify-center text-space-950 font-bold font-serif text-xs",children:"OHW"}),v.jsx("h1",{className:"font-serif text-sm font-bold text-white tracking-widest",children:"ON HER WAY"}),v.jsx("div",{className:"w-8"})]}),v.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative",children:i})]}),v.jsx("div",{className:"md:hidden fixed bottom-6 left-4 right-4 h-16 rounded-2xl glass-panel-heavy z-50 flex items-center justify-between px-2 shadow-2xl shadow-black/50 border border-white/15",children:r.map(d=>{const p=t===d.id;return v.jsxs("button",{onClick:()=>o(d.id),className:"flex-1 flex flex-col items-center justify-center h-full relative group",children:[p&&v.jsx("div",{className:"absolute bottom-0 w-8 h-8 bg-gradient-to-t from-brand-yellow/20 to-transparent blur-md"}),p&&v.jsx("div",{className:"absolute bottom-0 w-4 h-0.5 bg-brand-yellow rounded-full shadow-[0_0_10px_rgba(253,209,64,1)]"}),v.jsx("div",{className:`transition-all duration-300 ${p?"text-brand-yellow -translate-y-1":"text-white/40"}`,children:wu.cloneElement(d.icon,{width:20,height:20})}),v.jsx("span",{className:`text-[9px] mt-1 font-medium tracking-wide transition-colors duration-300 ${p?"text-white":"text-transparent"}`,children:p?d.label.slice(0,2):""})]},d.id)})})]})};var Ay={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let by,wy;function Ny(){return{geminiUrl:by,vertexUrl:wy}}function My(i,t,o,s){var r,d;if(!(i!=null&&i.baseUrl)){const p=Ny();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(d=p.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bn{}function te(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const x=y[m];c(x,t.slice(d+1),o[m])}else for(const m of y)c(m,t.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(g=>u(g,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function Ry(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),d=s.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const m=d[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Nu(i,r,d,0,p)}}function Nu(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const d=t[s];if(d.endsWith("[]")){const p=d.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Nu(y,t,o,s+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,x]of Object.entries(y)){const S=[];for(const E of o.slice(s))E==="*"?S.push(m):S.push(E);c(p,S,x)}for(const m of g)delete p[m]}}else{const p=i;d in p&&Nu(p[d],t,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iy(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(t,["_url","resourceName"],s),t}function Dy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Ly(p)),t}function Uy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],ky(p)),t}function Ly(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Gy(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function ky(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Hy(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Gy(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],Oy(o)),t}function Hy(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],Fy(o)),t}function zy(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Vy(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Py(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],qy(p)),t}function qy(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Ym(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],By(p)),t}function By(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Oy(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Ou(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Fy(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Ou(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uh||(uh={}));var ch;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(ch||(ch={}));var dh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(dh||(dh={}));var Ee;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ee||(Ee={}));var fh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(fh||(fh={}));var ph;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ph||(ph={}));var hh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(hh||(hh={}));var mh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(mh||(mh={}));var gh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gh||(gh={}));var vh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(vh||(vh={}));var yh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yh||(yh={}));var xh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(xh||(xh={}));var Th;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Th||(Th={}));var Sh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Sh||(Sh={}));var Eh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Eh||(Eh={}));var _h;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_h||(_h={}));var Ch;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ch||(Ch={}));var Ah;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Ah||(Ah={}));var bh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bh||(bh={}));var yl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(yl||(yl={}));var wh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wh||(wh={}));var Nh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nh||(Nh={}));var Mh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Mh||(Mh={}));var Mu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mu||(Mu={}));var Rh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rh||(Rh={}));var Ih;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ih||(Ih={}));var Dh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Dh||(Dh={}));var Uh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Uh||(Uh={}));var Lh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Lh||(Lh={}));var kh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kh||(kh={}));var Gh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Gh||(Gh={}));var Hh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Hh||(Hh={}));var zh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(zh||(zh={}));var Vh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Vh||(Vh={}));var Ph;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ph||(Ph={}));var qh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qh||(qh={}));var Bh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bh||(Bh={}));var Oh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Oh||(Oh={}));var Fh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Fh||(Fh={}));var Yh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Yh||(Yh={}));var Jh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Jh||(Jh={}));var Xh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Xh||(Xh={}));var Kh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Kh||(Kh={}));var Qh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Qh||(Qh={}));var jh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(jh||(jh={}));var Zh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Zh||(Zh={}));var $h;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})($h||($h={}));var Wh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Wh||(Wh={}));var em;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(em||(em={}));var tm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tm||(tm={}));var nm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nm||(nm={}));var im;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(im||(im={}));var om;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(om||(om={}));var lm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lm||(lm={}));var sm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(sm||(sm={}));var uo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(uo||(uo={}));class Ru{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class hl{get text(){var t,o,s,r,d,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",x=!1;const S=[];for(const E of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,N]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(N!==null||N!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?m:void 0}get data(){var t,o,s,r,d,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const x=[];for(const S of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&x.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,s,r,d,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,s,r,d,p,g,y,m;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,s,r,d,p,g,y,m;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.output}}class am{}class rm{}class Yy{}class Jy{}class Xy{}class Ky{}class um{}class cm{}class dm{}class Qy{}class Xs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Xs;let r;const d=t;return o?r=Uy(d):r=Dy(d),Object.assign(s,r),s}}class fm{}class pm{}class hm{}class mm{}class jy{}class Zy{}class $y{}class Fu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Fu,d=Py(t);return Object.assign(s,d),s}}class Wy{}class ex{}class tx{}class gm{}class nx{get text(){var t,o,s;let r="",d=!1;const p=[];for(const g of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,s;let r="";const d=[];for(const p of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ix{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Yu,d=Ym(t);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Jm(i,t){const o=Ie(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Xm(i){return Array.isArray(i)?i.map(t=>Ks(t)):[Ks(i)]}function Ks(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Km(i){const t=Ks(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Qm(i){const t=Ks(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function jm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>vm(t)):[vm(i)]}function Iu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ym(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function xm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function pt(i){if(i==null)throw new Error("ContentUnion is required");return Iu(i)?i:{role:"user",parts:jm(i)}}function Ju(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=pt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=pt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>pt(o)):[pt(t)]}function Yt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ym(i)||xm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(i)]}const t=[],o=[],s=Iu(i[0]);for(const r of i){const d=Iu(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(ym(r)||xm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:jm(o)}),t}function ox(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(Ee).includes(o[0].toUpperCase())?o[0].toUpperCase():Ee.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(Ee).includes(s.toUpperCase())?s.toUpperCase():Ee.TYPE_UNSPECIFIED})}}function fo(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&ox(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Ee).includes(g.toUpperCase())?g.toUpperCase():Ee.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=fo(g);else if(s.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(fo(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,x]of Object.entries(g))y[m]=fo(x);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Xu(i){return fo(i)}function Ku(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ho(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=fo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=fo(t.response));return i}function mo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function lx(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function wn(i,t){if(typeof t!="string")throw new Error("name must be a string");return lx(i,t,"cachedContents")}function Zm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Wn(i){return Ou(i)}function sx(i){return i!=null&&typeof i=="object"&&"name"in i}function ax(i){return i!=null&&typeof i=="object"&&"video"in i}function rx(i){return i!=null&&typeof i=="object"&&"uri"in i}function $m(i){var t;let o;if(sx(i)&&(o=i.name),!(rx(i)&&(o=i.uri,o===void 0))&&!(ax(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Wm(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function e0(i){for(const t of["models","tunedModels","publisherModels"])if(ux(i,t))return i[t];return[]}function ux(i,t){return i!==null&&typeof i=="object"&&t in i}function cx(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function dx(i,t={}){const o=[],s=new Set;for(const r of i){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const p=cx(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function t0(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function fx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function n0(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function go(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function i0(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function px(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Xx(p))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function hx(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function mx(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ys(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],i0(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&c(t,["dest"],px(n0(m))),t}function Du(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["state"]);r!=null&&c(t,["state"],i0(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(t,["updateTime"],m);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],gx(S));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],hx(n0(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function gx(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function vx(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Jx(i,p))),c(o,["requests","requests"],d)}return o}function yx(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function xx(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Tx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function Sx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function Ex(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],_x(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function _x(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function o0(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>eT(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function Cx(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&c(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Ax(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],mx(fx(r))),o}function Tm(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],vx(i,t0(i,r)));const d=u(t,["config"]);return d!=null&&Cx(d,o),o}function bx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Ie(i,s));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],yx(t0(i,r)));const d=u(t,["config"]);return d!=null&&Ax(d,o),o}function wx(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["batch","displayName"],s),o}function Nx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],kx(i,r));const d=u(t,["config"]);return d!=null&&wx(d,o),o}function Mx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function Rx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function Ix(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function Dx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function Ux(i,t){const o={},s=u(t,["contents"]);if(s!=null){let d=Ju(i,s);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],Lx(r,o)),Ry(o,{"requests[].*":"requests[].request.*"})),o}function Lx(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function kx(i,t){const o={},s=u(t,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],Ux(i,r)),o}function Gx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Hx(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zx(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Vx(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],o0(pt(r)));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(s,["maxOutputTokens"],m);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&c(s,["frequencyPenalty"],N);const D=u(t,["seed"]);D!=null&&c(s,["seed"],D);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const V=u(t,["responseSchema"]);V!=null&&c(s,["responseSchema"],Xu(V));const Q=u(t,["responseJsonSchema"]);if(Q!=null&&c(s,["responseJsonSchema"],Q),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(o!==void 0&&H!=null){let ae=H;Array.isArray(ae)&&(ae=ae.map(ge=>tT(ge))),c(o,["safetySettings"],ae)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let ae=mo(F);Array.isArray(ae)&&(ae=ae.map(ge=>iT(ho(ge)))),c(o,["tools"],ae)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],nT(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);o!==void 0&&K!=null&&c(o,["cachedContent"],wn(i,K));const j=u(t,["responseModalities"]);j!=null&&c(s,["responseModalities"],j);const fe=u(t,["mediaResolution"]);fe!=null&&c(s,["mediaResolution"],fe);const Y=u(t,["speechConfig"]);if(Y!=null&&c(s,["speechConfig"],Ku(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=u(t,["thinkingConfig"]);O!=null&&c(s,["thinkingConfig"],O);const ne=u(t,["imageConfig"]);ne!=null&&c(s,["imageConfig"],Yx(ne));const $=u(t,["enableEnhancedCivicAnswers"]);return $!=null&&c(s,["enableEnhancedCivicAnswers"],$),s}function Px(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>Ex(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function qx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function Bx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function Ox(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Fx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function Yx(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Jx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["request","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let g=Yt(r);Array.isArray(g)&&(g=g.map(y=>o0(y))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],Vx(i,p,u(o,["request"],{}))),o}function Xx(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],Px(o));const s=u(i,["error"]);return s!=null&&c(t,["error"],s),t}function Kx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Qx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function jx(i){const t={},o=u(i,["config"]);return o!=null&&Kx(o,t),t}function Zx(i){const t={},o=u(i,["config"]);return o!=null&&Qx(o,t),t}function $x(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ys(p))),c(t,["batchJobs"],d)}return t}function Wx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Du(p))),c(t,["batchJobs"],d)}return t}function eT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Gx(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],Hx(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],xx(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function tT(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function nT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],zx(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function iT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],Ox(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],Fx(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var An;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(An||(An={}));class Si{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(An.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Tm(this.apiClient,t),s=o._url,r=te("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const x of y){const S=Object.assign({},x);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=E,S.request=C}m.push(S)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=bx(this.apiClient,t);return g=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>Du(x))}else{const m=Tm(this.apiClient,t);return g=te("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ys(x))}}async createEmbeddingsInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Nx(this.apiClient,t);return d=te("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Ys(y))}}async get(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Bx(this.apiClient,t);return g=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>Du(x))}else{const m=qx(this.apiClient,t);return g=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ys(x))}}async cancel(t){var o,s,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=Sx(this.apiClient,t);p=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Tx(this.apiClient,t);p=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Zx(t);return g=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=Wx(x),E=new gm;return Object.assign(E,S),E})}else{const m=jx(t);return g=te("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=$x(x),E=new gm;return Object.assign(E,S),E})}}async delete(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Rx(this.apiClient,t);return g=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>Dx(x))}else{const m=Mx(this.apiClient,t);return g=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>Ix(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Sm(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>NT(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function sT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=Yt(p);Array.isArray(x)&&(x=x.map(S=>Sm(S))),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Sm(pt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>RT(S))),c(t,["tools"],x)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],MT(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function aT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=Yt(p);Array.isArray(S)&&(S=S.map(E=>E)),c(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],pt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>IT(E))),c(t,["tools"],S)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),o}function rT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Jm(i,s));const r=u(t,["config"]);return r!=null&&sT(r,o),o}function uT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Jm(i,s));const r=u(t,["config"]);return r!=null&&aT(r,o),o}function cT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],wn(i,s)),o}function dT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],wn(i,s)),o}function fT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function pT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function hT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function mT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function vT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function yT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],wn(i,s)),o}function xT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],wn(i,s)),o}function TT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function ST(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function ET(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function _T(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function CT(i){const t={},o=u(i,["config"]);return o!=null&&ET(o,t),t}function AT(i){const t={},o=u(i,["config"]);return o!=null&&_T(o,t),t}function bT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function wT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function NT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],hT(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],mT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],lT(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function MT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],gT(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function RT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],TT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],ST(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function IT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>vT(E))),c(t,["functionDeclarations"],S)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function DT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function UT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function LT(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],wn(i,s));const r=u(t,["config"]);return r!=null&&DT(r,o),o}function kT(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],wn(i,s));const r=u(t,["config"]);return r!=null&&UT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(An.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=uT(this.apiClient,t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const m=rT(this.apiClient,t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async get(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=xT(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const m=yT(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async delete(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=dT(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=pT(x),E=new hm;return Object.assign(E,S),E})}else{const m=cT(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=fT(x),E=new hm;return Object.assign(E,S),E})}}async update(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=kT(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const m=LT(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async listInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=AT(t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=wT(x),E=new mm;return Object.assign(E,S),E})}else{const m=CT(t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=bT(x),E=new mm;return Object.assign(E,S),E})}}}function Qs(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function Em(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(i){return this instanceof ve?(this.v=i,this):new ve(i)}function jt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(N){return Promise.resolve(N).then(C,S)}}function g(C,N){s[C]&&(r[C]=function(D){return new Promise(function(R,V){d.push([C,D,R,V])>1||y(C,D)})},N&&(r[C]=N(r[C])))}function y(C,N){try{m(s[C](N))}catch(D){E(d[0][3],D)}}function m(C){C.value instanceof ve?Promise.resolve(C.value.v).then(x,S):E(d[0][2],C)}function x(C){y("next",C)}function S(C){y("throw",C)}function E(C,N){C(N),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Zt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Em=="function"?Em(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=i[d]&&function(p){return new Promise(function(g,y){p=i[d](p),r(g,y,p.done,p.value)})}}function r(d,p,g,y){Promise.resolve(y).then(function(m){d({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:l0(o)}function l0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function zT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _m(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let d=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),d&&!l0(i[s])&&(d=!1),s++;d?t.push(...r):t.pop()}return t}class VT{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new PT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class PT{constructor(t,o,s,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),zT(d)}async sendMessage(t){var o;await this.sendPromise;const s=pt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await r,m=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,x=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];x!=null&&(E=(g=x.slice(S))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(s,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=pt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(t=!1){const o=t?_m(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return jt(this,arguments,function*(){var r,d,p,g,y,m;const x=[];try{for(var S=!0,E=Zt(t),C;C=yield ve(E.next()),r=C.done,!r;S=!0){g=C.value,S=!1;const N=g;if(HT(N)){const D=(m=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;D!==void 0&&x.push(D)}yield yield ve(N)}}catch(N){d={error:N}}finally{try{!S&&!r&&(p=E.return)&&(yield ve(p.call(E)))}finally{if(d)throw d.error}}this.recordHistory(o,x)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(..._m(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $s extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,$s.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function BT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function OT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],$m(o)),t}function FT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function YT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],$m(o)),t}function JT(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function XT(i){const t={},o=u(i,["config"]);return o!=null&&JT(o,t),t}function KT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QT extends bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(An.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XT(t);return d=te("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=KT(y),x=new Wy;return Object.assign(x,m),x})}}async createInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qT(t);return d=te("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=BT(y),x=new ex;return Object.assign(x,m),x})}}async get(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YT(t);return d=te("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OT(t);return d=te("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=FT(y),x=new tx;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Js(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function jT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>f1(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function ZT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function $T(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function e1(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const D=u(i,["responseSchema"]);D!=null&&c(t,["responseSchema"],D);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const V=u(i,["seed"]);V!=null&&c(t,["seed"],V);const Q=u(i,["speechConfig"]);Q!=null&&c(t,["speechConfig"],Q);const H=u(i,["stopSequences"]);H!=null&&c(t,["stopSequences"],H);const F=u(i,["temperature"]);F!=null&&c(t,["temperature"],F);const W=u(i,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const K=u(i,["topK"]);K!=null&&c(t,["topK"],K);const j=u(i,["topP"]);if(j!=null&&c(t,["topP"],j),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function t1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function n1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function i1(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],jT(pt(N)));const D=u(i,["tools"]);if(t!==void 0&&D!=null){let K=mo(D);Array.isArray(K)&&(K=K.map(j=>h1(ho(j)))),c(t,["setup","tools"],K)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],p1(R));const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&c(t,["setup","outputAudioTranscription"],Q);const H=u(i,["realtimeInputConfig"]);t!==void 0&&H!=null&&c(t,["setup","realtimeInputConfig"],H);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function o1(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],e1(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],pt(N));const D=u(i,["tools"]);if(t!==void 0&&D!=null){let j=mo(D);Array.isArray(j)&&(j=j.map(fe=>m1(ho(fe)))),c(t,["setup","tools"],j)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],R);const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&c(t,["setup","outputAudioTranscription"],Q);const H=u(i,["realtimeInputConfig"]);t!==void 0&&H!=null&&c(t,["setup","realtimeInputConfig"],H);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const W=u(i,["proactivity"]);t!==void 0&&W!=null&&c(t,["setup","proactivity"],W);const K=u(i,["explicitVadSignal"]);return t!==void 0&&K!=null&&c(t,["setup","explicitVadSignal"],K),o}function l1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],i1(r,o)),o}function s1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],o1(r,o)),o}function a1(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function r1(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["weightedPrompts"],s)}return t}function u1(i){const t={},o=u(i,["media"]);if(o!=null){let m=Xm(o);Array.isArray(m)&&(m=m.map(x=>Js(x))),c(t,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],Js(Qm(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Js(Km(d)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function c1(i){const t={},o=u(i,["media"]);if(o!=null){let m=Xm(o);Array.isArray(m)&&(m=m.map(x=>x)),c(t,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],Qm(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Km(d));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function d1(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],g1(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);return m!=null&&c(t,["voiceActivityDetectionSignal"],m),t}function f1(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],ZT(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],$T(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Js(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function p1(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function h1(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],t1(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],n1(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function m1(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>WT(E))),c(t,["functionDeclarations"],S)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function g1(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["promptTokensDetails"],C)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["cacheTokensDetails"],C)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["responseTokensDetails"],C)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v1(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function y1(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],x1(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function x1(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function T1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let d=Yt(r);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function S1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function E1(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const s=u(i,["statistics"]);return s!=null&&c(t,["statistics"],_1(s)),t}function _1(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const s=u(i,["token_count"]);return s!=null&&c(t,["tokenCount"],s),t}function Ws(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>DS(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function C1(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const s=u(i,["enableControlImageComputation"]);return s!=null&&c(t,["computeControl"],s),t}function A1(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function b1(i,t){const o={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&c(t,["systemInstruction"],pt(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>u0(g))),c(t,["tools"],p)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],vS(d)),o}function w1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>Ws(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&A1(d),o}function N1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&b1(d,o),o}function M1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);s!=null&&c(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function R1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);return s!=null&&c(t,["totalTokens"],s),t}function I1(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Ie(i,s)),o}function D1(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Ie(i,s)),o}function U1(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function L1(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function k1(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const D=u(i,["outputCompressionQuality"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","compressionQuality"],D);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const V=u(i,["labels"]);t!==void 0&&V!=null&&c(t,["labels"],V);const Q=u(i,["editMode"]);t!==void 0&&Q!=null&&c(t,["parameters","editMode"],Q);const H=u(i,["baseSteps"]);return t!==void 0&&H!=null&&c(t,["parameters","editConfig","baseSteps"],H),o}function G1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>zS(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&k1(p,o),o}function H1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>ea(d))),c(t,["generatedImages"],r)}return t}function z1(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function V1(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function P1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let g=Ju(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&z1(d,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ie(i,p)),o}function q1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let p=Ju(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&V1(d,o),o}function B1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function O1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>E1(p))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function F1(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const s=u(i,["deployedModelId"]);return s!=null&&c(t,["deployedModelId"],s),t}function Y1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function J1(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function X1(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function K1(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function Q1(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ws(pt(r)));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(s,["maxOutputTokens"],m);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&c(s,["frequencyPenalty"],N);const D=u(t,["seed"]);D!=null&&c(s,["seed"],D);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const V=u(t,["responseSchema"]);V!=null&&c(s,["responseSchema"],Xu(V));const Q=u(t,["responseJsonSchema"]);if(Q!=null&&c(s,["responseJsonSchema"],Q),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(o!==void 0&&H!=null){let ae=H;Array.isArray(ae)&&(ae=ae.map(ge=>VS(ge))),c(o,["safetySettings"],ae)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let ae=mo(F);Array.isArray(ae)&&(ae=ae.map(ge=>JS(ho(ge)))),c(o,["tools"],ae)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],YS(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);o!==void 0&&K!=null&&c(o,["cachedContent"],wn(i,K));const j=u(t,["responseModalities"]);j!=null&&c(s,["responseModalities"],j);const fe=u(t,["mediaResolution"]);fe!=null&&c(s,["mediaResolution"],fe);const Y=u(t,["speechConfig"]);if(Y!=null&&c(s,["speechConfig"],Ku(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=u(t,["thinkingConfig"]);O!=null&&c(s,["thinkingConfig"],O);const ne=u(t,["imageConfig"]);ne!=null&&c(s,["imageConfig"],ES(ne));const $=u(t,["enableEnhancedCivicAnswers"]);return $!=null&&c(s,["enableEnhancedCivicAnswers"],$),s}function j1(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],pt(r));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(s,["maxOutputTokens"],m);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&c(s,["frequencyPenalty"],N);const D=u(t,["seed"]);D!=null&&c(s,["seed"],D);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const V=u(t,["responseSchema"]);V!=null&&c(s,["responseSchema"],Xu(V));const Q=u(t,["responseJsonSchema"]);Q!=null&&c(s,["responseJsonSchema"],Q);const H=u(t,["routingConfig"]);H!=null&&c(s,["routingConfig"],H);const F=u(t,["modelSelectionConfig"]);F!=null&&c(s,["modelConfig"],F);const W=u(t,["safetySettings"]);if(o!==void 0&&W!=null){let I=W;Array.isArray(I)&&(I=I.map(J=>J)),c(o,["safetySettings"],I)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let I=mo(K);Array.isArray(I)&&(I=I.map(J=>u0(ho(J)))),c(o,["tools"],I)}const j=u(t,["toolConfig"]);o!==void 0&&j!=null&&c(o,["toolConfig"],j);const fe=u(t,["labels"]);o!==void 0&&fe!=null&&c(o,["labels"],fe);const Y=u(t,["cachedContent"]);o!==void 0&&Y!=null&&c(o,["cachedContent"],wn(i,Y));const O=u(t,["responseModalities"]);O!=null&&c(s,["responseModalities"],O);const ne=u(t,["mediaResolution"]);ne!=null&&c(s,["mediaResolution"],ne);const $=u(t,["speechConfig"]);$!=null&&c(s,["speechConfig"],Ku($));const ae=u(t,["audioTimestamp"]);ae!=null&&c(s,["audioTimestamp"],ae);const ge=u(t,["thinkingConfig"]);ge!=null&&c(s,["thinkingConfig"],ge);const me=u(t,["imageConfig"]);if(me!=null&&c(s,["imageConfig"],_S(me)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Cm(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>Ws(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],Q1(i,d,o)),o}function Am(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],j1(i,d,o)),o}function bm(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>y1(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function wm(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(x=>x)),c(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function Z1(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function $1(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const D=u(i,["outputCompressionQuality"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","compressionQuality"],D);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const V=u(i,["labels"]);t!==void 0&&V!=null&&c(t,["labels"],V);const Q=u(i,["imageSize"]);t!==void 0&&Q!=null&&c(t,["parameters","sampleImageSize"],Q);const H=u(i,["enhancePrompt"]);return t!==void 0&&H!=null&&c(t,["parameters","enhancePrompt"],H),o}function W1(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&Z1(d,o),o}function eS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&$1(d,o),o}function tS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>pS(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],a0(r)),t}function nS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>ea(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],r0(r)),t}function iS(i,t){const o={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],ta(x));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(C=>lE(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function oS(i,t){const o={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&c(t,["parameters","generateAudio"],N);const D=u(i,["lastFrame"]);t!==void 0&&D!=null&&c(t,["instances[0]","lastFrame"],$t(D));const R=u(i,["referenceImages"]);if(t!==void 0&&R!=null){let H=R;Array.isArray(H)&&(H=H.map(F=>sE(F))),c(t,["instances[0]","referenceImages"],H)}const V=u(i,["mask"]);t!==void 0&&V!=null&&c(t,["instances[0]","mask"],oE(V));const Q=u(i,["compressionQuality"]);return t!==void 0&&Q!=null&&c(t,["parameters","compressionQuality"],Q),o}function lS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],uS(p)),t}function sS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],cS(p)),t}function aS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],ta(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],c0(p));const g=u(t,["source"]);g!=null&&dS(g,o);const y=u(t,["config"]);return y!=null&&iS(y,o),o}function rS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],$t(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],d0(p));const g=u(t,["source"]);g!=null&&fS(g,o);const y=u(t,["config"]);return y!=null&&oS(y,o),o}function uS(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>mS(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function cS(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>gS(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function dS(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],ta(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],c0(d)),o}function fS(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],$t(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],d0(d)),o}function pS(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],CS(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],a0(r)),t}function ea(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],s0(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],r0(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function hS(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],s0(o));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function mS(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],nE(o)),t}function gS(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],iE(o)),t}function vS(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const D=u(i,["responseSchema"]);D!=null&&c(t,["responseSchema"],D);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const V=u(i,["seed"]);V!=null&&c(t,["seed"],V);const Q=u(i,["speechConfig"]);Q!=null&&c(t,["speechConfig"],Q);const H=u(i,["stopSequences"]);H!=null&&c(t,["stopSequences"],H);const F=u(i,["temperature"]);F!=null&&c(t,["temperature"],F);const W=u(i,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const K=u(i,["topK"]);K!=null&&c(t,["topK"],K);const j=u(i,["topP"]);if(j!=null&&c(t,["topP"],j),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function yS(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Ie(i,s)),o}function xS(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Ie(i,s)),o}function TS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function SS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function ES(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _S(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);s!=null&&c(t,["imageSize"],s);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const d=u(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function CS(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Wn(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function s0(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["imageBytes"],Wn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function ta(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Wn(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function $t(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["imageBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Wn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function AS(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Wm(i,g)),s}function bS(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Wm(i,g)),s}function wS(i,t){const o={},s=u(t,["config"]);return s!=null&&AS(i,s,o),o}function NS(i,t){const o={},s=u(t,["config"]);return s!=null&&bS(i,s,o),o}function MS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=e0(r);Array.isArray(d)&&(d=d.map(p=>Uu(p))),c(t,["models"],d)}return t}function RS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=e0(r);Array.isArray(d)&&(d=d.map(p=>Lu(p))),c(t,["models"],d)}return t}function IS(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const s=u(i,["segmentationClasses"]);s!=null&&c(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Uu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],XS(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(i,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const S=u(i,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const N=u(i,["thinking"]);return N!=null&&c(t,["thinking"],N),t}function Lu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>F1(E))),c(t,["endpoints"],S)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],KS(y));const m=u(i,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const x=u(i,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["checkpoints"],S)}return t}function DS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Y1(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],J1(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],v1(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function US(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],$t(o)),t}function LS(i,t){const o={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function kS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["source"]);r!=null&&HS(r,o);const d=u(t,["config"]);return d!=null&&LS(d,o),o}function GS(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ea(r))),c(t,["generatedImages"],s)}return t}function HS(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],$t(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>US(g))),c(t,["instances[0]","productImages"],p)}return o}function zS(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],$t(o));const s=u(i,["referenceId"]);s!=null&&c(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],IS(d));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],C1(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function a0(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function r0(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function VS(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function PS(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],$t(o)),t}function qS(i,t){const o={},s=u(i,["mode"]);t!==void 0&&s!=null&&c(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function BS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["source"]);r!=null&&FS(r,o);const d=u(t,["config"]);return d!=null&&qS(d,o),o}function OS(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>hS(r))),c(t,["generatedMasks"],s)}return t}function FS(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],$t(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],PS(d)),o}function YS(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],X1(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function JS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],TS(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],SS(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function u0(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>K1(E))),c(t,["functionDeclarations"],S)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function XS(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function KS(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function QS(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function jS(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function ZS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","name"],Ie(i,s));const r=u(t,["config"]);return r!=null&&QS(r,o),o}function $S(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&jS(r,o),o}function WS(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function eE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ie(i,s));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],$t(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&WS(p,o),o}function tE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>ea(d))),c(t,["generatedImages"],r)}return t}function nE(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Wn(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function iE(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Wn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function oE(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],$t(o));const s=u(i,["maskMode"]);return s!=null&&c(t,["maskMode"],s),t}function lE(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],ta(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function sE(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],$t(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function c0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["encodedVideo"],Wn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function d0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Wn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aE(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["displayName"],s),o}function rE(i){const t={},o=u(i,["config"]);return o!=null&&aE(o,t),t}function uE(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function cE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&uE(s,t),t}function dE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function fE(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function pE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],mE(p)),t}function hE(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&fE(r,t),t}function mE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function gE(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function vE(i){const t={},o=u(i,["config"]);return o!=null&&gE(o,t),t}function yE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function f0(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&c(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function xE(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&f0(s,t),t}function TE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SE="Content-Type",EE="X-Server-Timeout",_E="User-Agent",ku="x-goog-api-client",CE="1.34.0",AE=`google-genai-sdk/${CE}`,bE="v1beta1",wE="v1beta";class NE{constructor(t){var o,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:bE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:wE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return o&&o.extraBody!==null&&ME(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Nm(r),new Ru(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Nm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return jt(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:x}=yield ve(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=d.decode(x,{stream:!0});try{const N=JSON.parse(S);if("error"in N){const D=JSON.parse(JSON.stringify(N.error)),R=D.status,V=D.code,Q=`got status: ${R}. ${JSON.stringify(N)}`;if(V>=400&&V<600)throw new $s({message:Q,status:V})}}catch(N){if(N.name==="ApiError")throw N}p+=S;let E=-1,C=0;for(;;){E=-1,C=0;for(const R of y){const V=p.indexOf(R);V!==-1&&(E===-1||V<E)&&(E=V,C=R.length)}if(E===-1)break;const N=p.substring(0,E);p=p.substring(E+C);const D=N.trim();if(D.startsWith(g)){const R=D.substring(g.length).trim();try{const V=new Response(R,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ve(new Ru(V))}catch(V){throw new Error(`exception parsing stream chunk ${R}. ${V}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=AE+" "+this.clientOptions.userAgentExtra;return t[_E]=o,t[ku]=o,t[SE]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))s.append(r,d);t.timeout&&t.timeout>0&&s.append(EE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),x=te("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,m,y,o==null?void 0:o.httpOptions);return d.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,s){var r;const d=this.clientOptions.uploader,p=await d.stat(o),g=String(p.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),S={};s!=null&&f0(s,S);const E=await this.fetchUploadUrl(m,g,y,x,S,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,d,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Nm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new $s({message:r,status:o}):new Error(r)}}function ME(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],x=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=s(x,m):(x&&m&&typeof x!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=s(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RE="mcp_used/unknown";let IE=!1;function p0(i){for(const t of i)if(DE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return IE}function h0(i){var t;const o=(t=i[ku])!==null&&t!==void 0?t:"";i[ku]=(o+` ${RE}`).trimStart()}function DE(i){return i!==null&&typeof i=="object"&&i instanceof ju}function UE(i){return jt(this,arguments,function*(o,s=100){let r,d=0;for(;d<s;){const p=yield ve(o.listTools({cursor:r}));for(const g of p.tools)yield yield ve(g),d++;if(!p.nextCursor)break;r=p.nextCursor}})}class ju{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new ju(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const x of this.mcpClients)try{for(var g=!0,y=(o=void 0,Zt(UE(x))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const S=r;p.push(S);const E=S.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=x}}catch(S){o={error:S}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),dx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LE(i,t,o){const s=new ix;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class kE{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=zE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const x=new Promise(H=>{m=H}),S=t.callbacks,E=function(){m({})},C=this.apiClient,N={onopen:E,onmessage:H=>{LE(C,S.onmessage,H)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(H){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(H){}},D=this.webSocketFactory.create(y,HE(p),N);D.connect(),await x;const Q={setup:{model:Ie(this.apiClient,t.model)}};return D.send(JSON.stringify(Q)),new GE(D,this.apiClient)}}class GE{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=r1(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=a1(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(uo.PLAY)}pause(){this.sendPlaybackControl(uo.PAUSE)}stop(){this.sendPlaybackControl(uo.STOP)}resetContext(){this.sendPlaybackControl(uo.RESET_CONTEXT)}close(){this.conn.close()}}function HE(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function zE(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function PE(i,t,o){const s=new nx;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const p=d1(d);Object.assign(s,p)}else Object.assign(s,d);t(s)}class qE{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new kE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&p0(t.config.tools)&&h0(S);const E=YE(S);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x);else{const Y=this.apiClient.getApiKey();let O="BidiGenerateContent",ne="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",ne="access_token"),x=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${O}?${ne}=${Y}`}let C=()=>{};const N=new Promise(Y=>{C=Y}),D=t.callbacks,R=function(){var Y;(Y=D==null?void 0:D.onopen)===null||Y===void 0||Y.call(D),C({})},V=this.apiClient,Q={onopen:R,onmessage:Y=>{PE(V,D.onmessage,Y)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(s=D==null?void 0:D.onclose)!==null&&s!==void 0?s:function(Y){}},H=this.webSocketFactory.create(x,FE(E),Q);H.connect(),await N;let F=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const Y=this.apiClient.getProject(),O=this.apiClient.getLocation();F=`projects/${Y}/locations/${O}/`+F}let W={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[yl.AUDIO]}:t.config.responseModalities=[yl.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],j=[];for(const Y of K)if(this.isCallableTool(Y)){const O=Y;j.push(await O.tool())}else j.push(Y);j.length>0&&(t.config.tools=j);const fe={model:F,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=s1(this.apiClient,fe):W=l1(this.apiClient,fe),delete W.config,H.send(JSON.stringify(W)),new OE(H,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const BE={turnComplete:!0};class OE{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Yt(o.turns),t.isVertexAI()||(s=s.map(r=>Ws(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(VE)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},BE),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:c1(t)}:o={realtimeInput:u1(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function FE(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function YE(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mm=10;function Rm(i){var t,o,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(po(p)){r=!0;break}if(!r)return!0;const d=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function po(i){return"callTool"in i&&typeof i.callTool=="function"}function JE(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>po(r)))!==null&&s!==void 0?s:!1}function Im(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(po(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function Dm(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XE extends bn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,r,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!JE(o)||Rm(o.config))return await this.generateContentInternal(y);const m=Im(o);if(m.length>0){const D=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let x,S;const E=Yt(y.contents),C=(d=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Mm;let N=0;for(;N<C&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const D=x.candidates[0].content,R=[];for(const V of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(po(V)){const H=await V.callTool(x.functionCalls);R.push(...H)}N++,S={role:"user",parts:R},y.contents=Yt(y.contents),y.contents.push(D),y.contents.push(S),Dm(y.config)&&(E.push(D),E.push(S))}return Dm(y.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async o=>{var s,r,d,p,g;if(this.maybeMoveToResponseJsonSchem(o),Rm(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Im(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(d=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,x=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let d;const p=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Si(An.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,d,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const p=await Promise.all(d.map(async y=>po(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&p0(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),h0(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,s,r;const d=new Map;for(const p of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(po(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(d.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);d.set(m.name,g)}}return d}async processAfcStream(t){var o,s,r;const d=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:Mm;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,x,S){return jt(this,arguments,function*(){for(var E,C,N,D,R,V;g<d;){p&&(g++,p=!1);const W=yield ve(m.processParamsMaybeAddMcpUsage(S)),K=yield ve(m.generateContentStreamInternal(W)),j=[],fe=[];try{for(var Q=!0,H=(C=void 0,Zt(K)),F;F=yield ve(H.next()),E=F.done,!E;Q=!0){D=F.value,Q=!1;const Y=D;if(yield yield ve(Y),Y.candidates&&(!((R=Y.candidates[0])===null||R===void 0)&&R.content)){fe.push(Y.candidates[0].content);for(const O of(V=Y.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(g<d&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(O.functionCall.name)){const ne=yield ve(x.get(O.functionCall.name).callTool([O.functionCall]));j.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(Y){C={error:Y}}finally{try{!Q&&!E&&(N=H.return)&&(yield ve(N.call(H)))}finally{if(C)throw C.error}}if(j.length>0){p=!0;const Y=new hl;Y.candidates=[{content:{role:"user",parts:j}}],yield yield ve(Y);const O=[];O.push(...fe),O.push({role:"user",parts:j});const ne=Yt(S.contents).concat(O);S.contents=ne}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Am(this.apiClient,t);return g=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=wm(x),E=new hl;return Object.assign(E,S),E})}else{const m=Cm(this.apiClient,t);return g=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=bm(x),E=new hl;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Am(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(S){return jt(this,arguments,function*(){var E,C,N,D;try{for(var R=!0,V=Zt(S),Q;Q=yield ve(V.next()),E=Q.done,!E;R=!0){D=Q.value,R=!1;const H=D,F=wm(yield ve(H.json()));F.sdkHttpResponse={headers:H.headers};const W=new hl;Object.assign(W,F),yield yield ve(W)}}catch(H){C={error:H}}finally{try{!R&&!E&&(N=V.return)&&(yield ve(N.call(V)))}finally{if(C)throw C.error}}})})}else{const m=Cm(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(S){return jt(this,arguments,function*(){var E,C,N,D;try{for(var R=!0,V=Zt(S),Q;Q=yield ve(V.next()),E=Q.done,!E;R=!0){D=Q.value,R=!1;const H=D,F=bm(yield ve(H.json()));F.sdkHttpResponse={headers:H.headers};const W=new hl;Object.assign(W,F),yield yield ve(W)}}catch(H){C={error:H}}finally{try{!R&&!E&&(N=V.return)&&(yield ve(N.call(V)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=q1(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=O1(x),E=new am;return Object.assign(E,S),E})}else{const m=P1(this.apiClient,t);return g=te("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=B1(x),E=new am;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=eS(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=nS(x),E=new rm;return Object.assign(E,S),E})}else{const m=W1(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=tS(x),E=new rm;return Object.assign(E,S),E})}}async editImageInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=G1(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=H1(y),x=new Yy;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=eE(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=tE(y),x=new Jy;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=kS(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=GS(y),x=new Xy;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=BS(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=OS(y),x=new Ky;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=xS(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>Lu(x))}else{const m=yS(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Uu(x))}}async listInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=NS(this.apiClient,t);return g=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=RS(x),E=new um;return Object.assign(E,S),E})}else{const m=wS(this.apiClient,t);return g=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=MS(x),E=new um;return Object.assign(E,S),E})}}async update(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=$S(this.apiClient,t);return g=te("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>Lu(x))}else{const m=ZS(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Uu(x))}}async delete(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=D1(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=L1(x),E=new cm;return Object.assign(E,S),E})}else{const m=I1(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=U1(x),E=new cm;return Object.assign(E,S),E})}}async countTokens(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=N1(this.apiClient,t);return g=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=R1(x),E=new dm;return Object.assign(E,S),E})}else{const m=w1(this.apiClient,t);return g=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=M1(x),E=new dm;return Object.assign(E,S),E})}}async computeTokens(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=T1(this.apiClient,t);return d=te("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=S1(y),x=new Qy;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=rS(this.apiClient,t);return g=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>{const S=sS(x),E=new Xs;return Object.assign(E,S),E})}else{const m=aS(this.apiClient,t);return g=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const S=lS(x),E=new Xs;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends bn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Vy(t);return g=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p}else{const m=zy(t);return g=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p}}async fetchPredictVideosOperationInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=Iy(t);return d=te("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function jE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>l_(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function ZE(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],o_(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function $E(i,t){const o={},s=u(t,["config"]);return s!=null&&c(o,["config"],ZE(i,s,o)),o}function WE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function e_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function t_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function n_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function i_(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],jE(pt(N)));const D=u(i,["tools"]);if(t!==void 0&&D!=null){let K=mo(D);Array.isArray(K)&&(K=K.map(j=>a_(ho(j)))),c(t,["setup","tools"],K)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],s_(R));const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&c(t,["setup","outputAudioTranscription"],Q);const H=u(i,["realtimeInputConfig"]);t!==void 0&&H!=null&&c(t,["setup","realtimeInputConfig"],H);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function o_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],i_(r,o)),o}function l_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],WE(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],e_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],QE(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function s_(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function a_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],t_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],n_(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r_(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function u_(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=r_(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class c_ extends bn{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=$E(this.apiClient,t);d=te("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=u_(g,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d_(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function f_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&d_(s,t),t}function p_(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function h_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function m_(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&h_(s,t),t}function g_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v_ extends bn{constructor(t){super(),this.apiClient=t,this.list=async o=>new Si(An.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=p_(t);return d=te("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=f_(t);r=te("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=m_(t);return d=te("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=g_(y),x=new jy;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends bn{constructor(t,o=new v_(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new Si(An.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rE(t);return d=te("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dE(t);return d=te("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cE(t);r=te("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vE(t);return d=te("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=yE(y),x=new Zy;return Object.assign(x,m),x})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xE(t);return d=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=TE(y),x=new $y;return Object.assign(x,m),x})}}async importFile(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hE(t);return d=te("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=pE(y),x=new Fu;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let m0=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return m0=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const x_=()=>m0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Hu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jt extends Error{}class gt extends Jt{constructor(t,o,s,r){super(`${gt.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new na({message:s,cause:Hu(o)});const d=o;return t===400?new v0(t,d,s,r):t===401?new y0(t,d,s,r):t===403?new x0(t,d,s,r):t===404?new T0(t,d,s,r):t===409?new S0(t,d,s,r):t===422?new E0(t,d,s,r):t===429?new _0(t,d,s,r):t>=500?new C0(t,d,s,r):new gt(t,d,s,r)}}class zu extends gt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class na extends gt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class g0 extends na{constructor({message:t}={}){super({message:t??"Request timed out."})}}class v0 extends gt{}class y0 extends gt{}class x0 extends gt{}class T0 extends gt{}class S0 extends gt{}class E0 extends gt{}class _0 extends gt{}class C0 extends gt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T_=/^[a-z][a-z0-9+.-]*:/i,S_=i=>T_.test(i);let Vu=i=>(Vu=Array.isArray,Vu(i));const E_=Vu;let __=E_;const Um=__;function C_(i){if(!i)return!0;for(const t in i)return!1;return!0}function A_(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const b_=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Jt(`${i} must be an integer`);if(t<0)throw new Jt(`${i} must be a positive integer`);return t},w_=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N_=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ro="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const R_=()=>{var i,t,o,s,r;const d=M_();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":km(Deno.build.os),"X-Stainless-Arch":Lm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":km((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Lm((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=I_();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function I_(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,d=s[2]||0,p=s[3]||0;return{browser:t,version:`${r}.${d}.${p}`}}}return null}const Lm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",km=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ps;const D_=()=>Ps??(Ps=R_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function A0(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function L_(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return A0({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function b0(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function k_(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G_=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w0=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cu(i,t,o){return w0(),new File(i,t??"unknown_file",o)}function H_(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const z_=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",V_=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&N0(i),P_=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function q_(i,t,o){if(w0(),i=await i,V_(i))return i instanceof File?i:Cu([await i.arrayBuffer()],i.name);if(P_(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Cu(await Pu(r),t,o)}const s=await Pu(i);if(t||(t=H_(i)),!(o!=null&&o.type)){const r=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Cu(s,t,o)}async function Pu(i){var t,o,s,r,d;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(N0(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(z_(i))try{for(var g=!0,y=Zt(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const x=r;p.push(...await Pu(x))}}catch(x){o={error:x}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const x=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${B_(i)}`)}return p}function B_(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M0{constructor(t){this._client=t}}M0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Gm=Object.freeze(Object.create(null)),O_=(i=R0)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const d=[],p=o.reduce((x,S,E)=>{var C,N,D;/[?#]/.test(S)&&(r=!0);const R=s[E];let V=(r?encodeURIComponent:i)(""+R);return E!==s.length&&(R==null||typeof R=="object"&&R.toString===((D=Object.getPrototypeOf((N=Object.getPrototypeOf((C=R.hasOwnProperty)!==null&&C!==void 0?C:Gm))!==null&&N!==void 0?N:Gm))===null||D===void 0?void 0:D.toString))&&(V=R+"",d.push({start:x.length+S.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),x+S+(E===s.length?"":V)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)d.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(d.sort((x,S)=>x.start-S.start),d.length>0){let x=0;const S=d.reduce((E,C)=>{const N=" ".repeat(C.start-x),D="^".repeat(C.length);return x=C.start+C.length,E+N+D},"");throw new Jt(`Path parameters result in path with invalid segments:
${d.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),qs=O_(R0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I0 extends M0{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,d=Qs(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Jt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Jt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(qs`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(qs`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(qs`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const d=o??{},{api_version:p=this._client.apiVersion}=d,g=Qs(d,["api_version"]);return this._client.get(qs`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}I0._key=Object.freeze(["interactions"]);class D0 extends I0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F_(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let Bs;function Zu(i){let t;return(Bs??(t=new globalThis.TextEncoder,Bs=t.encode.bind(t)))(i)}let Os;function Hm(i){let t;return(Os??(t=new globalThis.TextDecoder,Os=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ia{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Zu(t):t;this.buffer=F_([this.buffer,o]);const s=[];let r;for(;(r=Y_(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Hm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Hm(this.buffer.subarray(0,d));s.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}ia.NEWLINE_CHARS=new Set([`
`,"\r"]);ia.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Y_(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function J_(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const js={off:0,error:200,warn:300,info:400,debug:500},zm=(i,t,o)=>{if(i){if(A_(js,i))return i;mt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(js))}`)}};function gl(){}function Fs(i,t,o){return!t||js[i]>js[o]?gl:t[i].bind(t)}const X_={error:gl,warn:gl,info:gl,debug:gl};let Vm=new WeakMap;function mt(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return X_;const r=Vm.get(o);if(r&&r[0]===s)return r[1];const d={error:Fs("error",o,s),warn:Fs("warn",o,s),info:Fs("info",o,s),debug:Fs("debug",o,s)};return Vm.set(o,[s,d]),d}const Ti=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class co{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const d=s?mt(s):console;function p(){return jt(this,arguments,function*(){var y,m,x,S;if(r)throw new Jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,N=Zt(K_(t,o)),D;D=yield ve(N.next()),y=D.done,!y;C=!0){S=D.value,C=!1;const R=S;if(!E)if(R.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ve(JSON.parse(R.data))}catch(V){throw d.error("Could not parse message into JSON:",R.data),d.error("From chunk:",R.raw),V}}}catch(R){m={error:R}}finally{try{!C&&!y&&(x=N.return)&&(yield ve(x.call(N)))}finally{if(m)throw m.error}}E=!0}catch(R){if(Gu(R))return yield ve(void 0);throw R}finally{E||o.abort()}})}return new co(p,o,s)}static fromReadableStream(t,o,s){let r=!1;function d(){return jt(this,arguments,function*(){var y,m,x,S;const E=new ia,C=b0(t);try{for(var N=!0,D=Zt(C),R;R=yield ve(D.next()),y=R.done,!y;N=!0){S=R.value,N=!1;const V=S;for(const Q of E.decode(V))yield yield ve(Q)}}catch(V){m={error:V}}finally{try{!N&&!y&&(x=D.return)&&(yield ve(x.call(D)))}finally{if(m)throw m.error}}for(const V of E.flush())yield yield ve(V)})}function p(){return jt(this,arguments,function*(){var y,m,x,S;if(r)throw new Jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,N=Zt(d()),D;D=yield ve(N.next()),y=D.done,!y;C=!0){S=D.value,C=!1;const R=S;E||R&&(yield yield ve(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!C&&!y&&(x=N.return)&&(yield ve(x.call(N)))}finally{if(m)throw m.error}}E=!0}catch(R){if(Gu(R))return yield ve(void 0);throw R}finally{E||o.abort()}})}return new co(p,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=d=>({next:()=>{if(d.length===0){const p=s.next();t.push(p),o.push(p)}return d.shift()}});return[new co(()=>r(t),this.controller,this.client),new co(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return A0({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:d}=await o.next();if(d)return s.close();const p=Zu(JSON.stringify(r)+`
`);s.enqueue(p)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function K_(i,t){return jt(this,arguments,function*(){var s,r,d,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jt("Attempted to iterate over a response with no body");const g=new j_,y=new ia,m=b0(i.body);try{for(var x=!0,S=Zt(Q_(m)),E;E=yield ve(S.next()),s=E.done,!s;x=!0){p=E.value,x=!1;const C=p;for(const N of y.decode(C)){const D=g.decode(N);D&&(yield yield ve(D))}}}catch(C){r={error:C}}finally{try{!x&&!s&&(d=S.return)&&(yield ve(d.call(S)))}finally{if(r)throw r.error}}for(const C of y.flush()){const N=g.decode(C);N&&(yield yield ve(N))}})}function Q_(i){return jt(this,arguments,function*(){var o,s,r,d;let p=new Uint8Array;try{for(var g=!0,y=Zt(i),m;m=yield ve(y.next()),o=m.done,!o;g=!0){d=m.value,g=!1;const x=d;if(x==null)continue;const S=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Zu(x):x;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let C;for(;(C=J_(p))!==-1;)yield yield ve(p.slice(0,C)),p=p.slice(C)}}catch(x){s={error:x}}finally{try{!g&&!o&&(r=y.return)&&(yield ve(r.call(y)))}finally{if(s)throw s.error}}p.length>0&&(yield yield ve(p))})}class j_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=Z_(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function Z_(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $_(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:d}=t,p=await(async()=>{var g;if(t.options.stream)return mt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):co.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return mt(i).debug(`[${s}] response parsed`,Ti({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-d})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $u extends Promise{constructor(t,o,s=$_){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new $u(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U0=Symbol("brand.privateNullableHeaders");function*W_(i){if(!i)return;if(U0 in i){const{values:s,nulls:r}=i;yield*s.entries();for(const d of r)yield[d,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Um(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Um(s[1])?s[1]:[s[1]];let p=!1;for(const g of d)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const ml=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[d,p]of W_(s)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),p===null?(t.delete(d),o.add(g)):(t.append(d,p),o.delete(g))}}return{[U0]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Au=i=>{var t,o,s,r,d,p;if(typeof globalThis.process<"u")return(s=(o=(t=Ay)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(p=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L0;class oa{constructor(t){var o,s,r,d,p,g,y,{baseURL:m=Au("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=Au("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=Qs(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:x,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(s=C.timeout)!==null&&s!==void 0?s:oa.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(p=(d=zm(C.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:zm(Au("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:N,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:U_(),this.encoder=G_,this._options=C,this.apiKey=x,this.apiVersion=S,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=ml([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return ml([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ml([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Jt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${x_()}`}makeStatusError(t,o,s,r){return gt.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,d=S_(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return C_(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new $u(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,d,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:m,url:x,timeout:S}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(m,{url:x,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(mt(this).debug(`[${E}] sending request`,Ti({retryOfRequestLogID:s,method:g.method,url:x,options:g,headers:m.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new zu;const D=new AbortController,R=await this.fetchWithTimeout(x,m,S,D).catch(Hu),V=Date.now();if(R instanceof globalThis.Error){const H=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new zu;const F=Gu(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return mt(this).info(`[${E}] connection ${F?"timed out":"failed"} - ${H}`),mt(this).debug(`[${E}] connection ${F?"timed out":"failed"} (${H})`,Ti({retryOfRequestLogID:s,url:x,durationMs:V-N,message:R.message})),this.retryRequest(g,o,s??E);throw mt(this).info(`[${E}] connection ${F?"timed out":"failed"} - error; no more retries left`),mt(this).debug(`[${E}] connection ${F?"timed out":"failed"} (error; no more retries left)`,Ti({retryOfRequestLogID:s,url:x,durationMs:V-N,message:R.message})),F?new g0:new na({cause:R})}const Q=`[${E}${C}] ${m.method} ${x} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${V-N}ms`;if(!R.ok){const H=await this.shouldRetry(R);if(o&&H){const Y=`retrying, ${o} attempts remaining`;return await k_(R.body),mt(this).info(`${Q} - ${Y}`),mt(this).debug(`[${E}] response error (${Y})`,Ti({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,durationMs:V-N})),this.retryRequest(g,o,s??E,R.headers)}const F=H?"error; no more retries left":"error; not retryable";mt(this).info(`${Q} - ${F}`);const W=await R.text().catch(Y=>Hu(Y).message),K=w_(W),j=K?void 0:W;throw mt(this).debug(`[${E}] response error (${F})`,Ti({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,message:j,durationMs:Date.now()-N})),this.makeStatusError(R.status,K,j,R.headers)}return mt(this).info(Q),mt(this).debug(`[${E}] response start`,Ti({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,durationMs:V-N})),{response:R,options:g,controller:D,requestLogID:E,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(t,o,s,r){const d=o||{},{signal:p,method:g}=d,y=Qs(d,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),s),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(m)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var d;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,m)}return await N_(p),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const d=o-t,p=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,d;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:x}=p,S=this.buildURL(y,m,x);"timeout"in p&&b_("timeout",p.timeout),p.timeout=(s=p.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=p.fetchOptions)!==null&&d!==void 0?d:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=ml([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),D_()),this._options.defaultHeaders,s,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=ml([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:L_(t)}:this.encoder({body:t,headers:s})}}oa.DEFAULT_TIMEOUT=6e4;class st extends oa{constructor(){super(...arguments),this.interactions=new D0(this)}}L0=st;st.GeminiNextGenAPIClient=L0;st.GeminiNextGenAPIClientError=Jt;st.APIError=gt;st.APIConnectionError=na;st.APIConnectionTimeoutError=g0;st.APIUserAbortError=zu;st.NotFoundError=T0;st.ConflictError=S0;st.RateLimitError=_0;st.BadRequestError=v0;st.AuthenticationError=y0;st.InternalServerError=C0;st.PermissionDeniedError=x0;st.UnprocessableEntityError=E0;st.toFile=q_;st.Interactions=D0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function tC(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function nC(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function iC(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function oC(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function lC(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Pm(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Pm(C))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(x==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),s}function sC(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&vC(d);const p=u(i,["config"]);return p!=null&&oC(p,o),o}function aC(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&yC(d,o,t);const p=u(i,["config"]);return p!=null&&lC(p,o,t),o}function rC(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function uC(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function cC(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function dC(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function fC(i,t){const o={},s=u(i,["config"]);return s!=null&&cC(s,o),o}function pC(i,t){const o={},s=u(i,["config"]);return s!=null&&dC(s,o),o}function hC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>k0(g))),c(o,["tuningJobs"],p)}return o}function mC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>qu(g))),c(o,["tuningJobs"],p)}return o}function gC(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function vC(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function yC(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function k0(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],Zm(d));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(o,["updateTime"],m);const x=u(i,["description"]);x!=null&&c(o,["description"],x);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],gC(E)),o}function qu(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],Zm(d));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(o,["updateTime"],m);const x=u(i,["error"]);x!=null&&c(o,["error"],x);const S=u(i,["description"]);S!=null&&c(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const N=u(i,["preTunedModel"]);N!=null&&c(o,["preTunedModel"],N);const D=u(i,["supervisedTuningSpec"]);D!=null&&c(o,["supervisedTuningSpec"],D);const R=u(i,["preferenceOptimizationSpec"]);R!=null&&c(o,["preferenceOptimizationSpec"],R);const V=u(i,["tuningDataStats"]);V!=null&&c(o,["tuningDataStats"],V);const Q=u(i,["encryptionSpec"]);Q!=null&&c(o,["encryptionSpec"],Q);const H=u(i,["partnerModelTuningSpec"]);H!=null&&c(o,["partnerModelTuningSpec"],H);const F=u(i,["customBaseModel"]);F!=null&&c(o,["customBaseModel"],F);const W=u(i,["experiment"]);W!=null&&c(o,["experiment"],W);const K=u(i,["labels"]);K!=null&&c(o,["labels"],K);const j=u(i,["outputUri"]);j!=null&&c(o,["outputUri"],j);const fe=u(i,["pipelineJob"]);fe!=null&&c(o,["pipelineJob"],fe);const Y=u(i,["serviceAccount"]);Y!=null&&c(o,["serviceAccount"],Y);const O=u(i,["tunedModelDisplayName"]);O!=null&&c(o,["tunedModelDisplayName"],O);const ne=u(i,["veoTuningSpec"]);return ne!=null&&c(o,["veoTuningSpec"],ne),o}function xC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Pm(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(An.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:Mu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=uC(t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>qu(x))}else{const m=rC(t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>k0(x))}}async listInternal(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=pC(t);return g=te("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=mC(x),E=new fm;return Object.assign(E,S),E})}else{const m=fC(t);return g=te("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=hC(x),E=new fm;return Object.assign(E,S),E})}}async cancel(t){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=tC(t);return g=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=iC(x),E=new pm;return Object.assign(E,S),E})}else{const m=eC(t);return g=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=nC(x),E=new pm;return Object.assign(E,S),E})}}async tuneInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=aC(t,t);return d=te("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>qu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sC(t);return d=te("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>xC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EC=1024*1024*8,_C=3,CC=1e3,AC=2,Zs="x-goog-upload-status";async function bC(i,t,o){var s;const r=await G0(i,t,o),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Zs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function wC(i,t,o){var s;const r=await G0(i,t,o),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Zs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Ym(d),g=new Yu;return Object.assign(g,p),g}async function G0(i,t,o){var s,r;let d=0,p=0,g=new Ru(new Response),y="upload";for(d=i.size;p<d;){const m=Math.min(EC,d-p),x=i.slice(p,p+m);p+m>=d&&(y+=", finalize");let S=0,E=CC;for(;S<_C&&(g=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Zs]));)S++,await MC(E),E=E*AC;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Zs])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function NC(i){return{size:i.size,type:i.type}}function MC(i){return new Promise(t=>setTimeout(t,i))}class RC{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await bC(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wC(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC{create(t,o,s){return new DC(t,o,s)}}class DC{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qm="x-goog-api-key";class UC{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(qm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(qm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LC="gl-node/";class H0{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new st({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=My(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new UC(this.apiKey);this.apiClient=new NE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:LC+"web",uploader:new RC,downloader:new SC}),this.models=new XE(this.apiClient),this.live=new qE(this.apiClient,r,new IC),this.batches=new oT(this.apiClient),this.chats=new VT(this.models,this.apiClient),this.caches=new GT(this.apiClient),this.files=new QT(this.apiClient),this.operations=new KE(this.apiClient),this.authTokens=new c_(this.apiClient),this.tunings=new TC(this.apiClient),this.fileSearchStores=new y_(this.apiClient)}}function kC(i){const t=i.length,o=new Int16Array(t);for(let s=0;s<t;s++){const r=Math.max(-1,Math.min(1,i[s]));o[s]=r<0?r*32768:r*32767}return{data:GC(new Uint8Array(o.buffer)),mimeType:"audio/pcm;rate=16000"}}function GC(i){let t="";const o=i.byteLength;for(let s=0;s<o;s++)t+=String.fromCharCode(i[s]);return btoa(t)}function HC(i){const t=atob(i),o=t.length,s=new Uint8Array(o);for(let r=0;r<o;r++)s[r]=t.charCodeAt(r);return s}async function zC(i,t,o=24e3,s=1){const r=HC(i),d=new Int16Array(r.buffer),p=d.length/s,g=t.createBuffer(s,p,o);for(let y=0;y<s;y++){const m=g.getChannelData(y);for(let x=0;x<p;x++)m[x]=d[x*s+y]/32768}return g}const VC=`
You are 'On Her Way' (OHW), a sharp, insightful, and strategic career mentor.
Context: User's first voice interaction.

ROLE: Professional Strategist. Direct, Insightful, No fluff.
LANGUAGE: Simplified Chinese ().

CONVERSATION STRUCTURE (Strictly 3 Rounds):
1. **Round 1 (Probe)**: Ask ONE sharp, direct question to identify their specific blocker/anxiety.
   (User replies...)
2. **Round 2 (Diagnosis & Reframe)**: Provide a sharp insight. Reframe their problem (e.g., "You aren't lazy, you are afraid of imperfection").
   (User replies...)
3. **Round 3 (The First Move & Close)**: 
   - Propose **ONE concrete, tiny "First Move"** (Actionable Task, <5 mins, Low Friction).
   - Example: "Hang up, open your notes app, and write 3 bad ideas. That's it."
   - **End the conversation**. Say a firm closing phrase. Do not ask more questions.

GOAL: Move them from "Thinking" to "Doing" in 3 exchanges.
`,PC=({onClose:i})=>{const[t,o]=Z.useState("idle"),[s,r]=Z.useState(0),[d,p]=Z.useState(null),[g,y]=Z.useState(null),m=Z.useRef([]),x=Z.useRef(""),S=Z.useRef(""),E=Z.useRef(null),C=Z.useRef(null),N=Z.useRef(null),D=Z.useRef(null),R=Z.useRef(null),V=Z.useRef(null),Q=Z.useRef(0),H=Z.useRef(new Set),F=Z.useRef(!0),W=()=>{x.current&&m.current.push(`User: ${x.current}`),S.current&&m.current.push(`Mentor: ${S.current}`),K();const Y=t==="error"?"error":t==="idle"?"declined":"ended";i({transcriptionHistory:m.current,reason:Y})},K=()=>{if(C.current){try{C.current.close()}catch(Y){console.error("Error closing session:",Y)}C.current=null}V.current&&(V.current.getTracks().forEach(Y=>Y.stop()),V.current=null),R.current&&(R.current.disconnect(),R.current=null),D.current&&(D.current.close(),D.current=null),N.current&&(N.current.close(),N.current=null),H.current.forEach(Y=>{try{Y.stop()}catch{}}),H.current.clear()},j=Y=>{if(console.error("Live Session Error detected:",Y),!F.current)return;K(),o("error");let O="";Y instanceof Error?O=Y.message:typeof Y=="string"?O=Y:Y&&typeof Y=="object"&&(O=Y.message||Y.statusText||JSON.stringify(Y));const ne=O.toLowerCase();ne.includes("unavailable")||ne.includes("503")?O="":(ne.includes("not supported")||ne.includes("region")||ne.includes("403"))&&(O="Gemini Live "),p(O)},fe=async()=>{K(),o("connecting"),p(null);try{const Y=new H0({apiKey:"PLACEHOLDER_API_KEY"}),O=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});D.current=O;const ne=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});N.current=ne;const $=ne.createGain();$.connect(ne.destination),O.state==="suspended"&&await O.resume(),ne.state==="suspended"&&await ne.resume();const ae=await navigator.mediaDevices.getUserMedia({audio:!0});V.current=ae;const ge=Y.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{responseModalities:[yl.AUDIO],systemInstruction:VC,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},inputAudioTranscription:{},outputAudioTranscription:{}},callbacks:{onopen:()=>{if(!F.current)return;console.log("Live Session Connected"),o("listening");const me=O.createMediaStreamSource(ae),I=O.createScriptProcessor(4096,1,1);R.current=I,I.onaudioprocess=J=>{if(!F.current)return;const ee=J.inputBuffer.getChannelData(0);let pe=0;for(let z=0;z<ee.length;z++)pe+=ee[z]*ee[z];const ye=Math.sqrt(pe/ee.length);r(z=>Math.max(ye,z*.9));const b=kC(ee);ge.then(z=>{z.sendRealtimeInput({media:b})}).catch(z=>{})},me.connect(I),I.connect(O.destination)},onmessage:async me=>{var J,ee,pe,ye,b,z,X,ie,he,de,we;if(!F.current)return;if((ee=(J=me.serverContent)==null?void 0:J.outputTranscription)!=null&&ee.text){const ze=me.serverContent.outputTranscription.text;S.current+=ze,y({text:S.current,role:"mentor"})}if((ye=(pe=me.serverContent)==null?void 0:pe.inputTranscription)!=null&&ye.text){const ze=me.serverContent.inputTranscription.text;x.current+=ze,y({text:x.current,role:"user"})}(b=me.serverContent)!=null&&b.turnComplete&&(x.current&&(m.current.push(`User: ${x.current}`),x.current=""),S.current&&(m.current.push(`Mentor: ${S.current}`),S.current=""));const I=(de=(he=(ie=(X=(z=me.serverContent)==null?void 0:z.modelTurn)==null?void 0:X.parts)==null?void 0:ie[0])==null?void 0:he.inlineData)==null?void 0:de.data;if(I){o("speaking"),ne.currentTime<Q.current||(Q.current=ne.currentTime);try{const ze=await zC(I,ne),Le=ne.createBufferSource();Le.buffer=ze,Le.connect($),Le.start(Q.current),Q.current+=ze.duration,H.current.add(Le),Le.onended=()=>{H.current.delete(Le),H.current.size===0&&o("listening")}}catch(ze){console.error("Audio Decode Error:",ze)}}(we=me.serverContent)!=null&&we.interrupted&&(H.current.forEach(ze=>ze.stop()),H.current.clear(),Q.current=0,o("listening"),S.current="")},onclose:me=>{console.log("Live Session Closed",me)},onerror:me=>{j(me)}}});ge.then(me=>{C.current=me}).catch(me=>{j(me)})}catch(Y){j(Y)}};return Z.useEffect(()=>(F.current=!0,()=>{F.current=!1,K()}),[]),Z.useEffect(()=>{const Y=E.current;if(!Y)return;const O=Y.getContext("2d");if(!O)return;let ne,$=[];const ae=["#FDD140","#9FD2E3","#F36223"],ge=()=>{const I=Y.getBoundingClientRect(),J=window.devicePixelRatio||1;Y.width=I.width*J,Y.height=I.height*J,O.scale(J,J)};ge(),window.addEventListener("resize",ge);const me=()=>{if(!Y)return;const I=Y.getBoundingClientRect(),J=I.width,ee=I.height,pe=J/2,ye=ee/2;O.globalCompositeOperation="source-over",O.fillStyle="rgba(15, 14, 23, 0.3)",O.fillRect(0,0,J,ee),O.globalCompositeOperation="screen";const b=4;for(let z=0;z<b;z++){const X=Math.random()*Math.PI*2,ie=Math.random()*2+.5;$.push({x:pe,y:ye,vx:Math.cos(X)*ie,vy:Math.sin(X)*ie,life:1,maxLife:1,size:Math.random()*6+2,color:ae[Math.floor(Math.random()*ae.length)]})}for(let z=$.length-1;z>=0;z--){const X=$[z];X.x+=X.vx,X.y+=X.vy,X.life-=.015,X.size*=.96,O.beginPath(),O.arc(X.x,X.y,Math.max(0,X.size),0,Math.PI*2),O.fillStyle=X.color,O.globalAlpha=Math.max(0,X.life),O.fill(),X.life<=0&&$.splice(z,1)}ne=requestAnimationFrame(me)};return me(),()=>{window.removeEventListener("resize",ge),cancelAnimationFrame(ne)}},[]),v.jsxs("div",{className:"fixed inset-0 z-50 bg-space-950/95 backdrop-blur-xl flex flex-col items-center justify-between py-12 px-6 animate-fade-in text-white overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-brand-yellow/5 rounded-full blur-[150px] animate-pulse-slow"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-brand-blue/5 rounded-full blur-[150px] animate-pulse delay-1000"})]}),v.jsxs("div",{className:"relative z-10 w-full flex flex-col items-center mt-8",children:[(t==="idle"||t==="error")&&v.jsxs("div",{className:"flex items-center gap-2 text-white/50 text-xs font-bold tracking-[0.2em] uppercase mb-8",children:[v.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-pulse shadow-[0_0_10px_#FDD140]"}),"..."]}),v.jsx("div",{className:"relative mb-6",children:v.jsxs("div",{className:"w-40 h-40 rounded-full border border-white/10 shadow-[0_0_40px_rgba(253,209,64,0.1)] relative z-10 bg-space-900 overflow-hidden group flex items-center justify-center",children:[v.jsx("canvas",{ref:E,className:"absolute inset-0 w-full h-full"}),v.jsx("div",{className:"relative z-20 pointer-events-none",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",className:"text-white drop-shadow-[0_0_10px_rgba(0,0,0,0.5)] opacity-90",children:v.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})})})]})}),v.jsx("div",{className:"text-center max-w-sm mx-auto w-full",children:t==="idle"||t==="error"?v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-3xl font-sans font-bold text-white mb-4 tracking-tight drop-shadow-md",children:"hii "}),v.jsxs("p",{className:"text-brand-blue/70 text-sm leading-relaxed font-light",children:["80%FOMO",v.jsx("br",{}),"",v.jsx("br",{}),""]}),t==="error"&&v.jsx("div",{className:"mt-4 text-red-300 text-xs bg-red-500/10 px-3 py-2 rounded-lg border border-red-500/20",children:d||"Signal lost."})]}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-2xl font-sans font-bold text-white mb-2 tracking-wide",children:"On Her Way AI "}),v.jsx("p",{className:"text-brand-blue text-xs tracking-[0.2em] uppercase animate-pulse mb-4",children:t==="listening"?"...":"..."}),v.jsx("div",{className:"h-16 flex items-center justify-center gap-1.5 mb-6",children:[...Array(5)].map((Y,O)=>v.jsx("div",{className:"w-1.5 bg-gradient-to-t from-brand-yellow via-brand-orange to-brand-blue rounded-full transition-all duration-75 shadow-[0_0_10px_rgba(253,209,64,0.4)]",style:{height:`${Math.max(10,s*150*(Math.random()+.5))}px`,opacity:.9}},O))}),v.jsxs("div",{className:"h-40 flex flex-col justify-center bg-black/20 rounded-xl p-4 border border-white/5",children:[g&&v.jsxs("div",{className:"animate-fade-in-up",children:[v.jsx("p",{className:`text-xs font-bold uppercase tracking-widest mb-2 ${g.role==="user"?"text-brand-blue":"text-brand-yellow"}`,children:g.role==="user"?"":"AI "}),v.jsx("p",{className:"text-white text-base md:text-lg font-light leading-relaxed drop-shadow-md tracking-wide",children:g.text})]}),!g&&v.jsx("div",{className:"text-white/20 text-sm font-light italic text-center",children:"...  ..."})]})]})})]}),v.jsx("div",{className:"relative z-10 w-full max-w-xs mb-8",children:t==="idle"||t==="error"?v.jsxs("div",{className:"flex justify-around items-center w-full",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("button",{onClick:W,className:"w-16 h-16 rounded-full bg-white/5 hover:bg-white/10 border border-white/20 flex items-center justify-center transition-all hover:scale-105",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white/70",children:[v.jsx("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),v.jsx("line",{x1:"23",y1:"1",x2:"1",y2:"23"})]})}),v.jsx("span",{className:"text-white/40 text-[10px] uppercase tracking-widest",children:""})]}),v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("button",{onClick:fe,className:"w-20 h-20 rounded-full bg-white hover:bg-gray-100 shadow-[0_0_40px_rgba(255,255,255,0.3)] flex items-center justify-center transition-all hover:scale-110 animate-bounce",style:{animationDuration:"2s"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-black",children:v.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2z"})})}),v.jsx("span",{className:"text-white font-bold text-xs uppercase tracking-widest",children:""})]})]}):v.jsx("div",{className:"flex justify-center w-full",children:v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("button",{onClick:W,className:"w-16 h-16 rounded-full bg-red-500 hover:bg-red-400 shadow-[0_0_30px_rgba(239,68,68,0.4)] flex items-center justify-center transition-all hover:scale-105",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:[v.jsx("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),v.jsx("line",{x1:"23",y1:"1",x2:"1",y2:"23"})]})}),v.jsx("span",{className:"text-white/40 text-[10px] uppercase tracking-widest",children:""})]})})})]})},qC=({profile:i,onContinue:t})=>v.jsx("div",{className:"fixed inset-0 z-[60] bg-space-950/95 backdrop-blur-xl flex items-center justify-center p-6 animate-fade-in",children:v.jsx("div",{className:"w-full max-w-lg relative",children:v.jsxs("div",{className:"glass-panel-heavy rounded-3xl overflow-hidden shadow-[0_0_60px_rgba(253,209,64,0.1)] border border-white/10 relative",children:[v.jsx("div",{className:"h-2 bg-gradient-to-r from-brand-yellow via-brand-orange to-brand-blue"}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-white/5 border border-white/10 mb-4",children:v.jsx("span",{className:"text-[10px] font-bold text-brand-yellow uppercase tracking-[0.2em] animate-pulse",children:""})}),v.jsx("h2",{className:"text-3xl font-serif font-bold text-white tracking-tight",children:""}),v.jsx("p",{className:"text-sm text-gray-400 mt-2 font-light",children:""})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[v.jsxs("div",{className:"flex-shrink-0 relative group",children:[v.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full border-2 border-white/20 overflow-hidden shadow-[0_0_30px_rgba(255,255,255,0.1)]",children:v.jsx("img",{src:i.avatar||"https://picsum.photos/200",alt:"AI Avatar",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),v.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-space-900 px-3 py-1 rounded-full border border-white/20 text-[10px] font-mono text-white whitespace-nowrap",children:i.name})]}),v.jsxs("div",{className:"flex-1 space-y-4 w-full",children:[v.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsx("div",{className:"text-[9px] uppercase tracking-wider text-brand-blue font-bold mb-1",children:""}),v.jsx("div",{className:"text-white text-sm font-medium",children:i.role_detail||""})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsx("div",{className:"text-[9px] uppercase tracking-wider text-brand-yellow font-bold mb-1",children:""}),v.jsx("div",{className:"text-white text-xs",children:i.experience||"..."})]}),v.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsx("div",{className:"text-[9px] uppercase tracking-wider text-brand-orange font-bold mb-1",children:""}),v.jsx("div",{className:"text-white text-xs",children:i.goal||"..."})]})]}),v.jsxs("div",{className:"bg-red-500/10 p-3 rounded-xl border border-red-500/10",children:[v.jsx("div",{className:"text-[9px] uppercase tracking-wider text-red-400 font-bold mb-1",children:""}),v.jsx("div",{className:"text-white text-xs opacity-80",children:i.hassle||""})]})]})]}),v.jsxs("button",{onClick:t,className:"w-full mt-8 bg-white text-space-950 font-bold py-4 rounded-xl hover:bg-brand-blue/20 hover:text-white transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] uppercase tracking-widest text-sm flex items-center justify-center gap-2 group",children:[v.jsx("span",{children:""}),v.jsxs("svg",{className:"group-hover:translate-x-1 transition-transform",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),v.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})})}),xl=new H0({apiKey:"PLACEHOLDER_API_KEY"}),BC=`
You are "On Her Way" (OHW), a professional, and strategic career, life and psychological mentor for women (20-30s).
Your goal is to alleviate "Analysis Paralysis" by guiding them to a "First Move".

LANGUAGE RULE:
You must ALWAYS respond in Simplified Chinese ().

TONE & BEHAVIOR:
1. **Insightful & Direct**: You are NOT just a listener; you are a Strategist. Do not use empty comfort phrases (e.g., "I understand", "It's hard"). Instead, validate their feelings by naming the cognitive bias (e.g., "You aren't stuck; you are just over-planning.").
2. **Deep Diagnostic**: Ask targeted questions to uncover the root cause (Perfectionism? Fear of judgement? Lack of info?).
3. **No Robot Speak**: Speak naturally, concisely (2-3 sentences max usually).

STRATEGY (THE 3-TIER MOVE):
When it is time to suggest actions (usually around turn 3), you MUST generate exactly 3 distinct levels of "First Moves":
1. **Low Friction (<15 mins)**: Something so easy it's impossible to fail. (e.g., "Download software", "Screenshot 3 examples").
2. **Research (~30 mins)**: Planning or information gathering. (e.g., "Find 3 job descriptions", "List transferable skills").
3. **Active (~45-60 mins)**: Hands-on execution. (e.g., "Follow one tutorial", "Draft an outreach email").

If 'shouldGenerateActions' is FALSE, focus solely on diagnosing the situation and asking 1 insightful question. Return an empty list for actions.
`,OC=async(i,t,o=!1)=>{try{const s="gemini-3-flash-preview";let r=i;o?r+=`

[SYSTEM COMMAND]: Based on our conversation, please now generate specific "First Move" actions. Generate exactly 3 actions: one Low Friction, one Research, and one Active.`:r+=`

[SYSTEM COMMAND]: Just listen, diagnose the root cause, and ask a clarifying question. Do NOT generate actions yet.`;const p=(await xl.models.generateContent({model:s,contents:r,config:{systemInstruction:BC,responseMimeType:"application/json",responseSchema:{type:Ee.OBJECT,properties:{empatheticResponse:{type:Ee.STRING,description:"A sharp, text-based response validating the user's feelings via insight/diagnosis. MUST BE IN SIMPLIFIED CHINESE."},suggestedActions:{type:Ee.ARRAY,description:"Return exactly 3 actions if requested, otherwise empty array.",items:{type:Ee.OBJECT,properties:{title:{type:Ee.STRING,description:"Short title in Chinese"},description:{type:Ee.STRING,description:"Specific steps in Chinese."},tag:{type:Ee.STRING,enum:["Career","Mental","Networking","Skill"]},estimatedTimeMinutes:{type:Ee.NUMBER},difficulty:{type:Ee.STRING,enum:["Low Friction","Research","Active"]}},required:["title","description","tag","estimatedTimeMinutes","difficulty"]}}},required:["empatheticResponse"]}}})).text;if(!p)throw new Error("No response from AI");const g=JSON.parse(p);return{empatheticResponse:g.empatheticResponse,suggestedActions:g.suggestedActions||[]}}catch(s){return console.error("Gemini API Error:",s),{empatheticResponse:"",suggestedActions:[]}}},FC=async i=>{try{const t=`
      Analyze this conversation.
      1. Extract 2-3 new professional "Tags" (skills/interests).
      2. Identify 1-3 "Insights" (Problem/Goal/Strength).
      3. Write a 1-sentence summary.

      OUTPUT: Simplified Chinese ().

      Conversation:
      ${i.join(`
`)}
    `,s=(await xl.models.generateContent({model:"gemini-3-flash-preview",contents:t,config:{responseMimeType:"application/json",responseSchema:{type:Ee.OBJECT,properties:{newTags:{type:Ee.ARRAY,items:{type:Ee.STRING}},summary:{type:Ee.STRING},insights:{type:Ee.ARRAY,items:{type:Ee.OBJECT,properties:{id:{type:Ee.STRING},title:{type:Ee.STRING},type:{type:Ee.STRING,enum:["Problem","Goal","Strength"]},description:{type:Ee.STRING}},required:["id","title","type","description"]}}}}}})).text;if(!s)throw new Error("Analysis failed");return JSON.parse(s)}catch(t){return console.error(t),{newTags:[],insights:[],summary:""}}},YC=async i=>{try{const t=`
      For insight: "[${i.type}] ${i.title} - ${i.description}".
      Generate 3 DISTINCT "First Moves":
      1. Low Friction (<15 mins)
      2. Research (~30 mins)
      3. Active (~60 mins)

      OUTPUT: Simplified Chinese. Return JSON array.
    `,s=(await xl.models.generateContent({model:"gemini-3-flash-preview",contents:t,config:{responseMimeType:"application/json",responseSchema:{type:Ee.ARRAY,items:{type:Ee.OBJECT,properties:{title:{type:Ee.STRING},description:{type:Ee.STRING},tag:{type:Ee.STRING,enum:["Career","Mental","Networking","Skill"]},estimatedTimeMinutes:{type:Ee.NUMBER},difficulty:{type:Ee.STRING,enum:["Low Friction","Research","Active"]}},required:["title","description","tag","estimatedTimeMinutes","difficulty"]}}}})).text;if(!s)throw new Error("Action generation failed");return JSON.parse(s).map((d,p)=>({id:`gen_action_${Date.now()}_${p}`,status:"pending",createdAt:Date.now(),isShared:!1,...d}))}catch(t){return console.error(t),[]}},JC=async i=>{try{const t=`
      Based on the "First Call" transcript below, create a "Persona Profile".
      Infer details.

      OUTPUT: Simplified Chinese ().

      Transcript:
      ${i.join(`
`)}
    `,s=(await xl.models.generateContent({model:"gemini-3-flash-preview",contents:t,config:{responseMimeType:"application/json",responseSchema:{type:Ee.OBJECT,properties:{name:{type:Ee.STRING},title:{type:Ee.STRING},role_detail:{type:Ee.STRING},experience:{type:Ee.STRING},hassle:{type:Ee.STRING},goal:{type:Ee.STRING}}}}})).text;if(!s)throw new Error("Profile generation failed");return JSON.parse(s)}catch(t){return console.error("Profile Gen Error",t),{name:"Explorer",title:"",role_detail:"",hassle:"",goal:""}}},XC=async i=>{var t,o,s;try{const r=`
      A trendy, flat-vector style avatar of a young woman.
      Style: Minimalist, clean lines, vibrant colors (Yellow #FDD140, Blue #9FD2E3, Orange #F36223).
      Traits: ${i.title}, ${i.experience}.
      Look: Hopeful, modern. Solid dark background #0F0E17.
    `,d=await xl.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:r}]},config:{imageConfig:{aspectRatio:"1:1"}}});for(const p of((s=(o=(t=d.candidates)==null?void 0:t[0])==null?void 0:o.content)==null?void 0:s.parts)||[])if(p.inlineData)return`data:image/png;base64,${p.inlineData.data}`;return"https://picsum.photos/200"}catch(r){return console.error("Avatar Gen Error",r),"https://picsum.photos/200"}},la=({action:i,onComplete:t,onAdd:o,addLabel:s="",onAskCommunity:r,isFeedView:d=!1})=>{const p=i.status==="completed",g=y=>{switch(y){case"Career":case"Skill":return"bg-brand-blue/10 text-brand-blue border-brand-blue/30 shadow-[0_0_8px_rgba(159,210,227,0.2)]";case"Mental":return"bg-brand-yellow/10 text-brand-yellow border-brand-yellow/30 shadow-[0_0_8px_rgba(253,209,64,0.2)]";case"Networking":return"bg-brand-orange/10 text-brand-orange border-brand-orange/30 shadow-[0_0_8px_rgba(243,98,35,0.2)]";default:return"bg-gray-800 text-gray-400 border-gray-700"}};return v.jsxs("div",{className:`border rounded-2xl p-5 mb-3 transition-all relative overflow-hidden group ${p?"bg-space-900/50 border-white/5 opacity-60":"glass-panel border-white/10 hover:border-brand-yellow/20"}`,children:[!p&&!d&&v.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-brand-yellow/5 rounded-full blur-[40px] -translate-y-1/2 translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none duration-700"}),v.jsxs("div",{className:"flex justify-between items-start mb-3 relative z-10",children:[v.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider px-2 py-1 rounded border ${g(i.tag)}`,children:i.tag}),v.jsxs("span",{className:"text-xs text-white/40 font-mono flex items-center gap-1",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("polyline",{points:"12 6 12 12 16 14"})]}),i.estimatedTimeMinutes," MIN"]})]}),v.jsx("h3",{className:`font-bold text-base text-white mb-2 tracking-wide ${p?"line-through text-white/30":""}`,children:i.title}),v.jsx("p",{className:"text-sm text-brand-blue/70 leading-relaxed mb-4 font-light",children:i.description}),v.jsxs("div",{className:"flex flex-col gap-2 mt-2 relative z-10",children:[o&&v.jsx("button",{onClick:()=>o(i),className:"w-full bg-white text-space-950 text-sm font-bold py-3 rounded-xl hover:bg-brand-blue/20 hover:text-white active:scale-95 transition-all flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(255,255,255,0.2)] uppercase tracking-wider",children:s}),!p&&!o&&!d&&v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>t&&t(i.id),className:"flex-1 border border-white/20 hover:border-brand-yellow hover:text-brand-yellow text-white/80 text-sm font-medium py-2.5 rounded-xl active:scale-95 transition-all flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("circle",{cx:"12",cy:"12",r:"10"})}),""]}),r&&v.jsxs("button",{onClick:()=>r(i),className:"flex-1 border border-white/20 hover:border-brand-blue hover:text-brand-blue text-white/80 text-sm font-medium py-2.5 rounded-xl active:scale-95 transition-all flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10",children:[v.jsx("span",{children:"?"})," "]})]}),p&&!d&&v.jsxs("div",{className:"flex w-full items-center justify-center gap-2 text-brand-yellow text-sm font-bold uppercase tracking-wider bg-brand-yellow/10 py-2 rounded-xl border border-brand-yellow/20 shadow-[0_0_10px_rgba(253,209,64,0.1)]",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}),""]})]})]})},KC=({analysis:i,onAddAction:t,onClose:o})=>{const[s,r]=Z.useState(null),[d,p]=Z.useState([]),[g,y]=Z.useState(!1),m=async S=>{r(S),y(!0);const E=await YC(S);p(E.map(C=>({...C,sourceInsightType:S.type}))),y(!1)},x=S=>{t(S),o()};return v.jsx("div",{className:"fixed inset-0 z-40 bg-space-950/80 backdrop-blur-md flex items-end md:items-center justify-center p-4",children:v.jsxs("div",{className:"glass-panel-heavy w-full max-w-lg rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] border border-white/10 overflow-hidden flex flex-col max-h-[85vh] animate-fade-in-up",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 relative bg-white/5",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-yellow via-brand-orange to-brand-blue"}),v.jsx("button",{onClick:o,className:"absolute top-6 right-6 text-white/50 hover:text-white transition-colors",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-yellow animate-pulse"}),v.jsx("span",{className:"text-[10px] font-mono text-brand-yellow uppercase tracking-widest",children:""})]}),v.jsx("h2",{className:"font-serif text-2xl font-bold text-white",children:""}),v.jsxs("p",{className:"text-sm text-brand-blue/70 mt-2 font-light leading-relaxed border-l-2 border-white/20 pl-3",children:['"',i.summary,'"']}),i.newTags.length>0&&v.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:i.newTags.map(S=>v.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider bg-brand-blue/20 text-brand-blue border border-brand-blue/30 px-2 py-1 rounded-md shadow-[0_0_10px_rgba(159,210,227,0.2)]",children:["+ ",S]},S))})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6 relative",children:s?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-6 animate-fade-in",children:[v.jsx("button",{onClick:()=>{r(null),p([])},className:"text-xs text-brand-blue hover:text-white font-mono mb-4 flex items-center gap-1 uppercase tracking-wider",children:" "}),v.jsxs("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/10",children:[v.jsx("h3",{className:"font-serif text-xl font-bold text-white mb-1",children:s.title}),v.jsx("p",{className:"text-sm text-gray-400 font-light",children:s.description})]})]}),g&&v.jsxs("div",{className:"space-y-4 animate-pulse",children:[[1,2,3].map(S=>v.jsx("div",{className:"h-24 bg-white/5 rounded-2xl border border-white/5"},S)),v.jsx("div",{className:"text-center text-xs text-brand-yellow font-mono animate-pulse",children:"..."})]}),!g&&v.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[v.jsx("h4",{className:"text-[10px] font-bold text-white/30 uppercase tracking-[0.2em]",children:""}),d.map(S=>v.jsx(la,{action:S,onAdd:()=>x(S),addLabel:""},S.id))]})]}):v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] mb-4",children:""}),v.jsx("div",{className:"space-y-3",children:i.insights.map(S=>v.jsxs("button",{onClick:()=>m(S),className:"w-full text-left glass-panel p-5 rounded-2xl border border-white/5 hover:border-white/20 hover:bg-white/5 transition-all group",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded border uppercase tracking-wider ${S.type==="Problem"?"bg-red-500/10 text-red-400 border-red-500/20":S.type==="Goal"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:S.type}),v.jsx("span",{className:"text-white/30 group-hover:text-white transition-colors",children:""})]}),v.jsx("h4",{className:"font-bold text-white mb-1 group-hover:text-brand-yellow transition-colors",children:S.title}),v.jsx("p",{className:"text-sm text-gray-400 font-light",children:S.description})]},S.id))})]})})]})})},QC=({messages:i,inputText:t,setInputText:o,isTyping:s,onSendMessage:r,onAddAction:d,onStartVoice:p})=>{const g=Z.useRef(null);Z.useEffect(()=>{var m;(m=g.current)==null||m.scrollIntoView({behavior:"smooth"})},[i]);const y=m=>{switch(m){case"Low Friction":return"text-green-400 border-green-400/30 bg-green-400/10";case"Research":return"text-brand-blue border-brand-blue/30 bg-brand-blue/10";case"Active":return"text-brand-orange border-brand-orange/30 bg-brand-orange/10";default:return"text-white border-white/30 bg-white/10"}};return v.jsxs("div",{className:"flex flex-col h-full pb-24 relative",children:[v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-8 no-scrollbar",children:[i.map(m=>v.jsxs("div",{className:`flex flex-col ${m.role==="user"?"items-end":"items-start"}`,children:[v.jsx("div",{className:`max-w-[85%] md:max-w-[70%] rounded-2xl p-5 md:p-6 relative backdrop-blur-md transition-all duration-500 ${m.role==="user"?"bg-gradient-to-br from-brand-orange/90 to-brand-orange/70 text-white rounded-tr-none border border-white/20 shadow-[0_0_20px_rgba(243,98,35,0.2)]":"glass-panel text-gray-100 rounded-tl-none border-white/10"}`,children:v.jsx("p",{className:"text-sm md:text-base whitespace-pre-wrap leading-relaxed tracking-wide font-light",children:m.text})}),m.suggestedActions&&m.suggestedActions.length>0&&v.jsxs("div",{className:"mt-6 w-full max-w-2xl animate-fade-in-up space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2 px-2",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-yellow animate-pulse"}),v.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-white/50",children:" (31)"})]}),v.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.suggestedActions.map((x,S)=>v.jsxs("div",{className:"glass-panel p-4 rounded-2xl border-white/5 shadow-lg flex flex-col gap-2 relative overflow-hidden",children:[v.jsx("div",{className:`absolute top-0 left-0 px-3 py-1 text-[9px] font-bold uppercase tracking-widest border-b border-r rounded-br-xl ${y(x.difficulty)}`,children:x.difficulty}),v.jsx("div",{className:"mt-6",children:v.jsx(la,{action:x,onAdd:d})})]},S))})]}),v.jsx("span",{className:"text-[10px] text-white/30 mt-2 mx-2 font-mono uppercase tracking-widest",children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},m.id)),s&&v.jsx("div",{className:"flex items-start animate-pulse",children:v.jsxs("div",{className:"glass-panel px-6 py-4 rounded-2xl rounded-tl-none flex space-x-2 items-center",children:[v.jsx("div",{className:"w-1.5 h-1.5 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"0ms"}}),v.jsx("div",{className:"w-1.5 h-1.5 bg-brand-orange rounded-full animate-bounce",style:{animationDelay:"150ms"}}),v.jsx("div",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),v.jsx("div",{ref:g})]}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20 bg-gradient-to-t from-space-950 via-space-950/80 to-transparent",children:v.jsxs("div",{className:"max-w-3xl mx-auto glass-panel rounded-2xl p-2 flex items-end gap-2 border-white/10 shadow-[0_0_30px_rgba(0,0,0,0.5)]",children:[v.jsxs("button",{onClick:p,className:"relative flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-xl bg-white/5 hover:bg-white/10 transition-all border border-white/5 text-brand-yellow group",title:"Open Comms",children:[v.jsx("div",{className:"absolute inset-0 bg-brand-yellow/20 blur-md rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),v.jsxs("svg",{className:"relative z-10 group-hover:scale-110 transition-transform",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),v.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),v.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),v.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})]}),v.jsx("textarea",{value:t,onChange:m=>o(m.target.value),onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),r())},placeholder:"...",className:"flex-1 bg-transparent border-none text-white px-4 py-3 text-sm focus:ring-0 placeholder-white/30 resize-none no-scrollbar font-light tracking-wide",rows:1,style:{minHeight:"48px",maxHeight:"120px"}}),v.jsx("button",{onClick:r,disabled:!t.trim()||s,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-white text-space-950 hover:bg-brand-blue/20 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:scale-105 active:scale-95 shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),v.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})})]})},jC=({actions:i,onCompleteAction:t,onShareAction:o,onAskAction:s,onNavigateToChat:r})=>v.jsxs("div",{className:"p-4 md:p-8 pb-24 max-w-3xl mx-auto",children:[v.jsxs("div",{className:"glass-panel p-8 rounded-3xl mb-8 relative overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-brand-yellow/20 blur-[60px] rounded-full group-hover:bg-brand-orange/20 transition-colors duration-1000"}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("h2",{className:"font-serif text-3xl font-bold text-white mb-2 tracking-tight",children:""}),v.jsx("p",{className:"text-brand-blue/70 text-sm font-light",children:""})]})]}),i.length===0?v.jsxs("div",{className:"text-center py-20 glass-panel rounded-3xl border-dashed border-white/10 flex flex-col items-center",children:[v.jsx("div",{className:"text-6xl mb-6 opacity-80 animate-float",children:""}),v.jsx("h3",{className:"text-lg font-medium text-white tracking-wide",children:""}),v.jsxs("p",{className:"text-white/40 text-sm px-8 mt-2 max-w-xs mx-auto font-light",children:["",v.jsx("br",{})," AI "]}),v.jsx("button",{onClick:r,className:"mt-8 px-6 py-3 rounded-full bg-white/10 hover:bg-white/20 border border-white/20 text-white text-sm font-bold uppercase tracking-widest transition-all hover:scale-105",children:" "})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between text-[10px] font-bold text-white/40 uppercase tracking-[0.2em] px-2",children:[v.jsx("span",{children:""}),v.jsxs("span",{children:[i.filter(d=>d.status==="completed").length,"/",i.length," "]})]}),i.map(d=>v.jsxs("div",{className:"relative group",children:[v.jsx(la,{action:d,onComplete:t,onAskCommunity:s}),d.status==="completed"&&!d.isShared&&v.jsx("div",{className:"absolute -right-2 -top-2 animate-bounce z-20",children:v.jsxs("button",{onClick:()=>o(d),className:"bg-brand-orange text-white text-xs font-bold px-4 py-1.5 rounded-full shadow-[0_0_20px_rgba(243,98,35,0.6)] hover:scale-105 transition-transform flex items-center gap-1",children:[v.jsx("span",{children:""})," "]})})]},d.id))]})]}),ZC=({profile:i,completedActions:t})=>{const o=Z.useRef(null),s=Z.useRef({x:-9999,y:-9999}),r=Z.useMemo(()=>{const x=[],S=[],N={SKILL:18,NETWORK:30,ACTION:42};x.push({id:"root",label:"",type:"Root",x:50,y:50});const D=i.tags.length;i.tags.forEach((H,F)=>{const W=F/D*2*Math.PI,K=50+Math.cos(W)*N.SKILL,j=50+Math.sin(W)*N.SKILL;x.push({id:`skill_${F}`,label:H,type:"Skill",x:K,y:j}),S.push({source:"root",target:`skill_${F}`})});const R=[" Sarah","UX ",""," DAO"],V=R.length;R.forEach((H,F)=>{const W=F/V*2*Math.PI+Math.PI/4,K=50+Math.cos(W)*N.NETWORK,j=50+Math.sin(W)*N.NETWORK;x.push({id:`conn_${F}`,label:H,type:"Connection",x:K,y:j}),S.push({source:"root",target:`conn_${F}`})});const Q=t.length;return t.forEach((H,F)=>{const W=F/Q*2*Math.PI+Math.PI/2,K=50+Math.cos(W)*N.ACTION,j=50+Math.sin(W)*N.ACTION,fe=`action_${F}`;x.push({id:fe,label:H.title,type:"Achievement",x:K,y:j});const Y=x.find(O=>O.type==="Skill"&&H.title.toLowerCase().includes(O.label.toLowerCase()));Y?S.push({source:Y.id,target:fe}):S.push({source:"root",target:fe})}),{nodes:x,links:S}},[i.tags,t]),d=Z.useRef({}),p=Z.useRef(0),[g,y]=Z.useState(r.nodes);Z.useEffect(()=>{r.nodes.forEach(x=>{d.current[x.id]||(d.current[x.id]={x:x.x,y:x.y,vx:0,vy:0})}),y(r.nodes)},[r]),Z.useEffect(()=>{let x;const S=()=>{if(!o.current)return;const E=o.current.getBoundingClientRect();p.current+=.001;const C=(s.current.x-E.left)/E.width*100,N=(s.current.y-E.top)/E.height*100,D=r.nodes.map(R=>{const V=d.current[R.id]||{x:R.x,y:R.y,vx:0,vy:0},Q=R.x-50,H=R.y-50,F=Math.sqrt(Q*Q+H*H),K=Math.atan2(H,Q)+p.current,j=50+Math.cos(K)*F,fe=50+Math.sin(K)*F,Y=.008,O=.94,ne=25,$=.3,ae=(j-V.x)*Y,ge=(fe-V.y)*Y;let me=0,I=0;const J=V.x-C,ee=V.y-N,pe=Math.sqrt(J*J+ee*ee);if(pe<ne){const ye=(1-pe/ne)*$;me=J/pe*ye,I=ee/pe*ye}return V.vx=(V.vx+ae+me)*O,V.vy=(V.vy+ge+I)*O,V.x+=V.vx,V.y+=V.vy,d.current[R.id]=V,{...R,x:V.x,y:V.y}});y(D),x=requestAnimationFrame(S)};return x=requestAnimationFrame(S),()=>cancelAnimationFrame(x)},[r.nodes,r.links]);const m=Z.useMemo(()=>{const x={};return g.forEach(S=>x[S.id]=S),x},[g]);return v.jsxs("div",{ref:o,onMouseMove:x=>{s.current={x:x.clientX,y:x.clientY}},className:"w-full h-full flex flex-col items-center justify-center relative overflow-hidden select-none",children:[v.jsxs("div",{className:"absolute inset-0 opacity-30 pointer-events-none",children:[v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[36%] h-[36%] rounded-full border border-[#9FD2E3]/20"}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60%] h-[60%] rounded-full border border-[#6D6D6D]/20"}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[84%] h-[84%] rounded-full border border-[#F36223]/20"})]}),v.jsxs("div",{className:"absolute top-0 left-0 p-8 z-20 pointer-events-none",children:[v.jsx("h1",{className:"font-serif text-3xl font-bold text-white tracking-tight drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]",children:""}),v.jsx("p",{className:"text-[#9FD2E3]/70 text-sm mt-1 max-w-md font-light",children:""})]}),v.jsxs("div",{className:"flex-1 w-full h-full relative z-10 origin-center",children:[v.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:r.links.map((x,S)=>{const E=m[x.source],C=m[x.target];return!E||!C?null:v.jsx("line",{x1:`${E.x}%`,y1:`${E.y}%`,x2:`${C.x}%`,y2:`${C.y}%`,stroke:"#6D6D6D",strokeWidth:"0.5",className:"opacity-40"},S)})}),g.map(x=>{let S="w-3 h-3";x.type==="Root"?S="w-12 h-12":x.type==="Skill"?S="w-5 h-5":x.type==="Achievement"&&(S="w-6 h-6");const E=x.type==="Root"?"bg-[#FDD140] shadow-[0_0_50px_rgba(253,209,64,0.6)]":x.type==="Skill"?"bg-[#9FD2E3] shadow-[0_0_20px_rgba(159,210,227,0.6)]":x.type==="Connection"?"bg-[#6D6D6D] shadow-[0_0_15px_rgba(109,109,109,0.5)]":"bg-[#F36223] shadow-[0_0_25px_rgba(243,98,35,0.6)]",C=x.type==="Root"?"z-30":"z-20";return v.jsxs("div",{className:`absolute transform -translate-x-1/2 -translate-y-1/2 flex items-center justify-center group cursor-pointer ${S} ${C}`,style:{left:`${x.x}%`,top:`${x.y}%`},children:[v.jsx("div",{className:`absolute inset-0 rounded-full transition-transform duration-300 group-hover:scale-125 ${E}`,children:v.jsx("div",{className:"absolute inset-[20%] bg-white rounded-full opacity-30 blur-[1px]"})}),v.jsx("div",{className:`
                absolute top-full left-1/2 transform -translate-x-1/2 mt-3 
                text-[10px] uppercase tracking-widest px-2 py-0.5 rounded-sm backdrop-blur-none
                transition-all duration-300 pointer-events-none whitespace-nowrap
                ${x.type==="Root"?"text-[#FDD140] font-bold tracking-[0.2em]":"text-white/40 group-hover:text-white group-hover:bg-[#000000]/80 group-hover:border group-hover:border-white/20"}
              `,children:x.label})]},x.id)})]}),v.jsxs("div",{className:"absolute bottom-24 md:bottom-8 right-8 flex flex-col gap-3 z-20 glass-panel p-4 rounded-xl pointer-events-none border-white/10 bg-[#000000]/50",children:[v.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-300 uppercase tracking-wider font-bold",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-[#9FD2E3] shadow-[0_0_8px_rgba(159,210,227,0.8)]"})," "]}),v.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-300 uppercase tracking-wider font-bold",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-[#6D6D6D] shadow-[0_0_8px_rgba(109,109,109,0.8)]"})," "]}),v.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-300 uppercase tracking-wider font-bold",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-[#F36223] shadow-[0_0_8px_rgba(243,98,35,0.8)]"})," "]}),v.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-300 uppercase tracking-wider font-bold",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-[#FDD140] shadow-[0_0_8px_rgba(253,209,64,0.8)]"})," "]})]})]})},$C=({posts:i})=>{const[t,o]=Z.useState("recommend"),s=i;return v.jsxs("div",{className:"p-4 md:p-8 pb-28 max-w-3xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-8 gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-serif text-3xl font-bold text-white tracking-tight",children:""}),v.jsx("p",{className:"text-white/40 text-sm mt-1 font-light",children:""})]}),v.jsx("div",{className:"glass-panel p-1 rounded-full flex items-center bg-black/20",children:["recommend","hot","friends"].map(r=>{const d={recommend:"",hot:"",friends:""},p=t===r;return v.jsx("button",{onClick:()=>o(r),className:`
                   px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all duration-300
                   ${p?"bg-white/10 text-white shadow-[0_0_10px_rgba(255,255,255,0.1)]":"text-white/40 hover:text-white/70"}
                 `,children:d[r]},r)})})]}),v.jsx("div",{className:"space-y-6",children:s.map(r=>v.jsxs("div",{className:"glass-panel rounded-3xl p-6 relative group hover:bg-white/5 transition-colors border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"w-12 h-12 rounded-full p-[2px] bg-gradient-to-tr from-brand-blue to-brand-orange",children:v.jsx("img",{src:r.userAvatar,alt:r.userName,className:"w-full h-full rounded-full object-cover border-2 border-space-950"})}),v.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-space-950 rounded-full flex items-center justify-center",children:v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full shadow-[0_0_5px_rgba(34,197,94,0.8)]"})})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white text-sm tracking-wide",children:r.userName}),v.jsx("p",{className:"text-xs text-white/50",children:r.userTitle})]}),v.jsx("span",{className:"ml-auto text-[10px] text-white/30 font-mono tracking-widest uppercase",children:r.timeAgo})]}),v.jsxs("div",{className:"mb-5 pl-16",children:[r.type==="question"&&v.jsx("span",{className:"inline-block bg-brand-blue/10 text-brand-blue text-[10px] font-bold px-2 py-0.5 rounded mb-2 border border-brand-blue/20 tracking-wider",children:" "}),r.type==="success"&&v.jsx("span",{className:"inline-block bg-brand-yellow/10 text-brand-yellow text-[10px] font-bold px-2 py-0.5 rounded mb-2 border border-brand-yellow/20 tracking-wider",children:" "}),v.jsx("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-line font-light",children:r.content})]}),r.actionTaken&&v.jsx("div",{className:"mb-4 pl-16 transform scale-[0.98] origin-left w-full",children:v.jsx(la,{action:r.actionTaken,isFeedView:!0})}),v.jsxs("div",{className:"flex items-center gap-6 text-white/40 text-sm border-t border-white/5 pt-4 pl-16",children:[v.jsxs("button",{className:"flex items-center gap-2 hover:text-brand-orange transition-colors group",children:[v.jsx("svg",{className:"group-hover:scale-110 transition-transform",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),v.jsx("span",{className:"font-mono text-xs",children:r.likes})]}),v.jsxs("button",{className:"flex items-center gap-2 hover:text-white transition-colors",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),v.jsx("span",{className:"font-mono text-xs",children:r.comments})]}),r.type==="question"&&v.jsx("button",{className:"ml-auto flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-brand-blue hover:text-white transition-colors",children:""})]})]},r.id))})]})},WC=({userProfile:i})=>{const t=[{id:"g1",title:"UX ",matchScore:95,members:12,tags:["",""],description:""},{id:"g2",title:"",matchScore:88,members:5,tags:["",""],description:"7"}],o=[{id:"c1",name:"Anna",role:"",avatar:"https://picsum.photos/100/100?random=20"},{id:"c2",name:"Yuqi",role:"",avatar:"https://picsum.photos/100/100?random=21"},{id:"c3",name:"Clara",role:"",avatar:"https://picsum.photos/100/100?random=22"}];return v.jsxs("div",{className:"p-4 md:p-8 pb-28 max-w-5xl mx-auto space-y-8 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-serif text-3xl font-bold text-white tracking-tight",children:""}),v.jsx("p",{className:"text-white/40 text-sm mt-1 font-light",children:""})]}),v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-pulse shadow-[0_0_8px_rgba(253,209,64,0.8)]"}),v.jsx("h3",{className:"text-sm font-bold text-brand-yellow uppercase tracking-widest",children:"AI "})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(s=>v.jsxs("div",{className:"glass-panel p-6 rounded-3xl relative group hover:bg-white/5 transition-all cursor-pointer border border-white/10 hover:border-brand-yellow/30",children:[v.jsxs("div",{className:"absolute top-4 right-4 text-xs font-mono text-brand-blue bg-brand-blue/10 px-2 py-1 rounded border border-brand-blue/20",children:[" ",s.matchScore,"%"]}),v.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:s.title}),v.jsx("p",{className:"text-white/60 text-sm mb-4 font-light",children:s.description}),v.jsxs("div",{className:"flex items-center justify-between mt-4 border-t border-white/5 pt-4",children:[v.jsxs("div",{className:"flex -space-x-2",children:[[...Array(3)].map((r,d)=>v.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-700 border border-space-900"},d)),v.jsxs("div",{className:"w-6 h-6 rounded-full bg-space-800 border border-space-900 flex items-center justify-center text-[8px] text-white",children:["+",s.members]})]}),v.jsx("button",{className:"text-xs font-bold text-white bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full transition-colors",children:""})]})]},s.id))})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-bold text-brand-blue uppercase tracking-widest mb-4",children:""}),v.jsxs("div",{className:"glass-panel p-6 rounded-3xl",children:[v.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto no-scrollbar pb-2",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",children:[v.jsx("div",{className:"w-14 h-14 rounded-full border border-dashed border-white/20 flex items-center justify-center group-hover:border-brand-yellow/50 group-hover:text-brand-yellow transition-all",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),v.jsx("span",{className:"text-[10px] text-white/40 uppercase tracking-wider",children:""})]}),o.map(s=>v.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",children:[v.jsxs("div",{className:"w-14 h-14 rounded-full relative",children:[v.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full rounded-full object-cover border border-white/10 group-hover:border-white/40 transition-all"}),v.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-space-900 rounded-full"})]}),v.jsx("span",{className:"text-xs text-white group-hover:text-brand-blue transition-colors",children:s.name})]},s.id))]}),i&&v.jsxs("div",{className:"mt-4 text-[10px] text-white/30 font-mono uppercase tracking-widest",children:["",i.name,"  ",i.title]})]})]})]})},e2=({profile:i,completedActions:t})=>{const o=[...t].sort((r,d)=>d.createdAt-r.createdAt),s=[{label:"",value:i.title},{label:"",value:i.location||""},{label:"",value:i.tags.length>0?i.tags.slice(0,3).join(", "):"..."},{label:"",value:i.currentState||"..."}];return v.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto min-h-full pb-28",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 relative",children:[v.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:v.jsxs("div",{className:"sticky top-6 space-y-6",children:[v.jsxs("div",{className:"text-center relative glass-panel p-6 rounded-3xl border border-white/10",children:[v.jsxs("div",{className:"relative inline-block group mb-4",children:[v.jsx("div",{className:"absolute inset-[-8px] rounded-full border border-brand-orange/30 animate-[spin_10s_linear_infinite]"}),v.jsx("div",{className:"absolute inset-[-4px] rounded-full border border-brand-blue/30 animate-[spin_15s_linear_infinite_reverse]"}),v.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full relative z-10 overflow-hidden border-2 border-white/20",children:v.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),v.jsx("div",{className:"absolute inset-0 bg-brand-yellow/30 blur-3xl -z-10 rounded-full"})]}),v.jsx("h1",{className:"text-2xl font-serif font-bold text-white tracking-tight",children:i.name}),v.jsx("p",{className:"text-brand-blue/70 font-mono text-[10px] uppercase tracking-widest mt-1",children:i.title}),v.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/5",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-yellow animate-pulse shadow-[0_0_10px_rgba(253,209,64,0.8)]"}),v.jsxs("span",{className:"text-[9px] font-bold text-white uppercase tracking-[0.15em]",children:["LVL ",Math.floor(o.length/3)+1]})]})]}),v.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.map((r,d)=>v.jsxs("div",{className:"flex flex-col p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5",children:[v.jsx("div",{className:"text-[9px] uppercase tracking-[0.2em] text-white/30 font-bold mb-1",children:r.label}),v.jsx("div",{className:"text-xs font-medium text-white truncate",children:r.value})]},d))}),i.tags.length>3&&v.jsxs("div",{className:"p-4 rounded-2xl glass-panel border-white/5",children:[v.jsx("div",{className:"text-[9px] uppercase tracking-[0.2em] text-white/30 font-bold mb-3",children:""}),v.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.tags.slice(3).map(r=>v.jsx("span",{className:"text-[9px] bg-white/5 text-brand-blue px-2 py-1 rounded border border-white/10",children:r},r))})]})]})}),v.jsxs("div",{className:"lg:col-span-8 xl:col-span-9",children:[v.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-white/5",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold font-serif text-white tracking-wide",children:""}),v.jsx("p",{className:"text-xs text-white/40 font-light mt-1",children:""})]}),v.jsxs("span",{className:"text-xs font-mono text-brand-orange bg-brand-orange/10 px-3 py-1 rounded-full border border-brand-orange/20",children:[o.length," "]})]}),o.length===0&&v.jsxs("div",{className:"p-12 rounded-3xl border border-dashed border-white/10 text-white/30 glass-panel text-center flex flex-col items-center justify-center min-h-[300px]",children:[v.jsx("div",{className:"text-4xl opacity-50 mb-4 grayscale",children:""}),v.jsx("p",{className:"font-light text-sm",children:""}),v.jsx("p",{className:"text-xs text-white/20 mt-1",children:""})]}),v.jsxs("div",{className:"relative pl-8 md:pl-10 space-y-8",children:[o.length>0&&v.jsx("div",{className:"absolute top-4 bottom-0 left-[19px] md:left-[23px] w-0.5 bg-gradient-to-b from-brand-yellow/50 via-white/10 to-transparent"}),o.map((r,d)=>{const g=new Date(r.createdAt).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),y=r.tag==="Career"?"text-brand-blue bg-brand-blue/10 border-brand-blue/20":r.tag==="Mental"?"text-brand-yellow bg-brand-yellow/10 border-brand-yellow/20":r.tag==="Networking"?"text-brand-orange bg-brand-orange/10 border-brand-orange/20":"text-brand-blue bg-brand-blue/10 border-brand-blue/20";return v.jsxs("div",{className:"relative group animate-fade-in-up",style:{animationDelay:`${d*100}ms`},children:[v.jsx("div",{className:"absolute -left-[38px] md:-left-[44px] top-6 w-10 h-10 flex items-center justify-center z-10",children:v.jsx("div",{className:"w-3 h-3 rounded-full bg-space-950 border-2 border-brand-yellow shadow-[0_0_10px_rgba(253,209,64,0.5)] group-hover:scale-125 transition-transform"})}),v.jsxs("div",{className:`
                      flex flex-col md:flex-row gap-4 p-5 rounded-2xl border border-white/5 glass-panel
                      hover:bg-white/[0.04] hover:border-white/20 transition-all duration-300
                      hover:shadow-[0_0_30px_rgba(253,209,64,0.05)]
                   `,children:[v.jsxs("div",{className:"md:w-32 flex-shrink-0 flex md:flex-col justify-between md:justify-start gap-2",children:[v.jsx("span",{className:"text-xs font-mono text-white/60 font-bold",children:g}),v.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider px-2 py-0.5 rounded w-fit ${y}`,children:r.tag})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-base font-bold text-white mb-2 group-hover:text-brand-yellow transition-colors leading-tight",children:r.title}),v.jsx("p",{className:"text-xs text-gray-400 leading-relaxed font-light mb-3",children:r.description}),v.jsxs("div",{className:"flex items-center gap-3",children:[r.isShared&&v.jsxs("span",{className:"text-[10px] flex items-center gap-1 text-brand-orange bg-brand-orange/5 px-2 py-1 rounded-full border border-brand-orange/10",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),v.jsx("polyline",{points:"16 6 12 2 8 6"}),v.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]}),v.jsxs("span",{className:"text-[10px] text-white/20 font-mono ml-auto",children:["+",r.estimatedTimeMinutes," XP"]})]})]})]})]},r.id)})]})]})]})})},bu={name:"CC",avatar:"https://i.pravatar.cc/150?u=cc_creator",tagline:"CONTENT CREATOR",identity:"MAKER",role:"",location:"",mood:"",goal:"",mission:""},t2=[{id:"tp1",date:"2023.01.15",title:"",description:"10w+",type:se.EXPERIENCE,shapeVariant:1,rotation:10,x:-100,y:-100,author:{name:"CC",avatar:""}},{id:"tp2",date:"2023.03.20",title:"",description:"500",type:se.EXPERIENCE,shapeVariant:3,rotation:-5,x:50,y:-50,author:{name:"CC",avatar:""}},{id:"tp3",date:"2023.08.10",title:"",description:"",type:se.EXPERIENCE,shapeVariant:2,rotation:8,x:200,y:-120,author:{name:"CC",avatar:""}},{id:"tp4",date:"2023.06.20",title:"",description:"",type:se.DIFFICULTY,shapeVariant:2,rotation:-5,x:150,y:50,author:{name:"CC",avatar:""}},{id:"tp5",date:"2023.09.05",title:"",description:"",type:se.DIFFICULTY,shapeVariant:4,rotation:12,x:-150,y:150,author:{name:"CC",avatar:""}},{id:"tp6",date:"2024.01.01",title:"",description:"8",type:se.DIFFICULTY,shapeVariant:1,rotation:-8,x:250,y:200,author:{name:"CC",avatar:""}},{id:"tp7",date:"2023.11.11",title:"",description:"10",type:se.GOAL,shapeVariant:3,rotation:5,x:-50,y:250,author:{name:"CC",avatar:""}},{id:"tp8",date:"2024.02.01",title:"",description:"",type:se.GOAL,shapeVariant:4,rotation:-2,x:300,y:0,author:{name:"CC",avatar:""}},{id:"tp9",date:"2024.05.01",title:"",description:"",type:se.GOAL,shapeVariant:1,rotation:15,x:100,y:320,author:{name:"CC",avatar:""}}],n2=()=>{const[i,t]=Z.useState(Oe.LANDING),[o,s]=Z.useState(!1),[r,d]=Z.useState(Oe.MY_MAP),[p,g]=Z.useState(void 0),[y,m]=Z.useState(Oe.INSIGHT_SUMMARY),[x,S]=Z.useState("insight"),[E,C]=Z.useState([]),[N,D]=Z.useState([]),[R,V]=Z.useState([{id:"p1",userAvatar:"https://picsum.photos/100/100?random=1",userName:"Sarah Chen",userTitle:" UX ",content:"AI 3App15",likes:42,comments:5,timeAgo:"2",type:"success",category:"hot",actionTaken:{id:"a_mock_1",title:"3App",description:"3",tag:"Skill",estimatedTimeMinutes:15,status:"completed",createdAt:Date.now(),isShared:!0,difficulty:"Low Friction"}}]),[Q,H]=Z.useState(vl),[F,W]=Z.useState(null),[K,j]=Z.useState(!0),[fe,Y]=Z.useState(!1),[O,ne]=Z.useState(null),[$,ae]=Z.useState(null),[ge,me]=Z.useState(null),[I,J]=Z.useState(!1),[ee,pe]=Z.useState(""),[ye,b]=Z.useState(!1),[z,X]=Z.useState(0),[ie,he]=Z.useState([{id:"welcome",role:"model",text:" On Her Way",timestamp:Date.now()}]),de={name:($==null?void 0:$.name)||"Explorer",title:($==null?void 0:$.title)||"",avatar:($==null?void 0:$.avatar)||"https://picsum.photos/200",tags:N,xp:E.filter(re=>re.status==="completed").length*10,location:$==null?void 0:$.location,currentState:$==null?void 0:$.currentState,coreValues:$==null?void 0:$.coreValues,role_detail:$==null?void 0:$.role_detail,experience:$==null?void 0:$.experience,hassle:$==null?void 0:$.hassle,goal:$==null?void 0:$.goal},we=re=>{if(re.length===0)return;const ke=re.map((De,Qe)=>{const vt=De.startsWith("User:"),$e=De.replace(/^(User:|Mentor:)\s*/,"");return{id:`voice_${Date.now()}_${Qe}`,role:vt?"user":"model",text:$e,timestamp:Date.now()}});he(De=>[...De,...ke])},ze=async re=>{const{transcriptionHistory:ke,reason:De}=re;if(s(!1),De!=="ended"){t(r);return}if(t(Oe.INSIGHT_SUMMARY),S("chat"),ke.length!==0){if(we(ke),K){Y(!0);try{const Qe=await JC(ke),vt=await XC(Qe);ne({...Qe,avatar:vt})}finally{Y(!1)}return}J(!0);try{const Qe=await FC(ke);me(Qe),Qe.newTags&&Qe.newTags.length>0&&D(vt=>Array.from(new Set([...vt,...Qe.newTags])))}finally{J(!1)}}},Le=re=>{C(ke=>ke.some(De=>De.id===re.id)?ke:[{...re,status:re.status||"pending",createdAt:re.createdAt||Date.now(),isShared:re.isShared||!1},...ke]),S("plan")},ei=re=>{C(ke=>ke.map(De=>De.id!==re?De:{...De,status:"completed"}))},Ei=re=>{C(De=>De.map(Qe=>Qe.id===re.id?{...Qe,isShared:!0}:Qe));const ke={id:`post_${Date.now()}`,userAvatar:de.avatar,userName:de.name,userTitle:de.title,content:` "${re.title}"

`,likes:0,comments:0,timeAgo:"",type:"success",category:"hot",actionTaken:{...re,isShared:!0}};V(De=>[ke,...De]),S("community")},vo=re=>{const ke={id:`post_q_${Date.now()}`,userAvatar:de.avatar,userName:de.name,userTitle:de.title,content:`AI  "${re.title}"

`,likes:0,comments:0,timeAgo:"",type:"question",category:"recommend",actionTaken:re};V(De=>[ke,...De]),S("community")},Tl=()=>{O&&ae(O),ne(null),j(!1),S("chat")},sn=async()=>{if(!ee.trim())return;const re={id:Date.now().toString(),role:"user",text:ee,timestamp:Date.now()},ke=[...ie,re];he(ke),pe(""),b(!0);const De=z+1;X(De);const Qe=!K&&De>=3,vt=await OC(re.text,ke.map(At=>At.text),Qe),$e={id:(Date.now()+1).toString(),role:"model",text:vt.empatheticResponse,timestamp:Date.now()};vt.suggestedActions&&vt.suggestedActions.length>0&&($e.suggestedActions=vt.suggestedActions.map((At,_i)=>({id:`act_${Date.now()}_${_i}`,status:"pending",createdAt:Date.now(),isShared:!1,title:At.title,description:At.description,tag:At.tag,estimatedTimeMinutes:At.estimatedTimeMinutes,difficulty:At.difficulty})),X(0)),b(!1),he(At=>[...At,$e])},yo=re=>{C(De=>De.some(Qe=>Qe.id===re.id)?De:[{...re,status:re.status||"pending",createdAt:re.createdAt||Date.now(),isShared:re.isShared||!1},...De]);const ke=re.sourceInsightType==="Problem"?se.DIFFICULTY:re.sourceInsightType==="Goal"?se.GOAL:(re.sourceInsightType==="Strength",se.EXPERIENCE);W({initialType:ke,initialTitle:re.title||"",initialContent:re.description||""})},xo=re=>{const ke=Math.floor(Math.random()*4)+1,De=Math.floor(Math.random()*21)-10,Qe=Math.floor(Math.random()*401)-200,vt=Math.floor(Math.random()*401)-200,$e=new Date().toISOString().slice(0,10).replace(/-/g,"."),At={id:`my_${Date.now()}`,date:$e,title:re.title,description:re.description,type:re.type,shapeVariant:ke,rotation:De,x:Qe,y:vt,author:{name:($==null?void 0:$.name)||"Me",avatar:($==null?void 0:$.avatar)||"https://picsum.photos/200"}};H(_i=>[At,..._i]),W(null),t(Oe.INSIGHT_SUMMARY)},Sl=re=>{m(i);const ke={...bu,name:re.name||bu.name,avatar:re.avatar||bu.avatar};g(ke),t(Oe.THEIR_MAP)},El=()=>{t(y),g(void 0)};return i===Oe.LANDING?v.jsx(_y,{onStart:()=>t(Oe.MY_MAP)}):v.jsxs("div",{className:"w-screen h-screen bg-black text-white overflow-hidden relative font-sans",children:[v.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none stars"}),i!==Oe.INSIGHT_SUMMARY&&v.jsx(Ey,{currentView:i,onSwitch:re=>{t(re),re===Oe.INSIGHT_SUMMARY&&S("insight")},onCallStart:()=>{d(i),s(!0)}}),v.jsxs("div",{className:"relative w-full h-full",children:[v.jsxs("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out ${i===Oe.MY_MAP||i===Oe.THEIR_MAP?"opacity-100 translate-x-0 scale-100":"opacity-0 -translate-x-[20%] scale-90 pointer-events-none"}`,children:[v.jsx(vy,{user:i===Oe.THEIR_MAP?p:void 0,onBack:i===Oe.THEIR_MAP?El:void 0}),v.jsx(yy,{puzzles:i===Oe.THEIR_MAP?t2:Q})]}),v.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out ${i===Oe.COMMUNITY?"opacity-100 translate-x-0 scale-100 z-20":"opacity-0 translate-x-[20%] scale-90 pointer-events-none z-0"}`,children:v.jsx(xy,{onBack:()=>t(Oe.MY_MAP),onVisitProfile:Sl})}),v.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out ${i===Oe.INSIGHT_SUMMARY?"opacity-100 translate-x-0 scale-100 z-30":"opacity-0 translate-x-[20%] scale-90 pointer-events-none z-0"}`,children:i===Oe.INSIGHT_SUMMARY&&v.jsx(Cy,{activeView:x,setActiveView:S,pendingActionsCount:E.filter(re=>re.status==="pending").length,children:x==="insight"?v.jsx(Sy,{onBack:()=>t(Oe.MY_MAP),onVisitProfile:Sl}):x==="plan"?v.jsx(jC,{actions:E,onCompleteAction:ei,onShareAction:Ei,onAskAction:vo,onNavigateToChat:()=>S("chat")}):x==="resources"?v.jsx(ZC,{profile:de,completedActions:E.filter(re=>re.status==="completed")}):x==="community"?v.jsx($C,{posts:R}):x==="network"?v.jsx(WC,{userProfile:de}):x==="profile"?v.jsx(e2,{profile:de,completedActions:E.filter(re=>re.status==="completed")}):v.jsx(QC,{messages:ie,inputText:ee,setInputText:pe,isTyping:ye,onSendMessage:sn,onAddAction:Le,onStartVoice:()=>{d(Oe.INSIGHT_SUMMARY),s(!0)}})})}),o&&v.jsx("div",{className:"fixed inset-0 z-[90]",children:v.jsx(PC,{onClose:ze})})]}),(I||fe)&&v.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 backdrop-blur-sm flex items-center justify-center animate-fade-in",children:v.jsxs("div",{className:"bg-space-900 border border-white/10 p-8 rounded-3xl shadow-2xl flex flex-col items-center",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-brand-yellow border-t-transparent rounded-full animate-spin mb-6"}),v.jsx("h3",{className:"text-white font-serif text-xl font-bold",children:fe?"...":"..."}),v.jsx("p",{className:"text-white/50 text-sm mt-2 font-light",children:fe?"":""})]})}),O&&v.jsx(qC,{profile:O,onContinue:Tl}),ge&&v.jsx(KC,{analysis:ge,onAddAction:yo,onClose:()=>me(null)}),F&&v.jsx(Fm,{initialType:F.initialType,initialTitle:F.initialTitle,initialContent:F.initialContent,onClose:()=>W(null),onPublish:xo})]})},z0=document.getElementById("root");if(!z0)throw new Error("Could not find root element to mount to");const i2=hy.createRoot(z0);i2.render(v.jsx(wu.StrictMode,{children:v.jsx(n2,{})}));
